"use strict";(self["webpackChunkideao"]=self["webpackChunkideao"]||[]).push([[993],{1963:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Le});a(71);var i=a(3673),o=a(2323);const t=e=>((0,i.dD)("data-v-3a1026e0"),e=e(),(0,i.Cn)(),e),s={class:"wrapper"},n={class:"menu"},u=t((()=>(0,i._)("img",{class:"icon",src:"img/menu_50X50.svg"},null,-1))),c={class:"menu-wrapper"},r={class:"menu-item"},v=t((()=>(0,i._)("img",{src:"img/camera_45X45.svg"},null,-1))),d={class:"menu-item"},g=t((()=>(0,i._)("img",{src:"img/resolution_45X45.svg"},null,-1))),m={class:"menu-item"},p=t((()=>(0,i._)("img",{src:"img/zoom_45X45.svg"},null,-1))),h={class:"zoomInOut"},_={class:"text"},w={class:"menu-item"},f=t((()=>(0,i._)("img",{src:"img/rotation_45X45.svg"},null,-1))),b={class:"menu-item-right",style:{"justify-content":"start"}},y={class:"menu-item"},S=t((()=>(0,i._)("img",{src:"img/mirror_45X45.svg"},null,-1))),k={class:"menu-item"},x=t((()=>(0,i._)("img",{src:"img/flip_45X45.svg"},null,-1))),H={class:"menu-item"},V=t((()=>(0,i._)("img",{src:"img/freeze_45X45.svg"},null,-1))),z={class:"menu-item"},C=t((()=>(0,i._)("img",{src:"img/reset_45X45.svg"},null,-1))),P={class:"setting"},O=t((()=>(0,i._)("img",{class:"icon",src:"img/setting_50X50.svg"},null,-1))),R={class:"menu-wrapper"},I={class:"menu-item"},X=t((()=>(0,i._)("img",{src:"img/G_45X45.svg"},null,-1))),A={class:"menu-item-right"},D={class:"menu-item"},M=t((()=>(0,i._)("img",{src:"img/cloud-file-location_45X45.svg"},null,-1))),L={class:"menu-item"},F=t((()=>(0,i._)("img",{src:"img/microphone_45X45.svg"},null,-1))),T={class:"menu-item-right"},W={class:"menu-item"},U=t((()=>(0,i._)("img",{src:"img/video-resolution_45X45.svg"},null,-1))),q={class:"menu-item"},E=t((()=>(0,i._)("img",{src:"img/timer_45X45.svg"},null,-1))),j={class:"menu-item"},Z=t((()=>(0,i._)("img",{src:"img/refresh-rate_45X45.svg"},null,-1))),Y=t((()=>(0,i._)("div",{class:"menu-item div-fti"},[(0,i._)("img",{src:"img/fti-logo_H48.svg",class:"fti-logo"}),(0,i._)("span",null,"Â© Fun Technology Innovation Inc. All rights reserved.")],-1))),Q={class:"logo"},B=t((()=>(0,i._)("img",{class:"icon",src:"img/ideaocam_H35.svg"},null,-1))),G={key:0,class:"icon",src:"img/full-screen_50X50.svg"},N={key:1,class:"icon",src:"img/exit-full-screen_50X50.svg"},J=t((()=>(0,i._)("div",{class:"icon-wrapper"},[(0,i._)("img",{class:"icon",src:"img/snapshot_40X40.svg"})],-1))),K=t((()=>(0,i._)("div",{class:"text"},"Snapshot & Record",-1))),$=[J,K],ee=t((()=>(0,i._)("div",{class:"stop-motion"},[(0,i._)("div",{class:"icon-wrapper"},[(0,i._)("img",{class:"icon",src:"img/stop-motion_40X40.svg"})]),(0,i._)("div",{class:"text"},"Stop Motion")],-1))),le={class:"countdown"},ae={class:"camera"},ie=t((()=>(0,i._)("div",null,null,-1))),oe=t((()=>(0,i._)("div",null,null,-1))),te={class:"shot-camera-film"},se={class:"shot"},ne={class:"camera"},ue={class:"film"},ce=["src"],re=["src"],ve=["src"],de={ref:"canvas",style:{display:"none",position:"absolute",left:"0",top:"0",opacity:"0.5"}},ge={class:"photo-wrapper"},me={class:"splide__arrows"},pe=["src"];function he(e,l,a,t,J,K){const he=(0,i.up)("q-resize-observer"),_e=(0,i.up)("combobox2"),we=(0,i.up)("q-slider"),fe=(0,i.up)("q-menu"),be=(0,i.up)("q-toggle"),ye=(0,i.up)("q-radio"),Se=(0,i.up)("router-link"),ke=(0,i.up)("q-circular-progress"),xe=(0,i.up)("q-btn"),He=(0,i.up)("SplideSlide"),Ve=(0,i.up)("Splide");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",s,[(0,i.Wm)(he,{onResize:e.onResize},null,8,["onResize"]),(0,i._)("div",n,[u,(0,i.Wm)(fe,{anchor:"bottom left",self:"top left",offset:[0,15],style:{"border-radius":"15px"}},{default:(0,i.w5)((()=>[(0,i._)("div",c,[(0,i._)("div",r,[v,(0,i._)("div",null,[(0,i.Wm)(_e,{options:e.cameraDeviceList,"option-label":"label","option-value":"value",modelValue:e.cameraDevice,"onUpdate:modelValue":l[0]||(l[0]=l=>e.cameraDevice=l),style:{width:"100%",height:"30px"}},null,8,["options","modelValue"])])]),(0,i._)("div",d,[g,(0,i._)("div",null,[(0,i.Wm)(_e,{options:e.resolutionList,"option-label":"label","option-value":"value",modelValue:e.resolution,"onUpdate:modelValue":l[1]||(l[1]=l=>e.resolution=l),style:{width:"100%",height:"30px"}},null,8,["options","modelValue"])])]),(0,i._)("div",m,[p,(0,i._)("div",h,[(0,i._)("div",_,(0,o.zw)(1==(e.zoomInOutSlider/10).toString().length?(e.zoomInOutSlider/10).toString()+".0":(e.zoomInOutSlider/10).toString())+" x ",1),(0,i._)("img",{class:"minus",src:"img/minus_20X20.svg",onClick:l[2]||(l[2]=(...l)=>e.zoomOut&&e.zoomOut(...l))}),(0,i.Wm)(we,{modelValue:e.zoomInOutSlider,"onUpdate:modelValue":l[3]||(l[3]=l=>e.zoomInOutSlider=l),min:10,max:60,step:1,dark:"",color:"ideao",class:"menu-slider"},null,8,["modelValue"]),(0,i._)("img",{class:"plus",src:"img/plus_20X20.svg",onClick:l[4]||(l[4]=(...l)=>e.zoomIn&&e.zoomIn(...l))})])]),(0,i._)("div",w,[f,(0,i._)("div",b,[(0,i.Wm)(_e,{options:e.angleList,"option-label":"label","option-value":"value",modelValue:e.angle,"onUpdate:modelValue":l[5]||(l[5]=l=>e.angle=l),style:{width:"150px",height:"30px"}},null,8,["options","modelValue"]),(0,i._)("img",{src:"img/CW_25X25.svg",class:"cw",onClick:l[6]||(l[6]=(...l)=>e.nextRotate&&e.nextRotate(...l))}),(0,i._)("img",{src:"img/CCW_25X25.svg",class:"ccw",onClick:l[7]||(l[7]=(...l)=>e.previousRotate&&e.previousRotate(...l))})])]),(0,i._)("div",y,[S,(0,i._)("div",{class:"button",onClick:l[8]||(l[8]=l=>e.isMirror=!e.isMirror)},"Mirror")]),(0,i._)("div",k,[x,(0,i._)("div",{class:"button",onClick:l[9]||(l[9]=l=>e.isFlip=!e.isFlip)},"Flip")]),(0,i._)("div",H,[V,(0,i._)("div",{class:"button",onClick:l[10]||(l[10]=(...l)=>e.toggleFreeze&&e.toggleFreeze(...l))},"Freeze")]),(0,i._)("div",z,[C,(0,i._)("div",{class:"button",onClick:l[11]||(l[11]=(...l)=>e.reset&&e.reset(...l))},"Reset")])])])),_:1})]),(0,i._)("div",P,[O,(0,i.Wm)(fe,{anchor:"bottom left",self:"top left",offset:[0,15],style:{"border-radius":"15px"}},{default:(0,i.w5)((()=>[(0,i._)("div",R,[(0,i._)("div",I,[X,(0,i._)("div",A,[(0,i._)("div",null,(0,o.zw)(e.username),1),e.googleOAuth2.isAuthorized.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"button",onClick:l[12]||(l[12]=(...l)=>e.googleSignIn&&e.googleSignIn(...l))}," Sign in ")),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"button",onClick:l[13]||(l[13]=(...l)=>e.googleSignOut&&e.googleSignOut(...l))}," Sign out ")):(0,i.kq)("",!0)])]),(0,i._)("div",D,[M,(0,i._)("div",null,[(0,i.Wm)(_e,{options:e.fileLocationList,"option-label":"label","option-value":"value",modelValue:e.fileLocation,"onUpdate:modelValue":l[14]||(l[14]=l=>e.fileLocation=l),style:{width:"100%",height:"30px"}},null,8,["options","modelValue"])])]),(0,i._)("div",L,[F,(0,i._)("div",T,[(0,i.Wm)(be,{modelValue:e.isMic,"onUpdate:modelValue":l[15]||(l[15]=l=>e.isMic=l),class:"toggle-mic"},null,8,["modelValue"]),(0,i.Wm)(_e,{options:e.microDeviceList,"option-label":"label","option-value":"value",modelValue:e.microDevice,"onUpdate:modelValue":l[16]||(l[16]=l=>e.microDevice=l),style:{width:"300px",height:"30px"}},null,8,["options","modelValue"])])]),(0,i._)("div",W,[U,(0,i._)("div",null,[(0,i.Wm)(_e,{options:e.videoResolutionList,"option-label":"label","option-value":"value",modelValue:e.videoResolution,"onUpdate:modelValue":l[17]||(l[17]=l=>e.videoResolution=l),style:{width:"100%",height:"30px"}},null,8,["options","modelValue"])])]),(0,i._)("div",q,[E,(0,i._)("div",null,[(0,i.Wm)(_e,{options:e.cameraCountdownSettingList,"option-label":"label","option-value":"value",modelValue:e.cameraCountdownSetting,"onUpdate:modelValue":l[18]||(l[18]=l=>e.cameraCountdownSetting=l),style:{width:"100%",height:"30px"}},null,8,["options","modelValue"])])]),(0,i._)("div",j,[Z,(0,i._)("div",null,[(0,i.Wm)(ye,{modelValue:e.refreshRate,"onUpdate:modelValue":l[19]||(l[19]=l=>e.refreshRate=l),val:50,label:"50 Hz",style:{"margin-right":"25px"},color:"orange"},null,8,["modelValue"]),(0,i.Wm)(ye,{modelValue:e.refreshRate,"onUpdate:modelValue":l[20]||(l[20]=l=>e.refreshRate=l),val:60,label:"60 Hz",color:"orange"},null,8,["modelValue"])])]),Y])])),_:1})]),(0,i._)("div",Q,[(0,i.Wm)(Se,{to:"/info"},{default:(0,i.w5)((()=>[B])),_:1})]),(0,i._)("div",{class:"full-screen",onClick:l[21]||(l[21]=l=>e.isFullScreen=!e.isFullScreen)},[e.isFullScreen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",G)),e.isFullScreen?((0,i.wg)(),(0,i.iD)("img",N)):(0,i.kq)("",!0)]),(0,i._)("div",{class:"snapshot-record",onClick:l[22]||(l[22]=(...l)=>e.snapshotAndRecord&&e.snapshotAndRecord(...l))},$),ee,(0,i._)("div",le,[(0,i._)("div",ae,[e.cameraCountdown>0?((0,i.wg)(),(0,i.j4)(ke,{key:0,"show-value":"",value:e.cameraCountdownProgress,"font-size":"30px",size:"60px",thickness:.15,color:"white"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.cameraCountdown),1)])),_:1},8,["value","thickness"])):(0,i.kq)("",!0)]),ie,oe]),(0,i._)("div",te,[(0,i._)("div",se,"Shot "+(0,o.zw)(e.motionPhotos.length),1),(0,i._)("div",ne,[(0,i._)("img",{class:"icon",src:"img/camera_round_80X80.svg",onClick:l[23]||(l[23]=(...l)=>e.useCamera&&e.useCamera(...l))})]),(0,i._)("div",ue,[(0,i._)("img",{class:"icon",src:"img/film_round_80X80.svg",onClick:l[24]||(l[24]=(...l)=>e.goStopMotionEdit&&e.goStopMotionEdit(...l))})])]),(0,i._)("div",{class:"thumbnail",onClick:l[25]||(l[25]=(...l)=>e.goViewer&&e.goViewer(...l))},[""!=e.thumbnail?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.thumbnail},null,8,ce)):(0,i.kq)("",!0),""!==e.outputVideoURL?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.outputVideoURL},null,8,re)):(0,i.kq)("",!0)]),(0,i._)("div",{ref:"cameraWapper",class:(0,o.C_)({"camera-screen":!0,rotation:1==e.angle.value||3==e.angle.value,"full-screen-mode":e.isFullScreen})},[e.motionPhotoSelected&&""!=e.motionPhotoSelected.src?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"localPhoto",src:e.motionPhotoSelected.src},null,8,ve)):(0,i.kq)("",!0),(0,i._)("video",{ref:"localVideo",autoplay:"",playsinline:"",muted:"",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)"+(e.isMirror?" scaleX(-1)":"")+(e.isFlip?" scaleY(-1)":"")})}," Video stream not available. ",4)],2),(0,i._)("canvas",de,null,512)]),(0,i._)("div",ge,[(0,i._)("div",me,[(0,i.Wm)(xe,{class:"splide__arrow splide__arrow--prev","text-color":"white",icon:"arrow_back_ios_new",size:"33px",onClick:l[26]||(l[26]=l=>e.photoCarousel.go("-1"))}),(0,i.Wm)(xe,{class:"splide__arrow splide__arrow--next","text-color":"white",icon:"arrow_forward_ios",size:"33px",onClick:l[27]||(l[27]=l=>e.photoCarousel.go("+1"))})]),(0,i.Wm)(Ve,{options:e.options,ref:"photoCarousel","onSplide:active":e.photoActive,style:{width:"min-content"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.motionPhotos,(e=>((0,i.wg)(),(0,i.j4)(He,{key:e},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.src},null,8,pe)])),_:2},1024)))),128))])),_:1},8,["options","onSplide:active"])])],64)}a(979),a(6105),a(2396);var _e=a(1959),we=a(9582),fe=a(3617),be=a(8825),ye=a(958),Se=a(3659),ke=a(4898),xe=a(7958);const He=(0,i.aZ)({name:"PageIndex",components:{combobox2:ke.Z,Splide:xe.tv,SplideSlide:xe.jw},setup(){const e={type:"slide",gap:"50px",pagination:!1,fixedWidth:315,fixedHeight:177,cover:!0,isNavigation:!0,arrows:!1},l=(0,_e.iH)(),a=(0,we.tv)(),o=(0,fe.oR)(),t=(0,be.Z)(),{guidHelper:s}=(0,ye.Z)(),n=(0,_e.iH)(!0),u=(0,_e.iH)(),c=(0,_e.iH)(),r=(0,_e.iH)(),v=(0,_e.iH)(""),d=(0,_e.iH)(!1),g=(0,_e.iH)(!1),m=(0,_e.iH)(!1),p=(0,_e.iH)("00"),h=(0,_e.iH)("00"),_=(0,_e.iH)(!1),w=(0,_e.iH)(!1),f=(0,_e.iH)(!0),b=(0,_e.iH)({label:"ideaocam files on google drive",value:"ideaocam files"}),y=(0,_e.iH)([{label:"ideaocam files on google drive",value:"ideaocam files"}]),S=(0,_e.iH)({label:"480 P",value:0}),k=(0,_e.iH)([{label:"480 P",value:0},{label:"720 P",value:1},{label:"1080 P",value:2}]),x=(0,_e.iH)({label:"Off",value:0}),H=(0,_e.iH)([{label:"Off",value:0},{label:"1s",value:1},{label:"2s",value:2},{label:"3s",value:3},{label:"4s",value:4},{label:"5s",value:5}]),V=(0,_e.iH)(0),z=(0,_e.iH)(0),C=(0,_e.iH)(""),P=(0,_e.iH)(),O=(0,_e.iH)([]),R=(0,_e.iH)(),I=(0,_e.iH)([]),X=(0,_e.iH)({label:"640 X 480",value:0}),A=(0,_e.iH)([{label:"640 X 480",value:0},{label:"800 X 600",value:1},{label:"1024 X 768",value:2},{label:"1280 X 720",value:3}]),D=(0,_e.iH)({label:"0Â°",value:0}),M=(0,_e.iH)([{label:"0Â°",value:0},{label:"90Â°",value:1},{label:"180Â°",value:2},{label:"270Â°",value:3}]),L=(0,_e.iH)(10),F=(0,_e.iH)(!1),T=(0,_e.iH)(!1),W=(0,_e.iH)(50),U=(0,_e.iH)("Link your Google account"),q=(0,_e.iH)({width:"calc(100vw - 180px)",height:"calc((100vw - 180px) / 4 * 3)",left:"calc(50% - calc(100vw - 180px) / 2)"}),E=(0,_e.iH)();let j=null,Z=null,Y=[];const Q=(0,_e.Fl)((()=>o.getters["extension/viewers"])),B=e=>o.dispatch("extension/setViewers",e),G=(0,_e.Fl)((()=>o.getters["extension/googleDriveFolder"])),N=e=>o.dispatch("extension/setGoogleDriveFolder",e),J=(0,_e.Fl)((()=>o.getters["extension/motionPhotos"])),K=(0,_e.Fl)((()=>{var e=o.getters["extension/motionPhotos"].find((e=>!0===e.selected));return e})),$=e=>o.dispatch("extension/addMotionPhoto",e),ee=e=>o.dispatch("extension/setMotionPhotoSelected",e);(0,i.YP)(Se.googleOAuth2.isAuthorized,(async e=>{if(e)if(Se.googleOAuth2.isAuthorized.value){var l=Se.googleOAuth2.currentUser.getBasicProfile();U.value=l.getEmail()}else U.value="Link your Google account";else U.value="Link your Google account"})),(0,i.YP)(b,(async e=>{e&&N(e)})),(0,i.YP)(R,(async e=>{e&&!n.value&&await ie()})),(0,i.YP)(P,(async e=>{e&&!n.value&&await ie()})),(0,i.YP)(X,(async e=>{e&&!n.value&&await ie()})),(0,i.YP)(W,(async e=>{e&&!n.value&&await ie()})),(0,i.YP)(d,(async e=>{n.value||(d.value?t.fullscreen.request():t.fullscreen.exit())})),(0,i.YP)((()=>t.fullscreen.isActive),(e=>{d.value=t.fullscreen.isActive})),(0,i.bv)((async()=>{if(N(b.value),Se.googleOAuth2.isAuthorized.value){var e=Se.googleOAuth2.currentUser.getBasicProfile();U.value=e.getEmail()}else U.value="Link your Google account";await le(),await ae(),await ie(),ce(),void 0==K.value&&o.getters["extension/motionPhotos"].length>0&&ee(o.getters["extension/motionPhotos"][0]),n.value=!1}));const le=async()=>{let e=await navigator.mediaDevices.enumerateDevices(),l=e.filter((e=>"videoinput"===e.kind));for(let a in l)O.value.push({label:l[a].label,value:l[a].deviceId});P.value=O.value[0]},ae=async()=>{let e=await navigator.mediaDevices.enumerateDevices(),l=e.filter((e=>"audioinput"===e.kind));for(let a in l)I.value.push({label:l[a].label,value:l[a].deviceId});R.value=I.value[0]},ie=async()=>{let e=w.value?parseInt(S.value.label.split(" ")[0])/3*4:X.value.label.split(" X ")[0],l=w.value?parseInt(S.value.label.split(" ")[0]):X.value.label.split(" X ")[1];try{j=await navigator.mediaDevices.getUserMedia({audio:{deviceId:R.value.value},video:{deviceId:P.value.value,width:{exact:e},height:{exact:l},frameRate:{ideal:W.value}}})}catch(a){X.value=A.value[0],j=await navigator.mediaDevices.getUserMedia({audio:{deviceId:R.value.value},video:{deviceId:P.value.value,width:{ideal:X.value.label.split(" X ")[0]},height:{ideal:X.value.label.split(" X ")[1]},frameRate:{ideal:W.value}}})}u.value.srcObject=j,u.value.onloadedmetadata=function(e){u.value.play()},Z=new MediaRecorder(j),Z.addEventListener("dataavailable",oe)},oe=e=>{Y.push(e.data)};let te=null,se=10737418240,ne=0,ue=window.requestFileSystem||window.webkitRequestFileSystem;const ce=()=>{navigator.webkitPersistentStorage.requestQuota(se,(function(e){ne=e,ue(window.PERSISTENT,e,(function(e){te=e}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))},re=async(e,l,a,i)=>{var o={name:e,mimeType:l,parents:[i]},t=gapi.auth.getToken().access_token,s=new FormData;s.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),s.append("file",a);let n=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+t}),body:s});return n.json()},ve=async e=>{let l={role:"reader",type:"anyone"};var a=gapi.auth.getToken().access_token;await fetch("https://www.googleapis.com/drive/v3/files/"+e+"/permissions",{method:"POST",headers:new Headers({Authorization:"Bearer "+a,"Content-Type":"application/json"}),body:JSON.stringify(l)})},de=async e=>{let l="trashed=false and 'me' in owners and mimeType='application/vnd.google-apps.folder'";l+=" and '"+e+"' in parents";let a=await Se.googleOAuth2.instanceClient.drive.files.list({fields:"nextPageToken, files(id, name, mimeType, modifiedTime, parents)",q:l,orderBy:"name"});return a},ge=async()=>{c.value.width=j.getVideoTracks()[0].getSettings().width,c.value.height=j.getVideoTracks()[0].getSettings().height;let e=c.value.getContext("2d");e.mozImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1,e.imageSmoothingQuality="high",1===D.value.value||3===D.value.value?(c.value.width=j.getVideoTracks()[0].getSettings().height,c.value.height=j.getVideoTracks()[0].getSettings().width,e.translate(c.value.width/2,c.value.height/2),e.rotate(90*D.value.value*Math.PI/180),L.value>10&&e.scale(L.value/10,L.value/10),F.value&&e.scale(-1,1),T.value&&e.scale(1,-1),e.translate(-c.value.height/2,-c.value.width/2)):(e.translate(c.value.width/2,c.value.height/2),e.rotate(90*D.value.value*Math.PI/180),L.value>10&&e.scale(L.value/10,L.value/10),F.value&&e.scale(-1,1),T.value&&e.scale(1,-1),e.translate(-c.value.width/2,-c.value.height/2)),e.drawImage(u.value,0,0);let l=c.value.toDataURL("image/jpeg");v.value=l,C.value="";let a="",i="image/jpeg",o=xe()+".jpg";if(Se.googleOAuth2.isAuthorized.value){const e=atob(l.split(",")[1]),t=[];for(let l=0;l<e.length;l++)t.push(e.charCodeAt(l));let s=new Blob([new Uint8Array(t)],{type:i}),n=await de("root"),u=n.result.files.find((e=>e.name==G.value.value)),c=await re(o,i,s,u.id);await ve(c.id),a="https://drive.google.com/thumbnail?authuser=0&sz=w640&id="+c.id}else a=l;let t={id:s(),type:"image",mimeType:i,filename:o,src:a,createTime:new Date,isUpload:Se.googleOAuth2.isAuthorized.value,isStopMotion:!0},n=Object.assign([],Q.value);n.push(t),B(n),$(t),ee(t)},me=async()=>{if(!w.value){if(_.value=!0,x.value.value>0){V.value=x.value.value,z.value=1;let e=setInterval((async()=>{V.value-=1,z.value=1/(x.value.value-1)*(x.value.value-V.value)*100,0==V.value&&(clearInterval(e),await ie(),setTimeout((()=>{ge()}),100))}),1e3)}else await ie(),setTimeout((()=>{ge()}),100);_.value=!1}},pe=()=>{f.value=!f.value,j.getAudioTracks().forEach((e=>{e.enabled=f.value}))},he=()=>{j.getTracks().forEach((function(e){e.stop()})),j=null,a.push({path:"/viewer"})},xe=()=>{let e=new Date,l=e.getFullYear(),a=("00"+(e.getMonth()+1)).slice(-2),i=("00"+e.getDate()).slice(-2),o=("00"+e.getHours()).slice(-2),t=("00"+e.getMinutes()).slice(-2),s=("00"+e.getSeconds()).slice(-2),n=("00"+e.getMilliseconds()).slice(-3),u=l+"-"+a+"-"+i+"_"+o+"-"+t+"-"+s+"-"+n;return u},He=()=>{let e=(0==D.value.value?3:D.value.value-1)%M.value.length;D.value=M.value.find((l=>l.value==e))},Ve=()=>{let e=(D.value.value+1)%M.value.length;D.value=M.value.find((l=>l.value==e))},ze=()=>{60!=L.value&&(L.value=L.value+1)},Ce=()=>{10!=L.value&&(L.value=L.value-1)},Pe=()=>{u.value.paused?u.value.play():u.value.pause()},Oe=()=>{L.value=10,D.value=M.value[0],F.value=!1,T.value=!1,u.value.play()},Re=async()=>{Se.googleOAuth2.handleAuthClick()},Ie=async()=>{await Se.googleOAuth2.handleDisconnectClick()},Xe=e=>{e.width<1024||(e.width-180>=(window.innerHeight-100)/3*4?(q.value.width="calc((100vh - 100px) / 3 * 4)",q.value.height="calc(100vh - 100px)",q.value.left="calc(50% - calc((100vh - 100px) / 3 * 4) / 2)"):(q.value.width="calc(100vw - 180px)",q.value.height="calc((100vw - 180px) / 4 * 3)",q.value.left="calc(50% - calc(100vw - 180px) / 2)"))},Ae=()=>{a.push({path:"/"})},De=()=>{a.push({path:"/StopMotionEdit"})},Me=e=>{let l=J.value.find(((l,a)=>a==e.index));ee(l)};return{options:e,photoCarousel:l,combobox2:ke.Z,viewers:Q,localVideo:u,canvas:c,outputVideo:r,thumbnail:v,isFullScreen:d,isVideoMode:g,isPause:m,videoMinutes:p,videoSeconds:h,isMic:f,fileLocation:b,fileLocationList:y,videoResolution:S,videoResolutionList:k,cameraCountdownSetting:x,cameraCountdownSettingList:H,cameraCountdown:V,cameraCountdownProgress:z,outputVideoURL:C,cameraDevice:P,cameraDeviceList:O,microDevice:R,microDeviceList:I,resolution:X,resolutionList:A,angle:D,angleList:M,zoomInOutSlider:L,motionPhotos:J,setMotionPhotoSelected:ee,motionPhotoSelected:K,isMirror:F,isFlip:T,refreshRate:W,username:U,googleOAuth2:Se.googleOAuth2,useCamera:me,useMic:pe,cameraScreenStyle:q,cameraWapper:E,goViewer:he,previousRotate:He,nextRotate:Ve,zoomIn:ze,zoomOut:Ce,toggleFreeze:Pe,reset:Oe,googleSignIn:Re,googleSignOut:Ie,onResize:Xe,snapshotAndRecord:Ae,goStopMotionEdit:De,photoActive:Me}}});var Ve=a(4260),ze=a(5151),Ce=a(6335),Pe=a(5153),Oe=a(4620),Re=a(7991),Ie=a(6122),Xe=a(6114),Ae=a(7518),De=a.n(Ae);const Me=(0,Ve.Z)(He,[["render",he],["__scopeId","data-v-3a1026e0"]]),Le=Me;De()(He,"components",{QResizeObserver:ze.Z,QMenu:Ce.Z,QSlider:Pe.Z,QToggle:Oe.Z,QRadio:Re.Z,QCircularProgress:Ie.Z,QBtn:Xe.Z})}}]);