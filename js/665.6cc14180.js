"use strict";(self["webpackChunkideao"]=self["webpackChunkideao"]||[]).push([[665],{4665:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Be});a(71);var i=a(3673),o=a(2323);const t=e=>((0,i.dD)("data-v-1858277c"),e=e(),(0,i.Cn)(),e),s={class:"wrapper"},n=t((()=>(0,i._)("img",{class:"icon",src:"img/previous_50X50.svg"},null,-1))),r=[n],u=t((()=>(0,i._)("div",{class:"google-classroom"},null,-1))),c=t((()=>(0,i._)("img",{class:"icon",src:"img/select-multiple_50X50.svg"},null,-1))),d=[c],g=t((()=>(0,i._)("img",{class:"icon",src:"img/thumbnail_50X50.svg"},null,-1))),v=[g],m={key:0,class:"icon",src:"img/full-screen_50X50.svg"},w={key:1,class:"icon",src:"img/exit-full-screen_50X50.svg"},p={key:0,class:"viewer-left"},f={class:"main"},_={class:"viewer",ref:"divViewer"},k=["src"],h=["src"],y={key:2,class:"viewer-right"},D={key:3,class:"viewer-bottom"},C={class:"rotate"},b=t((()=>(0,i._)("img",{class:"rotation",src:"img/rotation_45X45.svg"},null,-1))),S={class:"zoomInOut"},V=t((()=>(0,i._)("img",{class:"zoom",src:"img/zoom_45X45.svg"},null,-1))),O={class:"text"},x={key:4,class:"thumbnail-wrapper"},z={class:"thumbnail-main"},W=["onClick"],q=(0,i.Uk)("Delete"),A=(0,i.Uk)("Upload"),F=(0,i.Uk)("Download"),H=(0,i.Uk)("Open in a new tab"),M=["src"],U=["src"],I=t((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-drive-normal_H35.svg"})],-1))),X={src:"img/esc_20X20.svg"},N={class:"folder-wrapper"},Z={class:"folder-header"},Y=t((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),B=[Y],Q=t((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),P=t((()=>(0,i._)("img",{src:"img/enter-folder_15X15.svg"},null,-1))),T={class:"upload-wrapper"},L=["src"],j=["src"],R=(0,i.Uk)("Cancel"),E=[R],G=t((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),K=[G],J=t((()=>(0,i._)("div",{class:"icon"},[(0,i._)("img",{src:"img/add-folder_80X80.svg"})],-1))),$=t((()=>(0,i._)("div",{class:"text"},"New folder",-1))),ee=(0,i.Uk)("Cancel"),le=[ee],ae=(0,i.Uk)("Create"),ie=[ae],oe=t((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),te=[oe],se=t((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/exclamation_110X110.svg"})],-1))),ne=t((()=>(0,i._)("div",{class:"text"},"Do you want to delete the file?",-1))),re=(0,i.Uk)("YES"),ue=[re],ce=(0,i.Uk)("NO"),de=[ce];function ge(e,l,a,t,n,c){const g=(0,i.up)("q-btn"),Y=(0,i.up)("combobox"),R=(0,i.up)("q-slider"),G=(0,i.up)("q-item-section"),ee=(0,i.up)("q-item"),ae=(0,i.up)("q-list"),oe=(0,i.up)("q-menu"),re=(0,i.up)("q-card-section"),ce=(0,i.up)("q-card-actions"),ge=(0,i.up)("q-card"),ve=(0,i.up)("q-dialog"),me=(0,i.up)("q-input"),we=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",s,[(0,i._)("div",{class:"previous",onClick:l[0]||(l[0]=(...l)=>e.goBack&&e.goBack(...l))},r),u,(0,i._)("div",{class:"google-drive",onClick:l[1]||(l[1]=(...l)=>e.displayGoogleDriveDialog&&e.displayGoogleDriveDialog(...l))}),(0,i._)("div",{class:"download",onClick:l[2]||(l[2]=l=>e.download())}),(0,i._)("div",{class:"trash",onClick:l[3]||(l[3]=l=>e.confirmDeleteViewerDialog=!0)}),(0,i._)("div",{class:"select-mutiple",onClick:l[4]||(l[4]=l=>e.selectMultiple=!e.selectMultiple)},d),(0,i._)("div",{class:"thumbnail",onClick:l[5]||(l[5]=l=>e.isViewerMode=!e.isViewerMode)},v),(0,i._)("div",{class:"full-screen",onClick:l[6]||(l[6]=l=>e.isFullScreen=!e.isFullScreen)},[e.isFullScreen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",m)),e.isFullScreen?((0,i.wg)(),(0,i.iD)("img",w)):(0,i.kq)("",!0)]),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(g,{"text-color":"white",icon:"arrow_back_ios_new",size:"33px",onClick:e.viewerPrevious},null,8,["onClick"])])):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,o.C_)({"viewer-main":!0,"full-screen-mode":e.isFullScreen})},[(0,i._)("div",f,[(0,i._)("div",_,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src,style:(0,o.j5)({display:"none",transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%"})},null,12,k)):(0,i.kq)("",!0),"image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("canvas",{key:1,onMousedown:l[7]||(l[7]=(...l)=>e.viewerDown&&e.viewerDown(...l)),onMousemove:l[8]||(l[8]=(...l)=>e.viewerMove&&e.viewerMove(...l)),ref:"viewerCanvas",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%",left:"0px",top:"0px"})},null,36)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:2,src:e.viewer.src,controls:""},null,8,h)):(0,i.kq)("",!0)],512)])],2)):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",y,[(0,i.Wm)(g,{"text-color":"white",icon:"arrow_forward_ios",size:"33px",onClick:e.viewerNext},null,8,["onClick"])])):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("div",C,[b,(0,i.Wm)(Y,{options:e.angleList,"option-label":"label","option-value":"value",modelValue:e.angle,"onUpdate:modelValue":l[9]||(l[9]=l=>e.angle=l),class:"combobox"},null,8,["options","modelValue"]),(0,i._)("img",{class:"cw",src:"img/CW_25X25.svg",onClick:l[10]||(l[10]=(...l)=>e.nextRotate&&e.nextRotate(...l))}),(0,i._)("img",{class:"ccw",src:"img/CCW_25X25.svg",onClick:l[11]||(l[11]=(...l)=>e.previousRotate&&e.previousRotate(...l))})]),(0,i._)("div",S,[V,(0,i._)("div",O,(0,o.zw)(1==(e.zoomInOutSlider/10).toString().length?(e.zoomInOutSlider/10).toString()+".0":(e.zoomInOutSlider/10).toString())+" x ",1),(0,i._)("img",{class:"minus",src:"img/minus_20X20.svg",onClick:l[12]||(l[12]=(...l)=>e.zoomOut&&e.zoomOut(...l))}),(0,i.Wm)(R,{modelValue:e.zoomInOutSlider,"onUpdate:modelValue":l[13]||(l[13]=l=>e.zoomInOutSlider=l),min:10,max:60,step:1,dark:"",color:"ideao",class:"slider"},null,8,["modelValue"]),(0,i._)("img",{class:"plus",src:"img/plus_20X20.svg",onClick:l[14]||(l[14]=(...l)=>e.zoomIn&&e.zoomIn(...l))})])])):(0,i.kq)("",!0),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("div",z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.viewers,(a=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({item:!0}),key:a.id,onClick:l=>e.setViewerSelected({data:a,selected:!a.selected,selectMultiple:e.selectMultiple})},[e.selectMultiple?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)({"selected-number":!0,"selected-true":0!==a.order})},(0,o.zw)(0==a.order?"":a.order),3)):(0,i.kq)("",!0),(0,i.Wm)(oe,{"touch-position":"","context-menu":"",onBeforeShow:l=>e.setViewerSelected({data:a,selected:!0,selectMultiple:e.selectMultiple})},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{dense:"",style:{"min-width":"100px"}},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(ee,{clickable:"",onClick:l[15]||(l[15]=l=>e.confirmDeleteViewerDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(G,null,{default:(0,i.w5)((()=>[q])),_:1})])),_:1},512),[[we]]),(0,i.wy)((0,i.Wm)(ee,{clickable:"",onClick:e.displayGoogleDriveDialog},{default:(0,i.w5)((()=>[(0,i.Wm)(G,null,{default:(0,i.w5)((()=>[A])),_:1})])),_:1},8,["onClick"]),[[we]]),(0,i.wy)((0,i.Wm)(ee,{clickable:"",onClick:l[16]||(l[16]=l=>e.download())},{default:(0,i.w5)((()=>[(0,i.Wm)(G,null,{default:(0,i.w5)((()=>[F])),_:1})])),_:1},512),[[we]]),(0,i.wy)((0,i.Wm)(ee,{clickable:"",tag:"a",target:"_blank",href:a.src},{default:(0,i.w5)((()=>[(0,i.Wm)(G,null,{default:(0,i.w5)((()=>[H])),_:1})])),_:2},1032,["href"]),[[we]])])),_:2},1024)])),_:2},1032,["onBeforeShow"]),(0,i._)("div",{class:(0,o.C_)({viewer:!0,selected:a.selected})},["image"===a.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:a.src},null,8,M)):(0,i.kq)("",!0),"video"===a.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:a.src},null,8,U)):(0,i.kq)("",!0)],2),(0,i._)("div",{class:(0,o.C_)({filename:!0,selected:a.selected})},(0,o.zw)(a.filename),3)],8,W)))),128))])]))]),(0,i.Wm)(ve,{modelValue:e.googleDriveDialog,"onUpdate:modelValue":l[22]||(l[22]=l=>e.googleDriveDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ge,{class:"google-drive-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,{class:"card-header"},{default:(0,i.w5)((()=>[I,(0,i._)("div",null,[(0,i._)("div",null,(0,o.zw)(e.name),1),(0,i._)("div",null,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.googleOAuth2.isAuthorized.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[17]||(l[17]=(...l)=>e.googleSignIn&&e.googleSignIn(...l))}," Sign in ")),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[18]||(l[18]=(...l)=>e.googleSignOut&&e.googleSignOut(...l))}," Sign out ")):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i.wy)((0,i._)("img",X,null,512),[[we]])])])),_:1}),(0,i.Wm)(re,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",N,[(0,i._)("div",Z,[e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.j4)(g,{key:0,flat:"",dense:"",onClick:l[19]||(l[19]=l=>e.previousFolder())},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.driveFolderName),1)])),_:1})):(0,i.kq)("",!0),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"add-folder",onClick:l[20]||(l[20]=(...l)=>e.displayFolderDialog&&e.displayFolderDialog(...l))},B)):(0,i.kq)("",!0)]),(0,i.Wm)(ae,{dense:"",class:"folder-body"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.driveList,(l=>((0,i.wg)(),(0,i.j4)(ee,{key:l.id,clickable:"",active:e.clickFolder===l.name,"active-class":"selected",onClick:a=>e.clickFolder=l.name,onDblclick:a=>e.chooseFolder(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(G,{avatar:""},{default:(0,i.w5)((()=>[Q])),_:1}),(0,i.Wm)(G,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.name),1)])),_:2},1024),(0,i.Wm)(G,{avatar:"",align:"right"},{default:(0,i.w5)((()=>[P])),_:1})])),_:2},1032,["active","onClick","onDblclick"])))),128))])),_:1})]),(0,i._)("div",T,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=3})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,L)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,j)):(0,i.kq)("",!0)],2)))),128))])])),_:1}),(0,i.Wm)(ce,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,E,512),[[we]]),(0,i._)("div",{onClick:l[21]||(l[21]=(...l)=>e.imageUpload&&e.imageUpload(...l))},"Upload")])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(ve,{modelValue:e.folderDialog,"onUpdate:modelValue":l[25]||(l[25]=l=>e.folderDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ge,{class:"new-folder-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,{class:"close-section"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,K,512),[[we]])])),_:1}),(0,i.Wm)(re,{class:"icon-section"},{default:(0,i.w5)((()=>[J,$])),_:1}),(0,i.Wm)(re,{class:"input-section"},{default:(0,i.w5)((()=>[(0,i.Wm)(me,{"hide-bottom-space":"",borderless:"",modelValue:e.newFolderName,"onUpdate:modelValue":l[23]||(l[23]=l=>e.newFolderName=l),"input-class":"text-center","input-style":{height:"30px"},placeholder:"New folder name"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(ce,{align:"center",class:"button-section"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,le,512),[[we]]),(0,i.wy)((0,i._)("div",{onClick:l[24]||(l[24]=(...l)=>e.createNewFolder&&e.createNewFolder(...l))},ie,512),[[we]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(ve,{modelValue:e.confirmDeleteViewerDialog,"onUpdate:modelValue":l[27]||(l[27]=l=>e.confirmDeleteViewerDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ge,{class:"confirmCard"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,{class:"close"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,te,512),[[we]])])),_:1}),(0,i.Wm)(re,{class:"items-center text-center"},{default:(0,i.w5)((()=>[se,ne])),_:1}),(0,i.Wm)(ce,{align:"center",class:"button"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",{onClick:l[26]||(l[26]=l=>e.deleteSelectedViewer())},ue,512),[[we]]),(0,i.wy)((0,i._)("div",null,de,512),[[we]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(979),a(6105),a(2396);var ve=a(1959),me=a(3617),we=a(9582),pe=a(3659);const fe=e=>((0,i.dD)("data-v-b11955de"),e=e(),(0,i.Cn)(),e),_e=fe((()=>(0,i._)("img",{src:"img/triangle-up_30X30.svg"},null,-1))),ke=["onClick"];function he(e,l,a,t,s,n){return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({"combobox-wrapper":!0,focus:e.toggle})},[(0,i._)("div",{class:"select",onClick:l[0]||(l[0]=l=>e.toggle=!e.toggle)},[(0,i.Uk)((0,o.zw)(e.props.modelValue[e.props.optionLabel])+" ",1),_e]),(0,i._)("div",{class:(0,o.C_)({options:!0,updown:e.toggle}),style:(0,o.j5)({bottom:30*e.props.options.length+30+"px"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.props.options,(l=>((0,i.wg)(),(0,i.iD)("div",{class:"option",key:l,onClick:a=>e.change(l)},(0,o.zw)(l[e.props.optionLabel]),9,ke)))),128))],6)],2)}const ye=(0,i.aZ)({name:"combobox",props:{modelValue:{type:Object,default(){return{}}},options:{type:Array,default(){return[]}},optionLabel:{type:String,default:""},optionValue:{type:String,default:""},direction:{type:String,default:"down"}},emits:["update:modelValue"],setup(e,{emit:l}){const a=(0,ve.iH)(!1);(0,i.bv)((()=>{}));const o=e=>{l("update:modelValue",e),a.value=!1};return{toggle:a,props:e,change:o}}});var De=a(4260);const Ce=(0,De.Z)(ye,[["render",he],["__scopeId","data-v-b11955de"]]),be=Ce,Se=(0,i.aZ)({name:"PageViewer",components:{combobox:be},setup(){const e=(0,we.tv)(),l=(0,me.oR)(),a=(0,ve.iH)(!0),o=(0,ve.iH)(0),t=(0,ve.iH)(!1),s=(0,ve.iH)(!1),n=(0,ve.iH)(""),r=(0,ve.iH)(!1),u=(0,ve.iH)(1),c=(0,ve.iH)(""),d=(0,ve.iH)([]),g=(0,ve.iH)([]),v=(0,ve.iH)(!1),m=(0,ve.iH)(""),w=(0,ve.iH)(""),p=(0,ve.iH)(""),f=(0,ve.iH)(!1),_=(0,ve.iH)({label:"0°",value:0}),k=(0,ve.iH)([{label:"0°",value:0},{label:"90°",value:1},{label:"180°",value:2},{label:"270°",value:3}]),h=(0,ve.iH)(10),y=(0,ve.iH)(),D=(0,ve.iH)({}),C=(0,ve.iH)(),b=e=>l.dispatch("extension/setViewerSelected",e),S=()=>l.dispatch("extension/clearViewerSelected"),V=e=>l.dispatch("extension/deleteViewer",e),O=(0,ve.Fl)((()=>l.getters["extension/viewers"])),x=(0,ve.Fl)((()=>{var e=O.value.filter((e=>!0===e.selected));return e}));(0,i.YP)(pe.googleOAuth2.isAuthorized,(async e=>{if(e&&pe.googleOAuth2.isAuthorized.value){var l=await B({id:"root",name:"My Drive"}),a=l.result.files.some((e=>"ideaocam files"==e.name));a||await Y("ideaocam files","root");var i=l.result.files.some((e=>"ideaocam classroom"==e.name));i||await Y("ideaocam classroom","root"),pe.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=pe.googleOAuth2.currentUser.getBasicProfile();m.value=e.result.names[0].displayName,w.value=l.getEmail()})),1===o.value?(t.value=!0,d.value.push({id:"root",name:"My Drive"}),c.value=d.value[d.value.length-1].name,await Z(d.value[d.value.length-1])):o.value}})),(0,i.YP)(_,(async e=>{e&&(1!==e.value&&3!==e.value||(y.value.style.transform=""))})),(0,i.YP)(a,(async e=>{e&&(D.value=O.value[0],setTimeout((()=>{W()}),0))})),(0,i.YP)(f,(async e=>{e||S()})),(0,i.wF)((()=>{D.value=O.value[0]})),(0,i.bv)((async()=>{W()}));const z=()=>{e.go(-1)},W=()=>{if("image"===D.value.type){let e=y.value.getContext("2d");const l=new Image;l.src=D.value.src,y.value.width=l.width,y.value.height=l.height,l.onload=()=>{e.drawImage(l,0,0,l.width,l.height)}}},q=async()=>{if(o.value=1,pe.googleOAuth2.isAuthorized.value){var e=await B({id:"root",name:"My Drive"}),l=e.result.files.some((e=>"ideaocam files"==e.name));l||await Y("ideaocam files","root");var a=e.result.files.some((e=>"ideaocam classroom"==e.name));a||await Y("ideaocam classroom","root"),pe.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=pe.googleOAuth2.currentUser.getBasicProfile();m.value=e.result.names[0].displayName,w.value=l.getEmail()})),t.value=!0,d.value.push({id:"root",name:"My Drive"}),c.value=d.value[d.value.length-1].name,await Z(d.value[d.value.length-1])}else await U()},A=()=>{s.value=!s.value},F=async()=>{await Y(n.value,d.value[d.value.length-1].id),await Z(d.value[d.value.length-1]),s.value=!1},H=async(e,l,a,i)=>{var o={name:e,mimeType:l,parents:[i]},t=gapi.auth.getToken().access_token,s=new FormData;s.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),s.append("file",a),await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+t}),body:s}).then((e=>e.json())).then((function(e){console.log(e)}))},M=async()=>{let e=O.value.filter((e=>!0===e.selected));for(let l in e){let a=null;if("video"===e[l].type){let i=await fetch(e[l].src);a=await i.blob()}else{let i=e[l].src;const o=atob(i.split(",")[1]),t=[];for(let e=0;e<o.length;e++)t.push(o.charCodeAt(e));a=new Blob([new Uint8Array(t)],{type:e[l].mimeType})}await H(e[l].filename,e[l].mimeType,a,d.value[d.value.length-1].id)}t.value=!1},U=async()=>{pe.googleOAuth2.handleAuthClick()},I=async()=>{await pe.googleOAuth2.handleDisconnectClick(),t.value=!1,g.value=[]},X=async()=>{1!=d.value.length&&(d.value.pop(),await Z(d.value[d.value.length-1]))},N=async e=>{d.value.push(e),await Z(e)},Z=async e=>{var l=await B(e);c.value=d.value[d.value.length-1].name,g.value=l.result.files},Y=async(e,l)=>{await pe.googleOAuth2.instanceClient.drive.files.create({resource:{name:e,parents:[l],mimeType:"application/vnd.google-apps.folder"},fields:"id,parents"})},B=async e=>{let l="trashed=false and 'me' in owners and mimeType='application/vnd.google-apps.folder'";l+=" and '"+e.id+"' in parents";let a=await pe.googleOAuth2.instanceClient.drive.files.list({fields:"nextPageToken, files(id, name, mimeType, modifiedTime, parents)",q:l,orderBy:"name"});return a},Q=async()=>{let e=O.value.filter((e=>!0===e.selected));for(let l in e)V(e[l])},P=()=>{let e=O.value.filter((e=>!0===e.selected));for(let a in e){var l=document.createElement("a");l.download=e[a].filename,l.href=e[a].src,l.click(),l.remove()}},T=()=>{if(0==_.value.value)return;let e=_.value.value-1;_.value=k.value.find((l=>l.value==e))},L=()=>{if(_.value.value==k.value.length-1)return;let e=_.value.value+1;_.value=k.value.find((l=>l.value==e))},j=()=>{60!=h.value&&(h.value+=1)},R=()=>{10!=h.value&&(h.value-=1)};let E,G;const K=e=>{E=e.pageX,G=e.pageY},J=e=>{if(e.buttons){let l=0,a=0;e.pageX-E!==0&&(l=E-e.pageX,E=e.pageX),e.pageY-G!==0&&(a=G-e.pageY,G=e.pageY),0===l&&0===a||(console.log(l,a),C.value.scrollBy(l,a))}},$=()=>{let e=O.value.indexOf(D.value);0!=e&&(D.value=O.value[e-1],W())},ee=()=>{let e=O.value.indexOf(D.value);e!=O.value.length-1&&(D.value=O.value[e+1],W())};return{googleOAuth2:pe.googleOAuth2,isViewerMode:a,googleDriveDialog:t,folderDialog:s,newFolderName:n,isFullScreen:r,slide:u,viewer:D,viewers:O,viewersSelected:x,driveFolderName:c,driveLocation:d,driveList:g,confirmDeleteViewerDialog:v,name:m,username:w,clickFolder:p,selectMultiple:f,angle:_,angleList:k,zoomInOutSlider:h,viewerCanvas:y,divViewer:C,goBack:z,setViewerSelected:b,displayGoogleDriveDialog:q,displayFolderDialog:A,createNewFolder:F,googleSignIn:U,googleSignOut:I,previousFolder:X,chooseFolder:N,deleteSelectedViewer:Q,download:P,imageUpload:M,previousRotate:T,nextRotate:L,zoomIn:j,zoomOut:R,combobox:be,viewerDown:K,viewerMove:J,viewerPrevious:$,viewerNext:ee}}});var Ve=a(6114),Oe=a(5153),xe=a(6335),ze=a(7011),We=a(3414),qe=a(2035),Ae=a(5926),Fe=a(151),He=a(5589),Me=a(9367),Ue=a(1206),Ie=a(6003),Xe=a(677),Ne=a(7518),Ze=a.n(Ne);const Ye=(0,De.Z)(Se,[["render",ge],["__scopeId","data-v-1858277c"]]),Be=Ye;Ze()(Se,"components",{QBtn:Ve.Z,QSlider:Oe.Z,QMenu:xe.Z,QList:ze.Z,QItem:We.Z,QItemSection:qe.Z,QDialog:Ae.Z,QCard:Fe.Z,QCardSection:He.Z,QCardActions:Me.Z,QInput:Ue.Z,QCarousel:Ie.Z}),Ze()(Se,"directives",{ClosePopup:Xe.Z})}}]);