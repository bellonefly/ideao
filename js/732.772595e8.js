"use strict";(self["webpackChunkideao"]=self["webpackChunkideao"]||[]).push([[732],{3421:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ta});a(71),a(246);var i=a(3673),o=a(2323),t=a(8880);const s=e=>((0,i.dD)("data-v-3755dc70"),e=e(),(0,i.Cn)(),e),n={class:"wrapper"},r=s((()=>(0,i._)("img",{class:"icon",src:"img/previous_50X50.svg"},null,-1))),c=[r],u={key:0,class:"icon",src:"img/thumbnail_50X50.svg"},d={key:1,class:"icon",src:"img/back to viewer_50X50.svg"},v={key:0,class:"icon",src:"img/full-screen_50X50.svg"},m={key:1,class:"icon",src:"img/exit-full-screen_50X50.svg"},g={class:"viewer-wrapper"},w=s((()=>(0,i._)("div",{class:"download-img"},null,-1))),p=s((()=>(0,i._)("div",{class:"download-text"},"Download",-1))),h=[w,p],f=s((()=>(0,i._)("div",{class:"trash-img"},null,-1))),_=s((()=>(0,i._)("div",{class:"trash-text"},"Delete",-1))),y=[f,_],k=s((()=>(0,i._)("img",{class:"icon",src:"img/select-multiple_50X50.svg"},null,-1))),D=s((()=>(0,i._)("div",{class:"select-mutiple-text"},"Select",-1))),b=[k,D],C={class:"viewer-left"},S=["src"],V=["src"],x={class:"viewer-right"},H={key:1,class:"viewer-thumbnail"},O={class:"viewer-thumbnail-main"},I=["onClick"],q=(0,i.Uk)("Delete"),W=(0,i.Uk)("Upload"),z=(0,i.Uk)("Download"),F=(0,i.Uk)("Open in a new tab"),A=["src"],U=["src"],T={key:2,class:"viewer-footer"},M={class:"rotate"},N=s((()=>(0,i._)("img",{class:"rotation",src:"img/rotation_45X45.svg"},null,-1))),P={class:"zoomInOut"},G=s((()=>(0,i._)("img",{class:"zoom",src:"img/zoom_45X45.svg"},null,-1))),X={class:"text"},Z=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-classroom-normal_H35.svg"})],-1))),L={class:"text"},R={class:"text"},B=s((()=>(0,i._)("div",{class:"text"},"Sign in",-1))),Q=[B],E=s((()=>(0,i._)("div",{class:"text"},"Sign out",-1))),j=[E],Y={class:"folder-wrapper"},K={class:"form"},J={class:"form-item"},$=s((()=>(0,i._)("div",{class:"header"},"Type",-1))),ee={class:"form-item"},le=s((()=>(0,i._)("div",{class:"header"},"For",-1))),ae={key:0,class:"form-item"},ie=s((()=>(0,i._)("div",{class:"header"},"Point",-1))),oe={key:1,class:"form-item"},te=s((()=>(0,i._)("div",{class:"header"},"Due",-1))),se=["min"],ne={key:2,class:"form-item"},re=s((()=>(0,i._)("div",{class:"header"},"Topic",-1))),ce={key:3,class:"form-item title"},ue=s((()=>(0,i._)("div",{class:"header"},"Title",-1))),de={class:"form-item description"},ve=s((()=>(0,i._)("div",{class:"header"},"Description (optional)",-1))),me={key:4,class:"form-item options"},ge={class:"header"},we=["onUpdate:modelValue"],pe=["onClick"],he={key:5,class:"form-item add-option"},fe=s((()=>(0,i._)("img",{src:"img/plus_20X20.svg"},null,-1))),_e=s((()=>(0,i._)("div",null,"Add option",-1))),ye=[fe,_e],ke={class:"multiple"},De=s((()=>(0,i._)("label",{for:"true"},[(0,i._)("div",{class:"text"},"Multiple choise")],-1))),be={class:"upload-wrapper"},Ce=["src"],Se=["src"],Ve={key:1,class:(0,o.C_)({large:!0})},xe=["src"],He=["src"],Oe={class:"button"},Ie=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),qe=[Ie],We=s((()=>(0,i._)("div",{class:"text"},"Assign",-1))),ze=[We],Fe=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-drive-normal_H35.svg"})],-1))),Ae={class:"text"},Ue={class:"text"},Te=s((()=>(0,i._)("div",{class:"text"},"Sign in",-1))),Me=[Te],Ne=s((()=>(0,i._)("div",{class:"text"},"Sign out",-1))),Pe=[Ne],Ge={class:"folder-wrapper"},Xe={class:"folder-header"},Ze=s((()=>(0,i._)("img",{src:"img/previous_folder_10X10.svg"},null,-1))),Le=s((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),Re=[Le],Be=s((()=>(0,i._)("img",{src:"img/folder_25X25.svg"},null,-1))),Qe=s((()=>(0,i._)("img",{src:"img/enter-folder_15X15.svg"},null,-1))),Ee={class:"upload-wrapper"},je=["src"],Ye=["src"],Ke={key:1,class:(0,o.C_)({large:!0})},Je=["src"],$e=["src"],el={class:"button"},ll=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),al=[ll],il=s((()=>(0,i._)("div",{class:"text"},"Upload",-1))),ol=[il],tl={class:"close"},sl=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),nl=[sl],rl=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/add-folder_50X50.svg"})],-1))),cl=s((()=>(0,i._)("div",{class:"text"},"New folder",-1))),ul={class:"button"},dl=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),vl=[dl],ml=s((()=>(0,i._)("div",{class:"text"},"Create",-1))),gl=[ml],wl={class:"close"},pl=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),hl=[pl],fl=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/excalmation_50X50.svg"})],-1))),_l=s((()=>(0,i._)("div",{class:"text"},"Delete the file?",-1))),yl={class:"button"},kl=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),Dl=[kl],bl=s((()=>(0,i._)("div",{class:"text"},"Delete",-1))),Cl=[bl],Sl={class:"close"},Vl=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),xl=[Vl],Hl=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/excalmation_50X50.svg"})],-1))),Ol=s((()=>(0,i._)("div",{class:"text"},"Select at least one file.",-1))),Il={class:"button"},ql=s((()=>(0,i._)("div",{class:"text"},"OK",-1))),Wl=[ql];function zl(e,l,a,s,r,w){const p=(0,i.up)("q-btn"),f=(0,i.up)("q-item-section"),_=(0,i.up)("q-item"),k=(0,i.up)("q-list"),D=(0,i.up)("q-menu"),B=(0,i.up)("combobox"),E=(0,i.up)("q-slider"),fe=(0,i.up)("q-card-section"),_e=(0,i.up)("combobox2"),Ie=(0,i.up)("q-card-actions"),We=(0,i.up)("q-card"),Te=(0,i.up)("q-dialog"),Ne=(0,i.up)("q-input"),Le=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",n,[(0,i._)("div",{class:"previous",onClick:l[0]||(l[0]=(...l)=>e.onGoBack&&e.onGoBack(...l))},c),(0,i._)("div",{class:"thumbnail",onClick:l[1]||(l[1]=l=>e.isViewerMode=!e.isViewerMode)},[e.isViewerMode?((0,i.wg)(),(0,i.iD)("img",u)):(0,i.kq)("",!0),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",d))]),(0,i._)("div",{class:"full-screen",onClick:l[2]||(l[2]=l=>{e.isViewerMode&&(e.isFullScreen=!e.isFullScreen)})},[e.isFullScreen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",v)),e.isFullScreen?((0,i.wg)(),(0,i.iD)("img",m)):(0,i.kq)("",!0)]),(0,i._)("div",g,[(0,i._)("div",{class:(0,o.C_)({"viewer-header":!0,"thumbnail-mode":!e.isViewerMode})},[(0,i._)("div",{class:"google-classroom",onClick:l[3]||(l[3]=(...l)=>e.onDisplayGoogleClassroomDialog&&e.onDisplayGoogleClassroomDialog(...l))}),(0,i._)("div",{class:"google-drive",onClick:l[4]||(l[4]=(...l)=>e.onDisplayGoogleDriveDialog&&e.onDisplayGoogleDriveDialog(...l))}),(0,i._)("div",{class:"download",onClick:l[5]||(l[5]=l=>e.onDownload())},h),(0,i._)("div",{class:"trash",onClick:l[6]||(l[6]=(...l)=>e.onConfirmDeleteViewerDialog&&e.onConfirmDeleteViewerDialog(...l))},y),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"select-mutiple",onClick:l[7]||(l[7]=l=>e.selectMultiple=!e.selectMultiple)},b))],2),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)({"viewer-body":!0,"full-screen-mode":e.isFullScreen})},[(0,i._)("div",C,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(p,{key:0,"text-color":"white",icon:"arrow_back_ios_new",size:"20px",onClick:e.onViewerPrevious},null,8,["onClick"])):(0,i.kq)("",!0)]),(0,i._)("div",{class:(0,o.C_)({"viewer-main":!0,"resolution-9_16":.5625==e.viewer.ratio})},["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,ref:"viewerImage",src:e.viewer.src,style:(0,o.j5)({display:"none",transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%"})},null,12,S)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("canvas",{ref:"viewerCanvas",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)"})},null,4),[[t.F8,"image"===e.viewer.type]]),(0,i.wy)((0,i._)("video",{src:e.viewer.src,ref:"viewerVideo",controls:"",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)"})},null,12,V),[[t.F8,"video"===e.viewer.type]])],2),(0,i._)("div",x,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(p,{key:0,"text-color":"white",icon:"arrow_forward_ios",size:"20px",onClick:e.onViewerNext},null,8,["onClick"])):(0,i.kq)("",!0)])],2)):(0,i.kq)("",!0),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("div",O,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.viewers,(a=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({item:!0}),key:a.id,onClick:l=>e.setViewerSelected({data:a,selected:!a.selected,selectMultiple:e.selectMultiple})},[e.selectMultiple?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)({"selected-number":!0,"selected-true":0!==a.order})},(0,o.zw)(0==a.order?"":a.order),3)):(0,i.kq)("",!0),(0,i.Wm)(D,{"touch-position":"","context-menu":"",onBeforeShow:l=>e.setViewerSelected({data:a,selected:!0,selectMultiple:e.selectMultiple})},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{dense:"",style:{"min-width":"100px"}},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(_,{clickable:"",onClick:l[8]||(l[8]=l=>e.confirmDeleteViewerDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[q])),_:1})])),_:1},512),[[Le]]),(0,i.wy)((0,i.Wm)(_,{clickable:"",onClick:e.onDisplayGoogleDriveDialog},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[W])),_:1})])),_:1},8,["onClick"]),[[Le]]),(0,i.wy)((0,i.Wm)(_,{clickable:"",onClick:l[9]||(l[9]=l=>e.onDownload())},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[z])),_:1})])),_:1},512),[[Le]]),(0,i.wy)((0,i.Wm)(_,{clickable:"",tag:"a",target:"_blank",href:a.src},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[F])),_:1})])),_:2},1032,["href"]),[[Le]])])),_:2},1024)])),_:2},1032,["onBeforeShow"]),(0,i._)("div",{class:(0,o.C_)({viewer:!0,selected:a.selected})},["image"===a.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:a.src},null,8,A)):(0,i.kq)("",!0),"video"===a.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:a.src},null,8,U)):(0,i.kq)("",!0)],2),(0,i._)("div",{class:(0,o.C_)({filename:!0,selected:a.selected})},(0,o.zw)(a.filename),3)],8,I)))),128))])])),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("div",M,[N,(0,i.Wm)(B,{options:e.angleList,"option-label":"label","option-value":"value",modelValue:e.angle,"onUpdate:modelValue":l[10]||(l[10]=l=>e.angle=l),class:"combobox"},null,8,["options","modelValue"]),(0,i._)("img",{class:"cw",src:"img/CW_25X25.svg",onClick:l[11]||(l[11]=(...l)=>e.onNextRotate&&e.onNextRotate(...l))}),(0,i._)("img",{class:"ccw",src:"img/CCW_25X25.svg",onClick:l[12]||(l[12]=(...l)=>e.onPreviousRotate&&e.onPreviousRotate(...l))})]),(0,i._)("div",P,[G,(0,i._)("div",X,(0,o.zw)(1==(e.zoomInOutSlider/10).toString().length?(e.zoomInOutSlider/10).toString()+".0":(e.zoomInOutSlider/10).toString())+" x ",1),(0,i._)("img",{class:"minus",src:"img/minus_20X20.svg",onClick:l[13]||(l[13]=(...l)=>e.onZoomOut&&e.onZoomOut(...l))}),(0,i.Wm)(E,{modelValue:e.zoomInOutSlider,"onUpdate:modelValue":l[14]||(l[14]=l=>e.zoomInOutSlider=l),min:10,max:60,step:1,"track-size":"4px","thumb-size":"10px","inner-track-color":"white",color:"ideao",class:"slider"},null,8,["modelValue"]),(0,i._)("img",{class:"plus",src:"img/plus_20X20.svg",onClick:l[15]||(l[15]=(...l)=>e.onZoomIn&&e.onZoomIn(...l))})])])):(0,i.kq)("",!0)])]),(0,i.Wm)(Te,{modelValue:e.googleClassroomDialog,"onUpdate:modelValue":l[28]||(l[28]=l=>e.googleClassroomDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(We,{class:"google-classroom-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{class:"card-header"},{default:(0,i.w5)((()=>[Z,(0,i._)("div",null,[(0,i._)("div",L,(0,o.zw)(e.name),1),(0,i._)("div",R,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.isAuthorized?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[16]||(l[16]=(...l)=>e.onGoogleSignIn&&e.onGoogleSignIn(...l))},Q)),e.isAuthorized?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[17]||(l[17]=(...l)=>e.onGoogleSignOut&&e.onGoogleSignOut(...l))},j)):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(fe,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",Y,[(0,i._)("div",K,[(0,i._)("div",J,[$,(0,i.Wm)(_e,{options:e.typeList,"option-label":"label","option-value":"value",modelValue:e.type,"onUpdate:modelValue":l[18]||(l[18]=l=>e.type=l),class:"combobox"},null,8,["options","modelValue"])]),(0,i._)("div",ee,[le,(0,i.Wm)(_e,{options:e.courseList,"option-label":"label","option-value":"value",modelValue:e.course,"onUpdate:modelValue":l[19]||(l[19]=l=>e.course=l),class:"combobox"},null,8,["options","modelValue"])]),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",ae,[ie,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":l[20]||(l[20]=l=>e.maxPoints=l)},null,512),[[t.nr,e.maxPoints]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",oe,[te,(0,i.wy)((0,i._)("input",{type:"date",min:e.minDate,"onUpdate:modelValue":l[21]||(l[21]=l=>e.due=l),style:{"font-size":"10px"}},null,8,se),[[t.nr,e.due]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value||4===e.type.value?((0,i.wg)(),(0,i.iD)("div",ne,[re,(0,i.Wm)(_e,{options:e.topicList,"option-label":"label","option-value":"value",modelValue:e.topic,"onUpdate:modelValue":l[22]||(l[22]=l=>e.topic=l),class:"combobox"},null,8,["options","modelValue"])])):(0,i.kq)("",!0),0!==e.type.value?((0,i.wg)(),(0,i.iD)("div",ce,[ue,(0,i.wy)((0,i._)("textarea",{rows:"2","onUpdate:modelValue":l[23]||(l[23]=l=>e.title=l)},null,512),[[t.nr,e.title]])])):(0,i.kq)("",!0),(0,i._)("div",de,[ve,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":l[24]||(l[24]=l=>e.description=l)},null,512),[[t.nr,e.description]])]),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.optionList,((l,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"option",key:l},[(0,i._)("div",ge,"Option "+(0,o.zw)(a+1),1),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.value=e,ref:e.onSetOptionRef},null,8,we),[[t.nr,l.value]]),(0,i._)("img",{class:"cancel",src:"img/cancel-option_20X20.svg",onClick:l=>e.onCancelOption(a)},null,8,pe)])))),128))])):(0,i.kq)("",!0),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",he,[(0,i._)("div",{class:"add",onClick:l[25]||(l[25]=(...l)=>e.onAddOption&&e.onAddOption(...l))},ye),(0,i._)("div",ke,[(0,i.wy)((0,i._)("input",{type:"radio",id:"true",name:"multipleChoise","onUpdate:modelValue":l[26]||(l[26]=l=>e.multipleChoise=l)},null,512),[[t.G2,e.multipleChoise]]),De])])):(0,i.kq)("",!0)])]),(0,i._)("div",be,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=2})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,Ce)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,Se)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",Ve,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,xe)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,He)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(Ie,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Oe,qe,512),[[Le]]),(0,i._)("div",{class:"button",onClick:l[27]||(l[27]=(...l)=>e.onAssign&&e.onAssign(...l))},ze)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Te,{modelValue:e.googleDriveDialog,"onUpdate:modelValue":l[34]||(l[34]=l=>e.googleDriveDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(We,{class:"google-drive-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{class:"card-header"},{default:(0,i.w5)((()=>[Fe,(0,i._)("div",null,[(0,i._)("div",Ae,(0,o.zw)(e.name),1),(0,i._)("div",Ue,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.isAuthorized?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[29]||(l[29]=(...l)=>e.onGoogleSignIn&&e.onGoogleSignIn(...l))},Me)),e.isAuthorized?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[30]||(l[30]=(...l)=>e.onGoogleSignOut&&e.onGoogleSignOut(...l))},Pe)):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(fe,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",Ge,[(0,i._)("div",Xe,[e.isAuthorized?((0,i.wg)(),(0,i.j4)(p,{key:0,flat:"",dense:"","no-caps":"",onClick:l[31]||(l[31]=l=>e.onPreviousFolder())},{default:(0,i.w5)((()=>[Ze,(0,i._)("div",null,(0,o.zw)(e.driveFolderName),1)])),_:1})):(0,i.kq)("",!0),e.isAuthorized?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"add-folder",onClick:l[32]||(l[32]=(...l)=>e.onDisplayFolderDialog&&e.onDisplayFolderDialog(...l))},Re)):(0,i.kq)("",!0)]),(0,i.Wm)(k,{dense:"",class:"folder-body"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.driveList,(l=>((0,i.wg)(),(0,i.j4)(_,{key:l.id,clickable:"",active:e.clickFolder===l.name,"active-class":"selected",onClick:a=>e.clickFolder=l.name,onDblclick:a=>e.onChooseFolder(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{avatar:""},{default:(0,i.w5)((()=>[Be])),_:1}),(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.name),1)])),_:2},1024),(0,i.Wm)(f,{avatar:"",align:"right",class:"right"},{default:(0,i.w5)((()=>[Qe])),_:1})])),_:2},1032,["active","onClick","onDblclick"])))),128))])),_:1})]),(0,i._)("div",Ee,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=2})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,je)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,Ye)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",Ke,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,Je)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,$e)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(Ie,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",el,al,512),[[Le]]),(0,i._)("div",{class:"button",onClick:l[33]||(l[33]=(...l)=>e.onViewerUpload&&e.onViewerUpload(...l))},ol)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Te,{modelValue:e.folderDialog,"onUpdate:modelValue":l[37]||(l[37]=l=>e.folderDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(We,{class:"new-folder-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{class:"body"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",tl,nl,512),[[Le]]),rl,cl])),_:1}),(0,i.Wm)(fe,{class:"input-section"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ne,{"hide-bottom-space":"",borderless:"",modelValue:e.newFolderName,"onUpdate:modelValue":l[35]||(l[35]=l=>e.newFolderName=l),"input-class":"text-center","input-style":{height:"22.5px"},placeholder:"New folder name"},null,8,["modelValue","input-style"])])),_:1}),(0,i.Wm)(Ie,{class:"footer"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",ul,vl,512),[[Le]]),(0,i.wy)((0,i._)("div",{class:"button",onClick:l[36]||(l[36]=l=>e.onCreateNewFolder())},gl,512),[[Le]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Te,{modelValue:e.confirmDeleteViewerDialog,"onUpdate:modelValue":l[39]||(l[39]=l=>e.confirmDeleteViewerDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(We,{class:"confirm-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{class:"body"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",wl,hl,512),[[Le]]),fl,_l])),_:1}),(0,i.Wm)(Ie,{class:"footer"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",yl,Dl,512),[[Le]]),(0,i.wy)((0,i._)("div",{class:"button",onClick:l[38]||(l[38]=l=>e.onDeleteSelectedViewer())},Cl,512),[[Le]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Te,{modelValue:e.selectAtLeastOneFileDialog,"onUpdate:modelValue":l[40]||(l[40]=l=>e.selectAtLeastOneFileDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(We,{class:"confirm-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,{class:"body"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Sl,xl,512),[[Le]]),Hl,Ol])),_:1}),(0,i.Wm)(Ie,{class:"footer"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Il,Wl,512),[[Le]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(5363),a(2799),a(6801);var Fl=a(1959),Al=a(3617),Ul=a(9582),Tl=a(8825),Ml=a(958),Nl=a(3659),Pl=a(6449),Gl=a(1935);const Xl=(0,i.aZ)({name:"PageViewer",components:{combobox:Pl.Z,combobox2:Gl.Z},setup(){const e=(0,Ul.tv)(),l=(0,Ul.yj)(),a=(0,Al.oR)(),o=(0,Tl.Z)(),{initFileSystem:t,removeTheFile:s,getUrlByFilename:n}=(0,Ml.Z)(),r=(0,Fl.iH)(!1),c=(0,Fl.iH)(!0),u=(0,Fl.iH)(!1),d=(0,Fl.iH)({}),v=(0,Fl.iH)(),m=(0,Fl.iH)(),g=(0,Fl.iH)(),w=(0,Fl.iH)({label:"0°",value:0}),p=(0,Fl.iH)([{label:"0°",value:0},{label:"90°",value:1},{label:"180°",value:2},{label:"270°",value:3}]),h=(0,Fl.iH)(10),f=(0,Fl.iH)(!1),_=(0,Fl.iH)(!1),y=(0,Fl.iH)(!1),k=(0,Fl.iH)(!1),D=(0,Fl.iH)(!1),b=(0,Fl.iH)(!1),C=(0,Fl.iH)(0),S=(0,Fl.iH)(""),V=(0,Fl.iH)(""),x=(0,Fl.iH)({label:"Announcement",value:0}),H=(0,Fl.iH)([{label:"Announcement",value:0},{label:"Assignment",value:1},{label:"Quiz assignment",value:2},{label:"Question",value:3},{label:"Material",value:4}]),O=(0,Fl.iH)({label:"Choose...",value:-1}),I=(0,Fl.iH)([]),q=(0,Fl.iH)(),W=(0,Fl.iH)({label:"No Topic",value:""}),z=(0,Fl.iH)([]),F=(0,Fl.iH)(!1),A=(0,Fl.iH)([]),U=(0,Fl.iH)(""),T=(0,Fl.iH)(""),M=(0,Fl.iH)(100),N=(0,Fl.iH)(""),P=(0,Fl.iH)(""),G=(0,Fl.iH)([]),X=(0,Fl.iH)([]),Z=(0,Fl.iH)(""),L=(0,Fl.iH)(""),R=(0,Fl.iH)(!1);let B=null;const Q=e=>a.dispatch("extension/setViewer",e),E=e=>a.dispatch("extension/setViewerSelected",e),j=()=>a.dispatch("extension/clearViewerSelected"),Y=e=>a.dispatch("extension/deleteViewer",e),K=(0,Fl.Fl)((()=>a.getters["extension/viewers"])),J=(0,Fl.Fl)((()=>a.getters["extension/googleDriveFolder"])),$=e=>a.dispatch("extension/deleteMotionPhoto",e),ee=(0,Fl.Fl)((()=>{var e=K.value.filter((e=>!0===e.selected));return e})),le=(0,Fl.Fl)((()=>a.getters["extension/authToken"])),ae=e=>a.dispatch("extension/setAuthToken",e);(0,i.YP)(u,(async e=>{r.value.value||(u.value?o.fullscreen.request():o.fullscreen.exit())})),(0,i.YP)(o.fullscreen.isActive,(e=>{r.value.value||(u.value=o.fullscreen.isActive)})),(0,i.YP)(le,(async e=>{if(e){let e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{method:"GET",headers:new Headers({Authorization:"Bearer "+le.value})}),l=await e.json();if(l.error)return;S.value=l.name,V.value=l.email,b.value=!0}else b.value=!1,V.value="Link your Google account"}),{deep:!0,immediate:!1}),(0,i.YP)(c,(async e=>{e&&K.value.length>0&&(d.value=K.value.slice()[0],j(),R.value=!1,setTimeout((()=>{ne()}),100))})),(0,i.YP)(R,(async e=>{e||j()})),(0,i.YP)(O,(async e=>{if(e&&-1!==e.value){let e=(await Nl.googleOAuth2.instanceClient.classroom.courses.topics.list({pageSize:10,courseId:O.value.value})).result.topic;for(let l in e)z.value.push({label:e[l].name,value:e[l].topicId})}})),(0,i.bv)((async()=>{void 0!==l.query.vm&&(e.replace({path:"/viewer"}),c.value=1==l.query.vm);var a=new Date;a.setDate(a.getDate()+1),N.value=a.getFullYear()+"-"+a.getMonth()+"1-"+a.getDate(),B=await t();for(let e in K.value){let l=await n(B,K.value[e].filename,K.value[e].mimeType),a=Object.assign({},K.value[e]);a.src=l,Q(a)}K.value.length>0&&(d.value=K.value[0]),ne(),await xe()}));const ie=()=>{e.go(-1)},oe=()=>{if(c.value){var e=document.createElement("a");e.download=d.value.filename,e.href=d.value.src,e.click(),e.remove()}else{if(0==ee.value.length)return void(D.value=!0);let l=K.value.filter((e=>!0===e.selected));for(let a in l){e=document.createElement("a");e.download=l[a].filename,e.href=l[a].src,e.click(),e.remove()}}},te=async()=>{if(c.value);else if(0==ee.value.length)return void(D.value=!0);f.value=!0},se=async()=>{if(c.value)Y(d.value),$(d.value),await s(B,d.value.filename),K.value.length>0?d.value=K.value.slice()[0]:d.value={},ne();else{let e=K.value.filter((e=>!0===e.selected));for(let l in e)Y(e[l]),$(e[l]),await s(B,e[l].filename)}},ne=()=>{if("image"===d.value.type&&c.value){let e=m.value.getContext("2d");const l=new Image;l.src=d.value.src,l.onload=()=>{m.value.width=l.width,m.value.height=l.height,e.drawImage(l,0,0,l.width,l.height)}}else"video"===d.value.type&&c.value},re=()=>{if(K.value.length<=1)return;let e=K.value.findIndex((e=>e.id==d.value.id));0!=e&&(d.value=K.value.slice()[e-1],ne())},ce=()=>{if(K.value.length<=1)return;let e=K.value.findIndex((e=>e.id==d.value.id));e!=K.value.length-1&&(d.value=K.value.slice()[e+1],ne())},ue=()=>{let e=(0==w.value.value?3:w.value.value-1)%p.value.length;w.value=p.value.find((l=>l.value==e))},de=()=>{let e=(w.value.value+1)%p.value.length;w.value=p.value.find((l=>l.value==e))},ve=()=>{60!=h.value&&(h.value+=1)},me=()=>{10!=h.value&&(h.value-=1)},ge=async()=>{if(c.value||0!=ee.value.length)if(C.value=1,O.value={label:"Choose...",value:-1},I.value=[],W.value={label:"No Topic",value:""},z.value=[],U.value="",T.value="",A.value=[],A.value.push({value:""}),b.value){var e=await _e({id:"root",name:"My Drive"}),l=e.files.some((e=>e.name==J.value.value));l||await driveFilesCreate(J.value.value,"root");var a=e.files.some((e=>"ideaocam classroom"==e.name));a||await driveFilesCreate("ideaocam classroom","root"),_.value=!0;let i=(await Nl.googleOAuth2.instanceClient.classroom.courses.list({pageSize:10})).result.courses;for(let e in i)I.value.push({label:i[e].name,value:i[e].id})}else await He();else D.value=!0},we=async()=>{if(c.value||0!=ee.value.length)if(C.value=2,b.value){var e=await _e({id:"root",name:"My Drive"}),l=e.files.some((e=>e.name==J.value.value));l||await fe(J.value.value,"root");var a=e.files.some((e=>"ideaocam classroom"==e.name));a||await fe("ideaocam classroom","root"),y.value=!0,G.value.push({id:"root",name:"My Drive"}),P.value=G.value[G.value.length-1].name,await De(G.value[G.value.length-1]);let i=await _e({id:"root",name:"My Drive"}),o=i.files.find((e=>e.name==J.value.value));await ke(o)}else await He();else D.value=!0},pe=()=>{k.value=!k.value},he=async()=>{await fe(L.value,G.value[G.value.length-1].id),L.value="",await De(G.value[G.value.length-1]),k.value=!1},fe=async(e,l)=>{await fetch("https://www.googleapis.com/drive/v2/files",{method:"POST",headers:new Headers({Authorization:"Bearer "+le.value,"Content-Type":"application/json"}),body:JSON.stringify({title:e,parents:[{id:l}],mimeType:"application/vnd.google-apps.folder"})})},_e=async e=>{let l="trashed=false and 'me' in owners and mimeType='application/vnd.google-apps.folder'";l+=" and '"+e.id+"' in parents";let a={fields:"nextPageToken, files(id, name, mimeType, modifiedTime, parents)",q:l,orderBy:"name"},i=await fetch("https://www.googleapis.com/drive/v3/files?"+new URLSearchParams(a),{method:"GET",headers:new Headers({Authorization:"Bearer "+le.value})});return await i.json()},ye=async()=>{1!=G.value.length&&(G.value.pop(),await De(G.value[G.value.length-1]))},ke=async e=>{G.value.push(e),await De(e)},De=async e=>{var l=await _e(e);P.value=G.value[G.value.length-1].name,X.value=l.files},be=e=>{A.value.splice(e,1)},Ce=()=>{A.value.push({value:""})};let Se=[];const Ve=e=>{e&&Se.push(e)};(0,i.Xn)((()=>{Se=[]}));const xe=async()=>{gapi.load("client:auth2",(async()=>{gapi.client.init({apiKey:"AIzaSyB3scwKR0F77IM3610rBeCA6AT_9-aNUl8",discoveryDocs:[decodeURIComponent("https://content.googleapis.com/discovery/v1/apis/drive/v3/rest"),decodeURIComponent("https://www.googleapis.com/discovery/v1/apis/people/v1/rest"),decodeURIComponent("https://people.googleapis.com/%24discovery/rest?version=v1"),decodeURIComponent("https://classroom.googleapis.com/%24discovery/rest")],clientId:"276709432964-3u3a0fk731gs5eop04vdl2una1dfcl5l.apps.googleusercontent.com",scope:"profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials",fetch_basic_profile:!1}).then((async()=>{let e=gapi.auth2.getAuthInstance();var l=e.currentUser.get().hasGrantedScopes("profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials");if(l){ae("");let l=e.currentUser.get();ae(l.wc.access_token)}else ae("")}))}))},He=async()=>{{const l=await gapi.auth2.getAuthInstance().signIn();var e=gapi.auth2.getAuthInstance().currentUser.get().hasGrantedScopes("profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials");e&&ae(l.wc.access_token)}1==C.value?await onDisplayClassroomDialog():await we()},Oe=async()=>{gapi.auth2.getAuthInstance().disconnect(),_.value=!1,y.value=!1,ae("")},Ie=async(e,l,a,i)=>{var o={name:e,mimeType:l,parents:[i]},t=new FormData;t.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),t.append("file",a);let s=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+le.value}),body:t});return s.json()},qe=async e=>{let l={role:"reader",type:"anyone"};await fetch("https://www.googleapis.com/drive/v3/files/"+e+"/permissions",{method:"POST",headers:new Headers({Authorization:"Bearer "+le.value,"Content-Type":"application/json"}),body:JSON.stringify(l)})},We=async()=>{if(o.loading.show(),c.value){let e=null;if("video"===d.value.type){let l=await fetch(d.value.src);e=await l.blob()}else{let l=await fetch(d.value.src);e=await l.blob()}let l=await Ie(d.value.filename,d.value.mimeType,e,G.value[G.value.length-1].id);await qe(l.id)}else{let e=K.value.filter((e=>!0===e.selected));for(let l in e){let a=null;if("video"===e[l].type){let i=await fetch(e[l].src);a=await i.blob()}else{let i=await fetch(e[l].src);a=await i.blob()}let i=await Ie(e[l].filename,e[l].mimeType,a,G.value[G.value.length-1].id);await qe(i.id)}}_.value=!1,y.value=!1,o.loading.hide()},ze=async()=>{o.loading.show();let e=[];var l=await _e({id:"root",name:"My Drive"}),a=l.files.some((e=>"ideaocam classroom"==e.name));a||await driveFilesCreate("ideaocam classroom","root");let i=l.files.find((e=>"ideaocam classroom"==e.name)),t=K.value.filter((e=>!0===e.selected));if(c.value){let l=null;if("video"===d.value.type){let e=await fetch(d.value.src);l=await e.blob()}else{let e=await fetch(d.value.src);l=await e.blob()}let a=await Ie(d.value.filename,d.value.mimeType,l,i.id);await qe(a.id),e.push(a.id)}else for(let o in t){let l=null;if("video"===t[o].type){let e=await fetch(t[o].src);l=await e.blob()}else{let e=await fetch(t[o].src);l=await e.blob()}let a=await Ie(t[o].filename,t[o].mimeType,l,i.id);await qe(a.id),e.push(a.id)}return _.value=!1,o.loading.hide(),e},Fe=async()=>{if(-1===O.value.value)return;let e=await ze(),l=[];for(var a in e)l.push({driveFile:{driveFile:{id:e[a]},shareMode:"UNKNOWN_SHARE_MODE"}});if(0===x.value.value){await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/announcements`,{method:"POST",headers:new Headers({Authorization:"Bearer "+le.value}),body:JSON.stringify({text:T.value,state:1,materials:l})})}else if(4===x.value.value){let e={title:U.value,description:T.value,state:1,materials:l,topicId:W.value.value};await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/courseWorkMaterials`,{method:"POST",headers:new Headers({Authorization:"Bearer "+le.value}),body:JSON.stringify(e)})}else{let e="COURSE_WORK_TYPE_UNSPECIFIED";1===x.value.value?e="ASSIGNMENT":2===x.value.value?e="MULTIPLE_CHOICE_QUESTION":3===x.value.value&&(e="SHORT_ANSWER_QUESTION");let a={title:U.value,description:T.value,state:1,materials:l,dueDate:{year:new Date(q.value).getFullYear(),month:new Date(q.value).getMonth()+1,day:new Date(q.value).getDate()},dueTime:{hours:23,minutes:59,seconds:59,nanos:0},maxPoints:!Number.isInteger(M.value)||""==M.value.toString().trim()||M.value<0?0:M.value,workType:e,topicId:W.value.value};if(2===x.value.value){let e={choices:[]};for(let l in A.value)e.choices.push(A.value[l].value);a["multipleChoiceQuestion"]=e}await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/courseWork`,{method:"POST",headers:new Headers({Authorization:"Bearer "+le.value}),body:JSON.stringify(a)})}};return{isViewerMode:c,isFullScreen:u,firstLoad:r,viewer:d,viewerImage:v,viewerCanvas:m,viewerVideo:g,angle:w,angleList:p,zoomInOutSlider:h,viewers:K,confirmDeleteViewerDialog:f,googleClassroomDialog:_,googleDriveDialog:y,folderDialog:k,selectAtLeastOneFileDialog:D,isAuthorized:b,dialogType:C,name:S,username:V,type:x,typeList:H,course:O,courseList:I,due:q,topic:W,topicList:z,multipleChoise:F,optionList:A,title:U,description:T,maxPoints:M,minDate:N,driveFolderName:P,driveLocation:G,driveList:X,clickFolder:Z,newFolderName:L,viewersSelected:ee,selectMultiple:R,setViewerSelected:E,onGoBack:ie,onDownload:oe,onViewerPrevious:re,onConfirmDeleteViewerDialog:te,onDeleteSelectedViewer:se,onViewerNext:ce,onPreviousRotate:ue,onNextRotate:de,onZoomIn:ve,onZoomOut:me,onDisplayGoogleClassroomDialog:ge,onDisplayGoogleDriveDialog:we,onDisplayFolderDialog:pe,onCreateNewFolder:he,onCancelOption:be,onAddOption:Ce,onSetOptionRef:Ve,onGoogleSignIn:He,onGoogleSignOut:Oe,onDriveFilesList:_e,onPreviousFolder:ye,onChooseFolder:ke,onViewerUpload:We,onAssign:Fe}}});var Zl=a(4260),Ll=a(6114),Rl=a(6335),Bl=a(7011),Ql=a(3414),El=a(2035),jl=a(4015),Yl=a(4390),Kl=a(151),Jl=a(5589),$l=a(9367),ea=a(6447),la=a(677),aa=a(7518),ia=a.n(aa);const oa=(0,Zl.Z)(Xl,[["render",zl],["__scopeId","data-v-3755dc70"]]),ta=oa;ia()(Xl,"components",{QBtn:Ll.Z,QMenu:Rl.Z,QList:Bl.Z,QItem:Ql.Z,QItemSection:El.Z,QSlider:jl.Z,QDialog:Yl.Z,QCard:Kl.Z,QCardSection:Jl.Z,QCardActions:$l.Z,QInput:ea.Z}),ia()(Xl,"directives",{ClosePopup:la.Z})}}]);