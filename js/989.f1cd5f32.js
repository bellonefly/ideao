"use strict";(self["webpackChunkideao"]=self["webpackChunkideao"]||[]).push([[989],{4898:(e,l,a)=>{a.d(l,{Z:()=>p});var i=a(3673),o=a(2323);const t=e=>((0,i.dD)("data-v-c467a1fe"),e=e(),(0,i.Cn)(),e),s={class:"current-item"},n=t((()=>(0,i._)("img",{src:"img/triangle_30X30.svg"},null,-1))),u={class:(0,o.C_)({options:!0})},r=["onClick"];function c(e,l,a,t,c,d){return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({"combobox-wrapper":!0,focus:e.toggle})},[(0,i._)("div",{tabindex:"0",class:(0,o.C_)({select:!0}),onClick:l[0]||(l[0]=l=>e.toggle=!e.toggle),onBlur:l[1]||(l[1]=l=>e.toggle=!1)},[(0,i._)("div",s,(0,o.zw)(e.props.modelValue[e.props.optionLabel]),1),n,(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.props.options,(l=>((0,i.wg)(),(0,i.iD)("div",{class:"option",key:l,onClick:a=>e.change(l)},(0,o.zw)(l[e.props.optionLabel]),9,r)))),128))])],32)],2)}var d=a(1959);const v=(0,i.aZ)({name:"combobox",props:{modelValue:{type:Object,default(){return{}}},options:{type:Array,default(){return[]}},optionLabel:{type:String,default:""},optionValue:{type:String,default:""},direction:{type:String,default:"down"}},emits:["update:modelValue"],setup(e,{emit:l}){const a=(0,d.iH)(!1);(0,i.bv)((()=>{}));const o=e=>{l("update:modelValue",e),setTimeout((()=>{a.value=!1}),0)};return{toggle:a,props:e,change:o}}});var g=a(4260);const m=(0,g.Z)(v,[["render",c],["__scopeId","data-v-c467a1fe"]]),p=m},5989:(e,l,a)=>{a.r(l),a.d(l,{default:()=>xl});a(71),a(246);var i=a(3673),o=a(2323),t=a(8880);const s=e=>((0,i.dD)("data-v-2e1a095d"),e=e(),(0,i.Cn)(),e),n={class:"wrapper"},u=s((()=>(0,i._)("img",{class:"icon",src:"img/previous_50X50.svg"},null,-1))),r=[u],c=s((()=>(0,i._)("img",{class:"icon",src:"img/select-multiple_50X50.svg"},null,-1))),d=[c],v=s((()=>(0,i._)("img",{class:"icon",src:"img/thumbnail_50X50.svg"},null,-1))),g=[v],m={key:0,class:"icon",src:"img/full-screen_50X50.svg"},p={key:1,class:"icon",src:"img/exit-full-screen_50X50.svg"},w={key:1,class:"viewer-left"},h={class:"viewer",ref:"divViewer"},y=["src"],f=["src"],_={key:3,class:"viewer-right"},k={key:4,class:"viewer-bottom"},b={class:"rotate"},D=s((()=>(0,i._)("img",{class:"rotation",src:"img/rotation_45X45.svg"},null,-1))),C={class:"zoomInOut"},S=s((()=>(0,i._)("img",{class:"zoom",src:"img/zoom_45X45.svg"},null,-1))),V={class:"text"},x={key:5,class:"thumbnail-wrapper"},O={class:"thumbnail-main"},A=["onClick"],H=(0,i.Uk)("Delete"),z=(0,i.Uk)("Upload"),W=(0,i.Uk)("Download"),q=(0,i.Uk)("Open in a new tab"),U=["src"],I=["src"],M=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-classroom-normal_H35.svg"})],-1))),T={src:"img/esc_20X20.svg"},F={class:"folder-wrapper"},N={class:"form"},X={class:"form-item"},P=s((()=>(0,i._)("div",{class:"header"},"Type",-1))),Z={class:"form-item"},L=s((()=>(0,i._)("div",{class:"header"},"For",-1))),B={key:0,class:"form-item"},Y=s((()=>(0,i._)("div",{class:"header"},"Point",-1))),Q={key:1,class:"form-item"},E=s((()=>(0,i._)("div",{class:"header"},"Due",-1))),R={key:2,class:"form-item"},j=s((()=>(0,i._)("div",{class:"header"},"Topic",-1))),K={key:3,class:"form-item title"},G=s((()=>(0,i._)("div",{class:"header"},"Title",-1))),$={class:"form-item description"},J=s((()=>(0,i._)("div",{class:"header"},"Description (optional)",-1))),ee={key:4,class:"form-item options"},le={class:"header"},ae=["onUpdate:modelValue"],ie=["onClick"],oe={key:5,class:"form-item add-option"},te=s((()=>(0,i._)("img",{src:"img/add-option_20X20.svg"},null,-1))),se=s((()=>(0,i._)("div",null,"Add option",-1))),ne=[te,se],ue={class:"multiple"},re={class:"upload-wrapper"},ce=["src"],de=["src"],ve={key:1,class:(0,o.C_)({large:!0})},ge=["src"],me=["src"],pe=(0,i.Uk)("Cancel"),we=[pe],he=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-drive-normal_H35.svg"})],-1))),ye={src:"img/esc_20X20.svg"},fe={class:"folder-wrapper"},_e={class:"folder-header"},ke=s((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),be=[ke],De=s((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),Ce=s((()=>(0,i._)("img",{src:"img/enter-folder_15X15.svg"},null,-1))),Se={class:"upload-wrapper"},Ve=["src"],xe=["src"],Oe={key:1,class:(0,o.C_)({large:!0})},Ae=["src"],He=["src"],ze=(0,i.Uk)("Cancel"),We=[ze],qe=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),Ue=[qe],Ie=s((()=>(0,i._)("div",{class:"icon"},[(0,i._)("img",{src:"img/add-folder_80X80.svg"})],-1))),Me=s((()=>(0,i._)("div",{class:"text"},"New folder",-1))),Te=(0,i.Uk)("Cancel"),Fe=[Te],Ne=(0,i.Uk)("Create"),Xe=[Ne],Pe=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),Ze=[Pe],Le=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/exclamation_110X110.svg"})],-1))),Be=s((()=>(0,i._)("div",{class:"text"},"Do you want to delete the file?",-1))),Ye=(0,i.Uk)("YES"),Qe=[Ye],Ee=(0,i.Uk)("NO"),Re=[Ee];function je(e,l,a,s,u,c){const v=(0,i.up)("q-btn"),te=(0,i.up)("combobox"),se=(0,i.up)("q-slider"),pe=(0,i.up)("q-item-section"),ke=(0,i.up)("q-item"),ze=(0,i.up)("q-list"),qe=(0,i.up)("q-menu"),Te=(0,i.up)("q-card-section"),Ne=(0,i.up)("combobox2"),Pe=(0,i.up)("q-radio"),Ye=(0,i.up)("q-card-actions"),Ee=(0,i.up)("q-card"),je=(0,i.up)("q-dialog"),Ke=(0,i.up)("q-input"),Ge=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",n,[(0,i._)("div",{class:"previous",onClick:l[0]||(l[0]=(...l)=>e.goBack&&e.goBack(...l))},r),(0,i._)("div",{class:"google-classroom",onClick:l[1]||(l[1]=(...l)=>e.displayGoogleClassroomDialog&&e.displayGoogleClassroomDialog(...l))}),(0,i._)("div",{class:"google-drive",onClick:l[2]||(l[2]=(...l)=>e.displayGoogleDriveDialog&&e.displayGoogleDriveDialog(...l))}),(0,i._)("div",{class:"download",onClick:l[3]||(l[3]=l=>e.download())}),(0,i._)("div",{class:"trash",onClick:l[4]||(l[4]=l=>e.confirmDeleteViewerDialog=!0)}),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"select-mutiple",onClick:l[5]||(l[5]=l=>e.selectMultiple=!e.selectMultiple)},d)),(0,i._)("div",{class:"thumbnail",onClick:l[6]||(l[6]=l=>e.isViewerMode=!e.isViewerMode)},g),(0,i._)("div",{class:"full-screen",onClick:l[7]||(l[7]=l=>e.isFullScreen=!e.isFullScreen)},[e.isFullScreen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",m)),e.isFullScreen?((0,i.wg)(),(0,i.iD)("img",p)):(0,i.kq)("",!0)]),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",w,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(v,{key:0,"text-color":"white",icon:"arrow_back_ios_new",size:"33px",onClick:e.viewerPrevious},null,8,["onClick"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",{key:2,class:(0,o.C_)({"viewer-main":!0,"full-screen-mode":e.isFullScreen})},[(0,i._)("div",h,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,ref:"viewerImage",src:e.viewer.src,style:(0,o.j5)({display:"none",transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%"})},null,12,y)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("canvas",{onMousedown:l[8]||(l[8]=(...l)=>e.viewerDown&&e.viewerDown(...l)),onMousemove:l[9]||(l[9]=(...l)=>e.viewerMove&&e.viewerMove(...l)),ref:"viewerCanvas",style:(0,o.j5)(e.viewerCanvasStyle)},null,36),[[t.F8,"image"===e.viewer.type]]),(0,i.wy)((0,i._)("video",{src:e.viewer.src,controls:"",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%",maxHeight:"calc(100vh - 200px)",maxWidth:"calc(100vw - 356px)",left:"0px",top:"0px"})},null,12,f),[[t.F8,"video"===e.viewer.type]])],512)],2)):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",_,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(v,{key:0,"text-color":"white",icon:"arrow_forward_ios",size:"33px",onClick:e.viewerNext},null,8,["onClick"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",k,[(0,i._)("div",b,[D,(0,i.Wm)(te,{options:e.angleList,"option-label":"label","option-value":"value",modelValue:e.angle,"onUpdate:modelValue":l[10]||(l[10]=l=>e.angle=l),class:"combobox"},null,8,["options","modelValue"]),(0,i._)("img",{class:"cw",src:"img/CW_25X25.svg",onClick:l[11]||(l[11]=(...l)=>e.nextRotate&&e.nextRotate(...l))}),(0,i._)("img",{class:"ccw",src:"img/CCW_25X25.svg",onClick:l[12]||(l[12]=(...l)=>e.previousRotate&&e.previousRotate(...l))})]),(0,i._)("div",C,[S,(0,i._)("div",V,(0,o.zw)(1==(e.zoomInOutSlider/10).toString().length?(e.zoomInOutSlider/10).toString()+".0":(e.zoomInOutSlider/10).toString())+" x ",1),(0,i._)("img",{class:"minus",src:"img/minus_20X20.svg",onClick:l[13]||(l[13]=(...l)=>e.zoomOut&&e.zoomOut(...l))}),(0,i.Wm)(se,{modelValue:e.zoomInOutSlider,"onUpdate:modelValue":l[14]||(l[14]=l=>e.zoomInOutSlider=l),min:10,max:60,step:1,dark:"",color:"ideao",class:"slider"},null,8,["modelValue"]),(0,i._)("img",{class:"plus",src:"img/plus_20X20.svg",onClick:l[15]||(l[15]=(...l)=>e.zoomIn&&e.zoomIn(...l))})])])):(0,i.kq)("",!0),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("div",O,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.viewers,(a=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({item:!0}),key:a.id,onClick:l=>e.setViewerSelected({data:a,selected:!a.selected,selectMultiple:e.selectMultiple})},[e.selectMultiple?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)({"selected-number":!0,"selected-true":0!==a.order})},(0,o.zw)(0==a.order?"":a.order),3)):(0,i.kq)("",!0),(0,i.Wm)(qe,{"touch-position":"","context-menu":"",onBeforeShow:l=>e.setViewerSelected({data:a,selected:!0,selectMultiple:e.selectMultiple})},{default:(0,i.w5)((()=>[(0,i.Wm)(ze,{dense:"",style:{"min-width":"100px"}},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(ke,{clickable:"",onClick:l[16]||(l[16]=l=>e.confirmDeleteViewerDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[H])),_:1})])),_:1},512),[[Ge]]),(0,i.wy)((0,i.Wm)(ke,{clickable:"",onClick:e.displayGoogleDriveDialog},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[z])),_:1})])),_:1},8,["onClick"]),[[Ge]]),(0,i.wy)((0,i.Wm)(ke,{clickable:"",onClick:l[17]||(l[17]=l=>e.download())},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[W])),_:1})])),_:1},512),[[Ge]]),(0,i.wy)((0,i.Wm)(ke,{clickable:"",tag:"a",target:"_blank",href:a.src},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[q])),_:1})])),_:2},1032,["href"]),[[Ge]])])),_:2},1024)])),_:2},1032,["onBeforeShow"]),(0,i._)("div",{class:(0,o.C_)({viewer:!0,selected:a.selected})},["image"===a.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:a.src},null,8,U)):(0,i.kq)("",!0),"video"===a.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:a.src},null,8,I)):(0,i.kq)("",!0)],2),(0,i._)("div",{class:(0,o.C_)({filename:!0,selected:a.selected})},(0,o.zw)(a.filename),3)],8,A)))),128))])]))]),(0,i.Wm)(je,{modelValue:e.googleClassroomDialog,"onUpdate:modelValue":l[30]||(l[30]=l=>e.googleClassroomDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ee,{class:"google-classroom-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Te,{class:"card-header"},{default:(0,i.w5)((()=>[M,(0,i._)("div",null,[(0,i._)("div",null,(0,o.zw)(e.name),1),(0,i._)("div",null,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.googleOAuth2.isAuthorized.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[18]||(l[18]=(...l)=>e.googleSignIn&&e.googleSignIn(...l))}," Sign in ")),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[19]||(l[19]=(...l)=>e.googleSignOut&&e.googleSignOut(...l))}," Sign out ")):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i.wy)((0,i._)("img",T,null,512),[[Ge]])])])),_:1}),(0,i.Wm)(Te,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",F,[(0,i._)("div",N,[(0,i._)("div",X,[P,(0,i.Wm)(Ne,{options:e.typeList,"option-label":"label","option-value":"value",modelValue:e.type,"onUpdate:modelValue":l[20]||(l[20]=l=>e.type=l),class:"combobox"},null,8,["options","modelValue"])]),(0,i._)("div",Z,[L,(0,i.Wm)(Ne,{options:e.courseList,"option-label":"label","option-value":"value",modelValue:e.course,"onUpdate:modelValue":l[21]||(l[21]=l=>e.course=l),class:"combobox"},null,8,["options","modelValue"])]),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",B,[Y,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":l[22]||(l[22]=l=>e.maxPoints=l)},null,512),[[t.nr,e.maxPoints]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",Q,[E,(0,i.wy)((0,i._)("input",{type:"date","onUpdate:modelValue":l[23]||(l[23]=l=>e.due=l)},null,512),[[t.nr,e.due]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value||4===e.type.value?((0,i.wg)(),(0,i.iD)("div",R,[j,(0,i.Wm)(Ne,{options:e.topicList,"option-label":"label","option-value":"value",modelValue:e.topic,"onUpdate:modelValue":l[24]||(l[24]=l=>e.topic=l),class:"combobox"},null,8,["options","modelValue"])])):(0,i.kq)("",!0),0!==e.type.value?((0,i.wg)(),(0,i.iD)("div",K,[G,(0,i.wy)((0,i._)("textarea",{style:{width:"100%",height:"60px"},rows:"2","onUpdate:modelValue":l[25]||(l[25]=l=>e.title=l)},null,512),[[t.nr,e.title]])])):(0,i.kq)("",!0),(0,i._)("div",$,[J,(0,i.wy)((0,i._)("textarea",{style:{width:"100%",height:"200px"},"onUpdate:modelValue":l[26]||(l[26]=l=>e.description=l)},null,512),[[t.nr,e.description]])]),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",ee,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.optionList,((l,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"option",key:l},[(0,i._)("div",le,"Option "+(0,o.zw)(a+1),1),(0,i.wy)((0,i._)("input",{type:"text",class:"text","onUpdate:modelValue":e=>l.value=e,ref:e.setOptionRef},null,8,ae),[[t.nr,l.value]]),(0,i._)("img",{class:"cancel",src:"img/cancel-option_20X20.svg",onClick:l=>e.cancelOption(a)},null,8,ie)])))),128))])):(0,i.kq)("",!0),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",oe,[(0,i._)("div",{class:"add",onClick:l[27]||(l[27]=(...l)=>e.addOption&&e.addOption(...l))},ne),(0,i._)("div",ue,[(0,i.Wm)(Pe,{modelValue:e.multipleChoise,"onUpdate:modelValue":l[28]||(l[28]=l=>e.multipleChoise=l),label:"Multiple choise"},null,8,["modelValue"])])])):(0,i.kq)("",!0)])]),(0,i._)("div",re,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=3})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,ce)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,de)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",ve,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,ge)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,me)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(Ye,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,we,512),[[Ge]]),(0,i._)("div",{onClick:l[29]||(l[29]=(...l)=>e.assign&&e.assign(...l))},"Assign")])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(je,{modelValue:e.googleDriveDialog,"onUpdate:modelValue":l[36]||(l[36]=l=>e.googleDriveDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ee,{class:"google-drive-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Te,{class:"card-header"},{default:(0,i.w5)((()=>[he,(0,i._)("div",null,[(0,i._)("div",null,(0,o.zw)(e.name),1),(0,i._)("div",null,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.googleOAuth2.isAuthorized.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[31]||(l[31]=(...l)=>e.googleSignIn&&e.googleSignIn(...l))}," Sign in ")),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[32]||(l[32]=(...l)=>e.googleSignOut&&e.googleSignOut(...l))}," Sign out ")):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i.wy)((0,i._)("img",ye,null,512),[[Ge]])])])),_:1}),(0,i.Wm)(Te,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",fe,[(0,i._)("div",_e,[e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.j4)(v,{key:0,flat:"",dense:"",onClick:l[33]||(l[33]=l=>e.previousFolder())},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.driveFolderName),1)])),_:1})):(0,i.kq)("",!0),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"add-folder",onClick:l[34]||(l[34]=(...l)=>e.displayFolderDialog&&e.displayFolderDialog(...l))},be)):(0,i.kq)("",!0)]),(0,i.Wm)(ze,{dense:"",class:"folder-body"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.driveList,(l=>((0,i.wg)(),(0,i.j4)(ke,{key:l.id,clickable:"",active:e.clickFolder===l.name,"active-class":"selected",onClick:a=>e.clickFolder=l.name,onDblclick:a=>e.chooseFolder(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,{avatar:""},{default:(0,i.w5)((()=>[De])),_:1}),(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.name),1)])),_:2},1024),(0,i.Wm)(pe,{avatar:"",align:"right"},{default:(0,i.w5)((()=>[Ce])),_:1})])),_:2},1032,["active","onClick","onDblclick"])))),128))])),_:1})]),(0,i._)("div",Se,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=3})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,Ve)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,xe)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",Oe,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,Ae)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,He)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(Ye,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,We,512),[[Ge]]),(0,i._)("div",{onClick:l[35]||(l[35]=(...l)=>e.viewerUpload&&e.viewerUpload(...l))},"Upload")])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(je,{modelValue:e.folderDialog,"onUpdate:modelValue":l[39]||(l[39]=l=>e.folderDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ee,{class:"new-folder-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Te,{class:"close-section"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,Ue,512),[[Ge]])])),_:1}),(0,i.Wm)(Te,{class:"icon-section"},{default:(0,i.w5)((()=>[Ie,Me])),_:1}),(0,i.Wm)(Te,{class:"input-section"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{"hide-bottom-space":"",borderless:"",modelValue:e.newFolderName,"onUpdate:modelValue":l[37]||(l[37]=l=>e.newFolderName=l),"input-class":"text-center","input-style":{height:"30px"},placeholder:"New folder name"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(Ye,{align:"center",class:"button-section"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,Fe,512),[[Ge]]),(0,i.wy)((0,i._)("div",{onClick:l[38]||(l[38]=(...l)=>e.createNewFolder&&e.createNewFolder(...l))},Xe,512),[[Ge]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(je,{modelValue:e.confirmDeleteViewerDialog,"onUpdate:modelValue":l[41]||(l[41]=l=>e.confirmDeleteViewerDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Ee,{class:"confirmCard"},{default:(0,i.w5)((()=>[(0,i.Wm)(Te,{class:"close"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,Ze,512),[[Ge]])])),_:1}),(0,i.Wm)(Te,{class:"items-center text-center"},{default:(0,i.w5)((()=>[Le,Be])),_:1}),(0,i.Wm)(Ye,{align:"center",class:"button"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",{onClick:l[40]||(l[40]=l=>e.deleteSelectedViewer())},Qe,512),[[Ge]]),(0,i.wy)((0,i._)("div",null,Re,512),[[Ge]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(6801),a(979),a(6105),a(2396);var Ke=a(1959),Ge=a(3617),$e=a(9582),Je=a(3659);const el=e=>((0,i.dD)("data-v-b11955de"),e=e(),(0,i.Cn)(),e),ll=el((()=>(0,i._)("img",{src:"img/triangle-up_30X30.svg"},null,-1))),al=["onClick"];function il(e,l,a,t,s,n){return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({"combobox-wrapper":!0,focus:e.toggle})},[(0,i._)("div",{class:"select",onClick:l[0]||(l[0]=l=>e.toggle=!e.toggle)},[(0,i.Uk)((0,o.zw)(e.props.modelValue[e.props.optionLabel])+" ",1),ll]),(0,i._)("div",{class:(0,o.C_)({options:!0,updown:e.toggle}),style:(0,o.j5)({bottom:30*e.props.options.length+30+"px"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.props.options,(l=>((0,i.wg)(),(0,i.iD)("div",{class:"option",key:l,onClick:a=>e.change(l)},(0,o.zw)(l[e.props.optionLabel]),9,al)))),128))],6)],2)}const ol=(0,i.aZ)({name:"combobox",props:{modelValue:{type:Object,default(){return{}}},options:{type:Array,default(){return[]}},optionLabel:{type:String,default:""},optionValue:{type:String,default:""},direction:{type:String,default:"down"}},emits:["update:modelValue"],setup(e,{emit:l}){const a=(0,Ke.iH)(!1);(0,i.bv)((()=>{}));const o=e=>{l("update:modelValue",e),a.value=!1};return{toggle:a,props:e,change:o}}});var tl=a(4260);const sl=(0,tl.Z)(ol,[["render",il],["__scopeId","data-v-b11955de"]]),nl=sl;var ul=a(4898);const rl=(0,i.aZ)({name:"PageViewer",components:{combobox:nl,combobox2:ul.Z},setup(){const e=(0,$e.tv)(),l=(0,Ge.oR)(),a=(0,Ke.iH)(!0),o=(0,Ke.iH)(0),t=(0,Ke.iH)(!1),s=(0,Ke.iH)(!1),n=(0,Ke.iH)(!1),u=(0,Ke.iH)(""),r=(0,Ke.iH)(!1),c=(0,Ke.iH)(1),d=(0,Ke.iH)(""),v=(0,Ke.iH)([]),g=(0,Ke.iH)([]),m=(0,Ke.iH)(!1),p=(0,Ke.iH)(""),w=(0,Ke.iH)(""),h=(0,Ke.iH)(""),y=(0,Ke.iH)(!1),f=(0,Ke.iH)({label:"0°",value:0}),_=(0,Ke.iH)([{label:"0°",value:0},{label:"90°",value:1},{label:"180°",value:2},{label:"270°",value:3}]),k=(0,Ke.iH)(10),b=(0,Ke.iH)(),D=(0,Ke.iH)(),C=(0,Ke.iH)({}),S=(0,Ke.iH)(),V=(0,Ke.iH)({label:"Announcement",value:0}),x=(0,Ke.iH)([{label:"Announcement",value:0},{label:"Assignment",value:1},{label:"Quiz assignment",value:2},{label:"Question",value:3},{label:"Material",value:4}]),O=(0,Ke.iH)({label:"Choose...",value:-1}),A=(0,Ke.iH)([]),H=(0,Ke.iH)(),z=(0,Ke.iH)({label:"No Topic",value:""}),W=(0,Ke.iH)([]),q=(0,Ke.iH)(!1),U=(0,Ke.iH)([]),I=(0,Ke.iH)(""),M=(0,Ke.iH)(""),T=(0,Ke.iH)(100),F=(0,Ke.iH)({}),N=e=>l.dispatch("extension/setViewerSelected",e),X=()=>l.dispatch("extension/clearViewerSelected"),P=e=>l.dispatch("extension/deleteViewer",e),Z=(0,Ke.Fl)((()=>{let e=l.getters["extension/viewers"];return e})),L=(0,Ke.Fl)((()=>{var e=Z.value.filter((e=>!0===e.selected));return e}));(0,i.YP)(Je.googleOAuth2.isAuthorized,(async e=>{if(e&&Je.googleOAuth2.isAuthorized.value){var l=await ne({id:"root",name:"My Drive"}),a=l.result.files.some((e=>"ideaocam files"==e.name));a||await se("ideaocam files","root");var i=l.result.files.some((e=>"ideaocam classroom"==e.name));i||await se("ideaocam classroom","root"),Je.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=Je.googleOAuth2.currentUser.getBasicProfile();p.value=e.result.names[0].displayName,w.value=l.getEmail()})),1===o.value?(s.value=!0,v.value.push({id:"root",name:"My Drive"}),d.value=v.value[v.value.length-1].name,await te(v.value[v.value.length-1])):2===o.value&&(t.value=!0)}})),(0,i.YP)(f,(async e=>{e&&(1!==e.value&&3!==e.value||(D.value.style.transform=""),Q())})),(0,i.YP)(k,(async e=>{e&&Q()})),(0,i.YP)(a,(async e=>{e&&Z.value.length>0&&(C.value=Z.value[0],X(),y.value=!1,setTimeout((()=>{Y()}),0))})),(0,i.YP)(y,(async e=>{e||X()})),(0,i.YP)(O,(async e=>{if(e&&-1!==e.value){let e=(await Je.googleOAuth2.instanceClient.classroom.courses.topics.list({pageSize:10,courseId:O.value.value})).result.topic;for(let l in e)W.value.push({label:e[l].name,value:e[l].topicId})}})),(0,i.wF)((()=>{Z.value.length>0&&(C.value=Z.value[0])})),(0,i.bv)((async()=>{X(),Y()}));const B=()=>{e.go(-1)},Y=()=>{if("image"===C.value.type){let e=D.value.getContext("2d");const l=new Image;l.src=C.value.src,D.value.width=l.width,D.value.height=l.height,l.onload=()=>{e.drawImage(l,0,0,l.width,l.height)},Q()}},Q=()=>{console.log(D.value.width,D.value.height);let e=D.value.width>D.value.height,l="",a="",i="",o="",t="",s="",n="";l=1===f.value.value||3===f.value.value?(k.value/10*.75).toString():(k.value/10*1).toString(),a=90*f.value.value+"deg",i=0!=f.value.value&&2!=f.value.value||e?"auto":"100%",o=0!=f.value.value&&2!=f.value.value||e?"100%":"auto",t=e||!e&&(1==f.value.value||3==f.value.value)?"none":"calc(100vh - 200px)",s=e?"calc(((100vh - 200px) / 3) * 4)":e?"calc(100vw - 356px)":"calc(((100vh - 200px) / 3) * 4)",n=!e&&(e?"calc((100vh - 200px) / 3 * 4)":"calc((100vh - 200px) / 4 * 3)"),F.value={transform:`scale(${l}) rotate(${a})`,height:i,width:o,maxHeight:t,maxWidth:s,minWidth:n,left:"0px",top:"0px"},console.log(F.value)},E=async()=>{if(o.value=1,Je.googleOAuth2.isAuthorized.value){var e=await ne({id:"root",name:"My Drive"}),l=e.result.files.some((e=>"ideaocam files"==e.name));l||await se("ideaocam files","root");var a=e.result.files.some((e=>"ideaocam classroom"==e.name));a||await se("ideaocam classroom","root"),Je.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=Je.googleOAuth2.currentUser.getBasicProfile();p.value=e.result.names[0].displayName,w.value=l.getEmail()})),t.value=!0,O.value={label:"Choose...",value:-1},A.value=[],z.value={label:"No Topic",value:""},W.value=[],I.value="",M.value="";let i=(await Je.googleOAuth2.instanceClient.classroom.courses.list({pageSize:10})).result.courses;for(let e in i)A.value.push({label:i[e].name,value:i[e].id})}else await le()},R=async()=>{if(o.value=2,Je.googleOAuth2.isAuthorized.value){var e=await ne({id:"root",name:"My Drive"}),l=e.result.files.some((e=>"ideaocam files"==e.name));l||await se("ideaocam files","root");var a=e.result.files.some((e=>"ideaocam classroom"==e.name));a||await se("ideaocam classroom","root"),Je.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=Je.googleOAuth2.currentUser.getBasicProfile();p.value=e.result.names[0].displayName,w.value=l.getEmail()})),s.value=!0,v.value.push({id:"root",name:"My Drive"}),d.value=v.value[v.value.length-1].name,await te(v.value[v.value.length-1])}else await le()},j=()=>{n.value=!n.value},K=async()=>{await se(u.value,v.value[v.value.length-1].id),await te(v.value[v.value.length-1]),n.value=!1},G=async(e,l,a,i)=>{var o={name:e,mimeType:l,parents:[i]},t=gapi.auth.getToken().access_token,s=new FormData;s.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),s.append("file",a);let n=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+t}),body:s});return n.json()},$=async()=>{if(-1===O.value.value)return;let e=await ee(),l=[];for(var a in e)l.push({driveFile:{driveFile:{id:e[a]},shareMode:"UNKNOWN_SHARE_MODE"}});var i=gapi.auth.getToken().access_token;if(0===V.value.value){await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/announcements`,{method:"POST",headers:new Headers({Authorization:"Bearer "+i}),body:JSON.stringify({text:M.value,state:1,materials:l})})}else if(4===V.value.value){let e={title:I.value,description:M.value,state:1,materials:l,topicId:z.value.value};await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/courseWorkMaterials`,{method:"POST",headers:new Headers({Authorization:"Bearer "+i}),body:JSON.stringify(e)})}else{let e="COURSE_WORK_TYPE_UNSPECIFIED";1===V.value.value?e="ASSIGNMENT":2===V.value.value?e="MULTIPLE_CHOICE_QUESTION":3===V.value.value&&(e="SHORT_ANSWER_QUESTION");let a={title:I.value,description:M.value,state:1,materials:l,dueDate:{year:new Date(H.value).getFullYear(),month:new Date(H.value).getMonth()+1,day:new Date(H.value).getDate()},dueTime:{hours:23,minutes:59,seconds:59,nanos:0},maxPoints:!Number.isInteger(T.value)||""==T.value.trim()||T.value<0?0:T.value,workType:e,topicId:z.value.value};if(2===V.value.value){let e={choices:[]};for(let l in U.value)e.choices.push(U.value[l].value);a["multipleChoiceQuestion"]=e}await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/courseWork`,{method:"POST",headers:new Headers({Authorization:"Bearer "+i}),body:JSON.stringify(a)})}},J=async()=>{if(a.value){let e=null;if("video"===C.value.type){let l=await fetch(C.value.src);e=await l.blob()}else{let l=C.value.src;const a=atob(l.split(",")[1]),i=[];for(let e=0;e<a.length;e++)i.push(a.charCodeAt(e));e=new Blob([new Uint8Array(i)],{type:C.value.mimeType})}await G(C.value.filename,C.value.mimeType,e,v.value[v.value.length-1].id)}else{let e=Z.value.filter((e=>!0===e.selected));for(let l in e){let a=null;if("video"===e[l].type){let i=await fetch(e[l].src);a=await i.blob()}else{let i=e[l].src;const o=atob(i.split(",")[1]),t=[];for(let e=0;e<o.length;e++)t.push(o.charCodeAt(e));a=new Blob([new Uint8Array(t)],{type:e[l].mimeType})}await G(e[l].filename,e[l].mimeType,a,v.value[v.value.length-1].id)}}t.value=!1,s.value=!1},ee=async()=>{let e=[];var l=await ne({id:"root",name:"My Drive"}),i=l.result.files.some((e=>"ideaocam classroom"==e.name));i||await se("ideaocam classroom","root");let o=l.result.files.find((e=>"ideaocam classroom"==e.name)),s=Z.value.filter((e=>!0===e.selected));if(a.value){let l=null;if("video"===C.value.type){let e=await fetch(C.value.src);l=await e.blob()}else{let e=C.value.src;const a=atob(e.split(",")[1]),i=[];for(let l=0;l<a.length;l++)i.push(a.charCodeAt(l));l=new Blob([new Uint8Array(i)],{type:C.value.mimeType})}let a=await G(C.value.filename,C.value.mimeType,l,o.id);e.push(a.id)}else for(let a in s){let l=null;if("video"===s[a].type){let e=await fetch(s[a].src);l=await e.blob()}else{let e=s[a].src;const i=atob(e.split(",")[1]),o=[];for(let l=0;l<i.length;l++)o.push(i.charCodeAt(l));l=new Blob([new Uint8Array(o)],{type:s[a].mimeType})}let i=await G(s[a].filename,s[a].mimeType,l,o.id);e.push(i.id)}return t.value=!1,e},le=async()=>{Je.googleOAuth2.handleAuthClick()},ae=async()=>{await Je.googleOAuth2.handleDisconnectClick(),s.value=!1,g.value=[]},ie=async()=>{1!=v.value.length&&(v.value.pop(),await te(v.value[v.value.length-1]))},oe=async e=>{v.value.push(e),await te(e)},te=async e=>{var l=await ne(e);d.value=v.value[v.value.length-1].name,g.value=l.result.files},se=async(e,l)=>{await Je.googleOAuth2.instanceClient.drive.files.create({resource:{name:e,parents:[l],mimeType:"application/vnd.google-apps.folder"},fields:"id,parents"})},ne=async e=>{let l="trashed=false and 'me' in owners and mimeType='application/vnd.google-apps.folder'";l+=" and '"+e.id+"' in parents";let a=await Je.googleOAuth2.instanceClient.drive.files.list({fields:"nextPageToken, files(id, name, mimeType, modifiedTime, parents)",q:l,orderBy:"name"});return a},ue=async()=>{if(a.value)P(C.value),Z.value.length>0?C.value=Z.value[0]:C.value={},setTimeout((()=>{Y()}),0);else{let e=Z.value.filter((e=>!0===e.selected));for(let l in e)P(e[l])}},re=()=>{if(a.value){var e=document.createElement("a");e.download=C.value.filename,e.href=C.value.src,e.click(),e.remove()}else{let l=Z.value.filter((e=>!0===e.selected));for(let a in l){e=document.createElement("a");e.download=l[a].filename,e.href=l[a].src,e.click(),e.remove()}}},ce=()=>{let e=(0==f.value.value?3:f.value.value-1)%_.value.length;f.value=_.value.find((l=>l.value==e)),Q()},de=()=>{let e=(f.value.value+1)%_.value.length;f.value=_.value.find((l=>l.value==e)),Q()},ve=()=>{60!=k.value&&(k.value+=1,Q())},ge=()=>{10!=k.value&&(k.value-=1,Q())};let me,pe;const we=e=>{me=e.pageX,pe=e.pageY},he=e=>{if(e.buttons){let l=0,a=0;e.pageX-me!==0&&(l=me-e.pageX,me=e.pageX),e.pageY-pe!==0&&(a=pe-e.pageY,pe=e.pageY),0===l&&0===a||(console.log(l,a),S.value.scrollBy(l,a))}},ye=()=>{if(Z.value.length<=1)return;let e=Z.value.findIndex((e=>e.id==C.value.id));0!=e&&(C.value=Z.value[e-1],setTimeout((()=>{Y()}),0))},fe=()=>{if(Z.value.length<=1)return;let e=Z.value.findIndex((e=>e.id==C.value.id));e!=Z.value.length-1&&(C.value=Z.value[e+1],setTimeout((()=>{Y()}),0))},_e=e=>{U.value.splice(e,1)},ke=()=>{U.value.push({value:""})};let be=[];const De=e=>{e&&be.push(e)};return(0,i.Xn)((()=>{be=[]})),{combobox:nl,combobox2:ul.Z,googleOAuth2:Je.googleOAuth2,isViewerMode:a,googleClassroomDialog:t,googleDriveDialog:s,folderDialog:n,newFolderName:u,isFullScreen:r,slide:c,viewer:C,viewers:Z,viewersSelected:L,driveFolderName:d,driveLocation:v,driveList:g,confirmDeleteViewerDialog:m,name:p,username:w,clickFolder:h,selectMultiple:y,angle:f,angleList:_,zoomInOutSlider:k,viewerImage:b,viewerCanvas:D,divViewer:S,type:V,typeList:x,course:O,courseList:A,due:H,topic:z,topicList:W,multipleChoise:q,optionList:U,title:I,description:M,maxPoints:T,viewerCanvasStyle:F,goBack:B,setViewerSelected:N,displayGoogleClassroomDialog:E,displayGoogleDriveDialog:R,displayFolderDialog:j,createNewFolder:K,googleSignIn:le,googleSignOut:ae,previousFolder:ie,chooseFolder:oe,deleteSelectedViewer:ue,download:re,assign:$,viewerUpload:J,previousRotate:ce,nextRotate:de,zoomIn:ve,zoomOut:ge,viewerDown:we,viewerMove:he,viewerPrevious:ye,viewerNext:fe,cancelOption:_e,addOption:ke,setOptionRef:De}}});var cl=a(6114),dl=a(5153),vl=a(6335),gl=a(7011),ml=a(3414),pl=a(2035),wl=a(5926),hl=a(151),yl=a(5589),fl=a(7991),_l=a(9367),kl=a(1206),bl=a(6003),Dl=a(677),Cl=a(7518),Sl=a.n(Cl);const Vl=(0,tl.Z)(rl,[["render",je],["__scopeId","data-v-2e1a095d"]]),xl=Vl;Sl()(rl,"components",{QBtn:cl.Z,QSlider:dl.Z,QMenu:vl.Z,QList:gl.Z,QItem:ml.Z,QItemSection:pl.Z,QDialog:wl.Z,QCard:hl.Z,QCardSection:yl.Z,QRadio:fl.Z,QCardActions:_l.Z,QInput:kl.Z,QCarousel:bl.Z}),Sl()(rl,"directives",{ClosePopup:Dl.Z})}}]);