"use strict";(self["webpackChunkideao"]=self["webpackChunkideao"]||[]).push([[805],{4745:(e,l,a)=>{a.r(l),a.d(l,{default:()=>sa});a(71),a(246);var i=a(3673),o=a(2323),t=a(8880);const s=e=>((0,i.dD)("data-v-772c72eb"),e=e(),(0,i.Cn)(),e),n={class:"wrapper"},r=s((()=>(0,i._)("img",{class:"icon",src:"img/previous_50X50.svg"},null,-1))),c=[r],u={key:0,class:"icon",src:"img/thumbnail_50X50.svg"},d={key:1,class:"icon",src:"img/back to viewer_50X50.svg"},v={key:0,class:"icon",src:"img/full-screen_50X50.svg"},m={key:1,class:"icon",src:"img/exit-full-screen_50X50.svg"},g={class:"viewer-wrapper"},w=s((()=>(0,i._)("div",{class:"download-img"},null,-1))),p=s((()=>(0,i._)("div",{class:"download-text"},"Download",-1))),h=[w,p],f=s((()=>(0,i._)("div",{class:"trash-img"},null,-1))),_=s((()=>(0,i._)("div",{class:"trash-text"},"Delete",-1))),y=[f,_],k=s((()=>(0,i._)("img",{class:"icon",src:"img/select-multiple_50X50.svg"},null,-1))),D=s((()=>(0,i._)("div",{class:"select-mutiple-text"},"Select",-1))),b=[k,D],C={key:0,class:"viewer-body"},S={class:"viewer-left"},V=["src"],x=["src"],O={class:"viewer-right"},H={key:1,class:"viewer-thumbnail"},I={class:"viewer-thumbnail-main"},q=["onClick"],W=(0,i.Uk)("Delete"),z=(0,i.Uk)("Upload"),F=(0,i.Uk)("Download"),U=(0,i.Uk)("Open in a new tab"),A=["src"],T=["src"],M={key:2,class:"viewer-footer"},N={class:"rotate"},P=s((()=>(0,i._)("img",{class:"rotation",src:"img/rotation_45X45.svg"},null,-1))),G={class:"zoomInOut"},X=s((()=>(0,i._)("img",{class:"zoom",src:"img/zoom_45X45.svg"},null,-1))),Z={class:"text"},L=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-classroom-normal_H35.svg"})],-1))),R={class:"text"},B={class:"text"},Q=s((()=>(0,i._)("div",{class:"text"},"Sign in",-1))),E=[Q],j=s((()=>(0,i._)("div",{class:"text"},"Sign out",-1))),Y=[j],K={class:"folder-wrapper"},J={class:"form"},$={class:"form-item"},ee=s((()=>(0,i._)("div",{class:"header"},"Type",-1))),le={class:"form-item"},ae=s((()=>(0,i._)("div",{class:"header"},"For",-1))),ie={key:0,class:"form-item"},oe=s((()=>(0,i._)("div",{class:"header"},"Point",-1))),te={key:1,class:"form-item"},se=s((()=>(0,i._)("div",{class:"header"},"Due",-1))),ne=["min"],re={key:2,class:"form-item"},ce=s((()=>(0,i._)("div",{class:"header"},"Topic",-1))),ue={key:3,class:"form-item title"},de=s((()=>(0,i._)("div",{class:"header"},"Title",-1))),ve={class:"form-item description"},me=s((()=>(0,i._)("div",{class:"header"},"Description (optional)",-1))),ge={key:4,class:"form-item options"},we={class:"header"},pe=["onUpdate:modelValue"],he=["onClick"],fe={key:5,class:"form-item add-option"},_e=s((()=>(0,i._)("img",{src:"img/plus_20X20.svg"},null,-1))),ye=s((()=>(0,i._)("div",null,"Add option",-1))),ke=[_e,ye],De={class:"multiple"},be=s((()=>(0,i._)("label",{for:"true"},[(0,i._)("div",{class:"text"},"Multiple choise")],-1))),Ce={class:"upload-wrapper"},Se=["src"],Ve=["src"],xe={key:1,class:(0,o.C_)({large:!0})},Oe=["src"],He=["src"],Ie={class:"button"},qe=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),We=[qe],ze=s((()=>(0,i._)("div",{class:"text"},"Assign",-1))),Fe=[ze],Ue=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-drive-normal_H35.svg"})],-1))),Ae={class:"text"},Te={class:"text"},Me=s((()=>(0,i._)("div",{class:"text"},"Sign in",-1))),Ne=[Me],Pe=s((()=>(0,i._)("div",{class:"text"},"Sign out",-1))),Ge=[Pe],Xe={class:"folder-wrapper"},Ze={class:"folder-header"},Le=s((()=>(0,i._)("img",{src:"img/previous_folder_10X10.svg"},null,-1))),Re=s((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),Be=[Re],Qe=s((()=>(0,i._)("img",{src:"img/folder_25X25.svg"},null,-1))),Ee=s((()=>(0,i._)("img",{src:"img/enter-folder_15X15.svg"},null,-1))),je={class:"upload-wrapper"},Ye=["src"],Ke=["src"],Je={key:1,class:(0,o.C_)({large:!0})},$e=["src"],el=["src"],ll={class:"button"},al=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),il=[al],ol=s((()=>(0,i._)("div",{class:"text"},"Upload",-1))),tl=[ol],sl={class:"close"},nl=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),rl=[nl],cl=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/add-folder_50X50.svg"})],-1))),ul=s((()=>(0,i._)("div",{class:"text"},"New folder",-1))),dl={class:"button"},vl=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),ml=[vl],gl=s((()=>(0,i._)("div",{class:"text"},"Create",-1))),wl=[gl],pl={class:"close"},hl=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),fl=[hl],_l=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/excalmation_50X50.svg"})],-1))),yl=s((()=>(0,i._)("div",{class:"text"},"Delete the file?",-1))),kl={class:"button"},Dl=s((()=>(0,i._)("div",{class:"text"},"Cancel",-1))),bl=[Dl],Cl=s((()=>(0,i._)("div",{class:"text"},"Delete",-1))),Sl=[Cl],Vl={class:"close"},xl=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),Ol=[xl],Hl=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/excalmation_50X50.svg"})],-1))),Il=s((()=>(0,i._)("div",{class:"text"},"Select at least one file.",-1))),ql={class:"button"},Wl=s((()=>(0,i._)("div",{class:"text"},"OK",-1))),zl=[Wl];function Fl(e,l,a,s,r,w){const p=(0,i.up)("q-btn"),f=(0,i.up)("q-item-section"),_=(0,i.up)("q-item"),k=(0,i.up)("q-list"),D=(0,i.up)("q-menu"),Q=(0,i.up)("combobox"),j=(0,i.up)("q-slider"),_e=(0,i.up)("q-card-section"),ye=(0,i.up)("combobox2"),qe=(0,i.up)("q-card-actions"),ze=(0,i.up)("q-card"),Me=(0,i.up)("q-dialog"),Pe=(0,i.up)("q-input"),Re=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",n,[(0,i._)("div",{class:"previous",onClick:l[0]||(l[0]=(...l)=>e.onGoBack&&e.onGoBack(...l))},c),(0,i._)("div",{class:"thumbnail",onClick:l[1]||(l[1]=l=>e.isViewerMode=!e.isViewerMode)},[e.isViewerMode?((0,i.wg)(),(0,i.iD)("img",u)):(0,i.kq)("",!0),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",d))]),(0,i._)("div",{class:"full-screen",onClick:l[2]||(l[2]=l=>{e.isViewerMode&&(e.isFullScreen=!e.isFullScreen)})},[e.isFullScreen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",v)),e.isFullScreen?((0,i.wg)(),(0,i.iD)("img",m)):(0,i.kq)("",!0)]),(0,i._)("div",g,[(0,i._)("div",{class:(0,o.C_)({"viewer-header":!0,"thumbnail-mode":!e.isViewerMode})},[(0,i._)("div",{class:"google-classroom",onClick:l[3]||(l[3]=(...l)=>e.onDisplayGoogleClassroomDialog&&e.onDisplayGoogleClassroomDialog(...l))}),(0,i._)("div",{class:"google-drive",onClick:l[4]||(l[4]=(...l)=>e.onDisplayGoogleDriveDialog&&e.onDisplayGoogleDriveDialog(...l))}),(0,i._)("div",{class:"download",onClick:l[5]||(l[5]=l=>e.onDownload())},h),(0,i._)("div",{class:"trash",onClick:l[6]||(l[6]=(...l)=>e.onConfirmDeleteViewerDialog&&e.onConfirmDeleteViewerDialog(...l))},y),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"select-mutiple",onClick:l[7]||(l[7]=l=>e.selectMultiple=!e.selectMultiple)},b))],2),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("div",S,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(p,{key:0,"text-color":"white",icon:"arrow_back_ios_new",size:"20px",onClick:e.onViewerPrevious},null,8,["onClick"])):(0,i.kq)("",!0)]),(0,i._)("div",{class:(0,o.C_)({"viewer-main":!0,"resolution-9_16":.5625==e.viewer.ratio,"full-screen-mode":e.isFullScreen})},["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,ref:"viewerImage",src:e.viewer.src,style:(0,o.j5)({display:"none",transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%"})},null,12,V)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("canvas",{ref:"viewerCanvas",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)"})},null,4),[[t.F8,"image"===e.viewer.type]]),(0,i.wy)((0,i._)("video",{src:e.viewer.src,ref:"viewerVideo",controls:"",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)"})},null,12,x),[[t.F8,"video"===e.viewer.type]])],2),(0,i._)("div",O,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(p,{key:0,"text-color":"white",icon:"arrow_forward_ios",size:"20px",onClick:e.onViewerNext},null,8,["onClick"])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("div",I,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.viewers,(a=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({item:!0}),key:a.id,onClick:l=>e.setViewerSelected({data:a,selected:!a.selected,selectMultiple:e.selectMultiple})},[e.selectMultiple?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)({"selected-number":!0,"selected-true":0!==a.order})},(0,o.zw)(0==a.order?"":a.order),3)):(0,i.kq)("",!0),(0,i.Wm)(D,{"touch-position":"","context-menu":"",onBeforeShow:l=>e.setViewerSelected({data:a,selected:!0,selectMultiple:e.selectMultiple})},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{dense:"",style:{"min-width":"100px"}},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(_,{clickable:"",onClick:l[8]||(l[8]=l=>e.confirmDeleteViewerDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[W])),_:1})])),_:1},512),[[Re]]),(0,i.wy)((0,i.Wm)(_,{clickable:"",onClick:e.onDisplayGoogleDriveDialog},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[z])),_:1})])),_:1},8,["onClick"]),[[Re]]),(0,i.wy)((0,i.Wm)(_,{clickable:"",onClick:l[9]||(l[9]=l=>e.onDownload())},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[F])),_:1})])),_:1},512),[[Re]]),(0,i.wy)((0,i.Wm)(_,{clickable:"",tag:"a",target:"_blank",href:a.src},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[U])),_:1})])),_:2},1032,["href"]),[[Re]])])),_:2},1024)])),_:2},1032,["onBeforeShow"]),(0,i._)("div",{class:(0,o.C_)({viewer:!0,selected:a.selected})},["image"===a.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:a.src},null,8,A)):(0,i.kq)("",!0),"video"===a.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:a.src},null,8,T)):(0,i.kq)("",!0)],2),(0,i._)("div",{class:(0,o.C_)({filename:!0,selected:a.selected})},(0,o.zw)(a.filename),3)],8,q)))),128))])])),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("div",N,[P,(0,i.Wm)(Q,{options:e.angleList,"option-label":"label","option-value":"value",modelValue:e.angle,"onUpdate:modelValue":l[10]||(l[10]=l=>e.angle=l),class:"combobox"},null,8,["options","modelValue"]),(0,i._)("img",{class:"cw",src:"img/CW_25X25.svg",onClick:l[11]||(l[11]=(...l)=>e.onNextRotate&&e.onNextRotate(...l))}),(0,i._)("img",{class:"ccw",src:"img/CCW_25X25.svg",onClick:l[12]||(l[12]=(...l)=>e.onPreviousRotate&&e.onPreviousRotate(...l))})]),(0,i._)("div",G,[X,(0,i._)("div",Z,(0,o.zw)(1==(e.zoomInOutSlider/10).toString().length?(e.zoomInOutSlider/10).toString()+".0":(e.zoomInOutSlider/10).toString())+" x ",1),(0,i._)("img",{class:"minus",src:"img/minus_20X20.svg",onClick:l[13]||(l[13]=(...l)=>e.onZoomOut&&e.onZoomOut(...l))}),(0,i.Wm)(j,{modelValue:e.zoomInOutSlider,"onUpdate:modelValue":l[14]||(l[14]=l=>e.zoomInOutSlider=l),min:10,max:60,step:1,"track-size":"4px","thumb-size":"10px","inner-track-color":"white",color:"ideao",class:"slider"},null,8,["modelValue"]),(0,i._)("img",{class:"plus",src:"img/plus_20X20.svg",onClick:l[15]||(l[15]=(...l)=>e.onZoomIn&&e.onZoomIn(...l))})])])):(0,i.kq)("",!0)])]),(0,i.Wm)(Me,{modelValue:e.googleClassroomDialog,"onUpdate:modelValue":l[28]||(l[28]=l=>e.googleClassroomDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ze,{class:"google-classroom-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{class:"card-header"},{default:(0,i.w5)((()=>[L,(0,i._)("div",null,[(0,i._)("div",R,(0,o.zw)(e.name),1),(0,i._)("div",B,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.isAuthorized?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[16]||(l[16]=(...l)=>e.onGoogleSignIn&&e.onGoogleSignIn(...l))},E)),e.isAuthorized?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[17]||(l[17]=(...l)=>e.onGoogleSignOut&&e.onGoogleSignOut(...l))},Y)):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(_e,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",K,[(0,i._)("div",J,[(0,i._)("div",$,[ee,(0,i.Wm)(ye,{options:e.typeList,"option-label":"label","option-value":"value",modelValue:e.type,"onUpdate:modelValue":l[18]||(l[18]=l=>e.type=l),class:"combobox"},null,8,["options","modelValue"])]),(0,i._)("div",le,[ae,(0,i.Wm)(ye,{options:e.courseList,"option-label":"label","option-value":"value",modelValue:e.course,"onUpdate:modelValue":l[19]||(l[19]=l=>e.course=l),class:"combobox"},null,8,["options","modelValue"])]),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",ie,[oe,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":l[20]||(l[20]=l=>e.maxPoints=l)},null,512),[[t.nr,e.maxPoints]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",te,[se,(0,i.wy)((0,i._)("input",{type:"date",min:e.minDate,"onUpdate:modelValue":l[21]||(l[21]=l=>e.due=l),style:{"font-size":"10px"}},null,8,ne),[[t.nr,e.due]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value||4===e.type.value?((0,i.wg)(),(0,i.iD)("div",re,[ce,(0,i.Wm)(ye,{options:e.topicList,"option-label":"label","option-value":"value",modelValue:e.topic,"onUpdate:modelValue":l[22]||(l[22]=l=>e.topic=l),class:"combobox"},null,8,["options","modelValue"])])):(0,i.kq)("",!0),0!==e.type.value?((0,i.wg)(),(0,i.iD)("div",ue,[de,(0,i.wy)((0,i._)("textarea",{rows:"2","onUpdate:modelValue":l[23]||(l[23]=l=>e.title=l)},null,512),[[t.nr,e.title]])])):(0,i.kq)("",!0),(0,i._)("div",ve,[me,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":l[24]||(l[24]=l=>e.description=l)},null,512),[[t.nr,e.description]])]),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",ge,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.optionList,((l,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"option",key:l},[(0,i._)("div",we,"Option "+(0,o.zw)(a+1),1),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.value=e,ref:e.onSetOptionRef},null,8,pe),[[t.nr,l.value]]),(0,i._)("img",{class:"cancel",src:"img/cancel-option_20X20.svg",onClick:l=>e.onCancelOption(a)},null,8,he)])))),128))])):(0,i.kq)("",!0),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",fe,[(0,i._)("div",{class:"add",onClick:l[25]||(l[25]=(...l)=>e.onAddOption&&e.onAddOption(...l))},ke),(0,i._)("div",De,[(0,i.wy)((0,i._)("input",{type:"radio",id:"true",name:"multipleChoise","onUpdate:modelValue":l[26]||(l[26]=l=>e.multipleChoise=l)},null,512),[[t.G2,e.multipleChoise]]),be])])):(0,i.kq)("",!0)])]),(0,i._)("div",Ce,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=2})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,Se)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,Ve)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",xe,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,Oe)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,He)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(qe,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Ie,We,512),[[Re]]),(0,i._)("div",{class:"button",onClick:l[27]||(l[27]=(...l)=>e.onAssign&&e.onAssign(...l))},Fe)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Me,{modelValue:e.googleDriveDialog,"onUpdate:modelValue":l[34]||(l[34]=l=>e.googleDriveDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ze,{class:"google-drive-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{class:"card-header"},{default:(0,i.w5)((()=>[Ue,(0,i._)("div",null,[(0,i._)("div",Ae,(0,o.zw)(e.name),1),(0,i._)("div",Te,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.isAuthorized?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[29]||(l[29]=(...l)=>e.onGoogleSignIn&&e.onGoogleSignIn(...l))},Ne)),e.isAuthorized?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[30]||(l[30]=(...l)=>e.onGoogleSignOut&&e.onGoogleSignOut(...l))},Ge)):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(_e,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",Xe,[(0,i._)("div",Ze,[e.isAuthorized?((0,i.wg)(),(0,i.j4)(p,{key:0,flat:"",dense:"","no-caps":"",onClick:l[31]||(l[31]=l=>e.onPreviousFolder())},{default:(0,i.w5)((()=>[Le,(0,i._)("div",null,(0,o.zw)(e.driveFolderName),1)])),_:1})):(0,i.kq)("",!0),e.isAuthorized?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"add-folder",onClick:l[32]||(l[32]=(...l)=>e.onDisplayFolderDialog&&e.onDisplayFolderDialog(...l))},Be)):(0,i.kq)("",!0)]),(0,i.Wm)(k,{dense:"",class:"folder-body"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.driveList,(l=>((0,i.wg)(),(0,i.j4)(_,{key:l.id,clickable:"",active:e.clickFolder===l.name,"active-class":"selected",onClick:a=>e.clickFolder=l.name,onDblclick:a=>e.onChooseFolder(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{avatar:""},{default:(0,i.w5)((()=>[Qe])),_:1}),(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.name),1)])),_:2},1024),(0,i.Wm)(f,{avatar:"",align:"right",class:"right"},{default:(0,i.w5)((()=>[Ee])),_:1})])),_:2},1032,["active","onClick","onDblclick"])))),128))])),_:1})]),(0,i._)("div",je,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=2})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,Ye)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,Ke)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",Je,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,$e)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,el)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(qe,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",ll,il,512),[[Re]]),(0,i._)("div",{class:"button",onClick:l[33]||(l[33]=(...l)=>e.onViewerUpload&&e.onViewerUpload(...l))},tl)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Me,{modelValue:e.folderDialog,"onUpdate:modelValue":l[37]||(l[37]=l=>e.folderDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ze,{class:"new-folder-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{class:"body"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",sl,rl,512),[[Re]]),cl,ul])),_:1}),(0,i.Wm)(_e,{class:"input-section"},{default:(0,i.w5)((()=>[(0,i.Wm)(Pe,{"hide-bottom-space":"",borderless:"",modelValue:e.newFolderName,"onUpdate:modelValue":l[35]||(l[35]=l=>e.newFolderName=l),"input-class":"text-center","input-style":{height:"22.5px"},placeholder:"New folder name"},null,8,["modelValue","input-style"])])),_:1}),(0,i.Wm)(qe,{class:"footer"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",dl,ml,512),[[Re]]),(0,i.wy)((0,i._)("div",{class:"button",onClick:l[36]||(l[36]=l=>e.onCreateNewFolder())},wl,512),[[Re]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Me,{modelValue:e.confirmDeleteViewerDialog,"onUpdate:modelValue":l[39]||(l[39]=l=>e.confirmDeleteViewerDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ze,{class:"confirm-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{class:"body"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",pl,fl,512),[[Re]]),_l,yl])),_:1}),(0,i.Wm)(qe,{class:"footer"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",kl,bl,512),[[Re]]),(0,i.wy)((0,i._)("div",{class:"button",onClick:l[38]||(l[38]=l=>e.onDeleteSelectedViewer())},Sl,512),[[Re]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Me,{modelValue:e.selectAtLeastOneFileDialog,"onUpdate:modelValue":l[40]||(l[40]=l=>e.selectAtLeastOneFileDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ze,{class:"confirm-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{class:"body"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Vl,Ol,512),[[Re]]),Hl,Il])),_:1}),(0,i.Wm)(qe,{class:"footer"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",ql,zl,512),[[Re]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(5363),a(2799),a(6801);var Ul=a(1959),Al=a(3617),Tl=a(9582),Ml=a(8825),Nl=a(958),Pl=a(3659),Gl=a(6449),Xl=a(1935);const Zl=(0,i.aZ)({name:"PageViewer",components:{combobox:Gl.Z,combobox2:Xl.Z},setup(){const e=(0,Tl.tv)(),l=(0,Tl.yj)(),a=(0,Al.oR)(),o=(0,Ml.Z)(),{initFileSystem:t,removeTheFile:s,getUrlByFilename:n}=(0,Nl.Z)(),r=(0,Ul.iH)(!0),c=(0,Ul.iH)(!1),u=(0,Ul.iH)({}),d=(0,Ul.iH)(),v=(0,Ul.iH)(),m=(0,Ul.iH)(),g=(0,Ul.iH)({label:"0°",value:0}),w=(0,Ul.iH)([{label:"0°",value:0},{label:"90°",value:1},{label:"180°",value:2},{label:"270°",value:3}]),p=(0,Ul.iH)(10),h=(0,Ul.iH)(!1),f=(0,Ul.iH)(!1),_=(0,Ul.iH)(!1),y=(0,Ul.iH)(!1),k=(0,Ul.iH)(!1),D=(0,Ul.iH)(!1),b=(0,Ul.iH)(0),C=(0,Ul.iH)(""),S=(0,Ul.iH)(""),V=(0,Ul.iH)({label:"Announcement",value:0}),x=(0,Ul.iH)([{label:"Announcement",value:0},{label:"Assignment",value:1},{label:"Quiz assignment",value:2},{label:"Question",value:3},{label:"Material",value:4}]),O=(0,Ul.iH)({label:"Choose...",value:-1}),H=(0,Ul.iH)([]),I=(0,Ul.iH)(),q=(0,Ul.iH)({label:"No Topic",value:""}),W=(0,Ul.iH)([]),z=(0,Ul.iH)(!1),F=(0,Ul.iH)([]),U=(0,Ul.iH)(""),A=(0,Ul.iH)(""),T=(0,Ul.iH)(100),M=(0,Ul.iH)(""),N=(0,Ul.iH)(""),P=(0,Ul.iH)([]),G=(0,Ul.iH)([]),X=(0,Ul.iH)(""),Z=(0,Ul.iH)(""),L=(0,Ul.iH)(!1);let R=null;const B=e=>a.dispatch("extension/setViewer",e),Q=e=>a.dispatch("extension/setViewerSelected",e),E=()=>a.dispatch("extension/clearViewerSelected"),j=e=>a.dispatch("extension/deleteViewer",e),Y=(0,Ul.Fl)((()=>a.getters["extension/viewers"])),K=(0,Ul.Fl)((()=>a.getters["extension/googleDriveFolder"])),J=e=>a.dispatch("extension/deleteMotionPhoto",e),$=(0,Ul.Fl)((()=>{var e=Y.value.filter((e=>!0===e.selected));return e})),ee=(0,Ul.Fl)((()=>a.getters["extension/authToken"])),le=e=>a.dispatch("extension/setAuthToken",e);(0,i.YP)(ee,(async e=>{if(e){let e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{method:"GET",headers:new Headers({Authorization:"Bearer "+ee.value})}),l=await e.json();if(l.error)return;C.value=l.name,S.value=l.email,D.value=!0}else D.value=!1,S.value="Link your Google account"}),{deep:!0,immediate:!1}),(0,i.YP)(r,(async e=>{e&&Y.value.length>0&&(u.value=Y.value.slice()[0],E(),L.value=!1,setTimeout((()=>{se()}),100))})),(0,i.YP)(L,(async e=>{e||E()})),(0,i.YP)(O,(async e=>{if(e&&-1!==e.value){let e=(await Pl.googleOAuth2.instanceClient.classroom.courses.topics.list({pageSize:10,courseId:O.value.value})).result.topic;for(let l in e)W.value.push({label:e[l].name,value:e[l].topicId})}})),(0,i.bv)((async()=>{void 0!==l.query.vm&&(e.replace({path:"/viewer"}),r.value=1==l.query.vm);var a=new Date;a.setDate(a.getDate()+1),M.value=a.getFullYear()+"-"+a.getMonth()+"1-"+a.getDate(),R=await t();for(let e in Y.value){let l=await n(R,Y.value[e].filename,Y.value[e].mimeType),a=Object.assign({},Y.value[e]);a.src=l,B(a)}Y.value.length>0&&(u.value=Y.value[0]),se(),await Ve()}));const ae=()=>{e.go(-1)},ie=()=>{if(r.value){var e=document.createElement("a");e.download=u.value.filename,e.href=u.value.src,e.click(),e.remove()}else{if(0==$.value.length)return void(k.value=!0);let l=Y.value.filter((e=>!0===e.selected));for(let a in l){e=document.createElement("a");e.download=l[a].filename,e.href=l[a].src,e.click(),e.remove()}}},oe=async()=>{if(r.value);else if(0==$.value.length)return void(k.value=!0);h.value=!0},te=async()=>{if(r.value)j(u.value),J(u.value),await s(R,u.value.filename),Y.value.length>0?u.value=Y.value.slice()[0]:u.value={},se();else{let e=Y.value.filter((e=>!0===e.selected));for(let l in e)j(e[l]),J(e[l]),await s(R,e[l].filename)}},se=()=>{if("image"===u.value.type&&r.value){let e=v.value.getContext("2d");const l=new Image;l.src=u.value.src,l.onload=()=>{v.value.width=l.width,v.value.height=l.height,e.drawImage(l,0,0,l.width,l.height)}}else"video"===u.value.type&&r.value},ne=()=>{if(Y.value.length<=1)return;let e=Y.value.findIndex((e=>e.id==u.value.id));0!=e&&(u.value=Y.value.slice()[e-1],se())},re=()=>{if(Y.value.length<=1)return;let e=Y.value.findIndex((e=>e.id==u.value.id));e!=Y.value.length-1&&(u.value=Y.value.slice()[e+1],se())},ce=()=>{let e=(0==g.value.value?3:g.value.value-1)%w.value.length;g.value=w.value.find((l=>l.value==e))},ue=()=>{let e=(g.value.value+1)%w.value.length;g.value=w.value.find((l=>l.value==e))},de=()=>{60!=p.value&&(p.value+=1)},ve=()=>{10!=p.value&&(p.value-=1)},me=async()=>{if(r.value||0!=$.value.length)if(b.value=1,O.value={label:"Choose...",value:-1},H.value=[],q.value={label:"No Topic",value:""},W.value=[],U.value="",A.value="",F.value=[],F.value.push({value:""}),D.value){var e=await fe({id:"root",name:"My Drive"}),l=e.files.some((e=>e.name==K.value.value));l||await driveFilesCreate(K.value.value,"root");var a=e.files.some((e=>"ideaocam classroom"==e.name));a||await driveFilesCreate("ideaocam classroom","root"),f.value=!0;let i=(await Pl.googleOAuth2.instanceClient.classroom.courses.list({pageSize:10})).result.courses;for(let e in i)H.value.push({label:i[e].name,value:i[e].id})}else await xe();else k.value=!0},ge=async()=>{if(r.value||0!=$.value.length)if(b.value=2,D.value){var e=await fe({id:"root",name:"My Drive"}),l=e.files.some((e=>e.name==K.value.value));l||await he(K.value.value,"root");var a=e.files.some((e=>"ideaocam classroom"==e.name));a||await he("ideaocam classroom","root"),_.value=!0,P.value.push({id:"root",name:"My Drive"}),N.value=P.value[P.value.length-1].name,await ke(P.value[P.value.length-1]);let i=await fe({id:"root",name:"My Drive"}),o=i.files.find((e=>e.name==K.value.value));await ye(o)}else await xe();else k.value=!0},we=()=>{y.value=!y.value},pe=async()=>{await he(Z.value,P.value[P.value.length-1].id),Z.value="",await ke(P.value[P.value.length-1]),y.value=!1},he=async(e,l)=>{await fetch("https://www.googleapis.com/drive/v2/files",{method:"POST",headers:new Headers({Authorization:"Bearer "+ee.value,"Content-Type":"application/json"}),body:JSON.stringify({title:e,parents:[{id:l}],mimeType:"application/vnd.google-apps.folder"})})},fe=async e=>{let l="trashed=false and 'me' in owners and mimeType='application/vnd.google-apps.folder'";l+=" and '"+e.id+"' in parents";let a={fields:"nextPageToken, files(id, name, mimeType, modifiedTime, parents)",q:l,orderBy:"name"},i=await fetch("https://www.googleapis.com/drive/v3/files?"+new URLSearchParams(a),{method:"GET",headers:new Headers({Authorization:"Bearer "+ee.value})});return await i.json()},_e=async()=>{1!=P.value.length&&(P.value.pop(),await ke(P.value[P.value.length-1]))},ye=async e=>{P.value.push(e),await ke(e)},ke=async e=>{var l=await fe(e);N.value=P.value[P.value.length-1].name,G.value=l.files},De=e=>{F.value.splice(e,1)},be=()=>{F.value.push({value:""})};let Ce=[];const Se=e=>{e&&Ce.push(e)};(0,i.Xn)((()=>{Ce=[]}));const Ve=async()=>{gapi.load("client:auth2",(async()=>{gapi.client.init({apiKey:"AIzaSyB3scwKR0F77IM3610rBeCA6AT_9-aNUl8",discoveryDocs:[decodeURIComponent("https://content.googleapis.com/discovery/v1/apis/drive/v3/rest"),decodeURIComponent("https://www.googleapis.com/discovery/v1/apis/people/v1/rest"),decodeURIComponent("https://people.googleapis.com/%24discovery/rest?version=v1"),decodeURIComponent("https://classroom.googleapis.com/%24discovery/rest")],clientId:"276709432964-3u3a0fk731gs5eop04vdl2una1dfcl5l.apps.googleusercontent.com",scope:"profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials",fetch_basic_profile:!1}).then((async()=>{let e=gapi.auth2.getAuthInstance();var l=e.currentUser.get().hasGrantedScopes("profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials");if(l){le("");let l=e.currentUser.get();le(l.wc.access_token)}else le("")}))}))},xe=async()=>{{const l=await gapi.auth2.getAuthInstance().signIn();var e=gapi.auth2.getAuthInstance().currentUser.get().hasGrantedScopes("profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials");e&&le(l.wc.access_token)}1==b.value?await onDisplayClassroomDialog():await ge()},Oe=async()=>{gapi.auth2.getAuthInstance().disconnect(),f.value=!1,_.value=!1,le("")},He=async(e,l,a,i)=>{var o={name:e,mimeType:l,parents:[i]},t=new FormData;t.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),t.append("file",a);let s=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+ee.value}),body:t});return s.json()},Ie=async e=>{let l={role:"reader",type:"anyone"};await fetch("https://www.googleapis.com/drive/v3/files/"+e+"/permissions",{method:"POST",headers:new Headers({Authorization:"Bearer "+ee.value,"Content-Type":"application/json"}),body:JSON.stringify(l)})},qe=async()=>{if(o.loading.show(),r.value){let e=null;if("video"===u.value.type){let l=await fetch(u.value.src);e=await l.blob()}else{let l=await fetch(u.value.src);e=await l.blob()}let l=await He(u.value.filename,u.value.mimeType,e,P.value[P.value.length-1].id);await Ie(l.id)}else{let e=Y.value.filter((e=>!0===e.selected));for(let l in e){let a=null;if("video"===e[l].type){let i=await fetch(e[l].src);a=await i.blob()}else{let i=await fetch(e[l].src);a=await i.blob()}let i=await He(e[l].filename,e[l].mimeType,a,P.value[P.value.length-1].id);await Ie(i.id)}}f.value=!1,_.value=!1,o.loading.hide()},We=async()=>{o.loading.show();let e=[];var l=await fe({id:"root",name:"My Drive"}),a=l.files.some((e=>"ideaocam classroom"==e.name));a||await driveFilesCreate("ideaocam classroom","root");let i=l.files.find((e=>"ideaocam classroom"==e.name)),t=Y.value.filter((e=>!0===e.selected));if(r.value){let l=null;if("video"===u.value.type){let e=await fetch(u.value.src);l=await e.blob()}else{let e=await fetch(u.value.src);l=await e.blob()}let a=await He(u.value.filename,u.value.mimeType,l,i.id);await Ie(a.id),e.push(a.id)}else for(let o in t){let l=null;if("video"===t[o].type){let e=await fetch(t[o].src);l=await e.blob()}else{let e=await fetch(t[o].src);l=await e.blob()}let a=await He(t[o].filename,t[o].mimeType,l,i.id);await onChangePermission(a.id),e.push(a.id)}return f.value=!1,o.loading.hide(),e},ze=async()=>{if(-1===O.value.value)return;let e=await We(),l=[];for(var a in e)l.push({driveFile:{driveFile:{id:e[a]},shareMode:"UNKNOWN_SHARE_MODE"}});if(0===V.value.value){await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/announcements`,{method:"POST",headers:new Headers({Authorization:"Bearer "+ee.value}),body:JSON.stringify({text:A.value,state:1,materials:l})})}else if(4===V.value.value){let e={title:U.value,description:A.value,state:1,materials:l,topicId:q.value.value};await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/courseWorkMaterials`,{method:"POST",headers:new Headers({Authorization:"Bearer "+ee.value}),body:JSON.stringify(e)})}else{let e="COURSE_WORK_TYPE_UNSPECIFIED";1===V.value.value?e="ASSIGNMENT":2===V.value.value?e="MULTIPLE_CHOICE_QUESTION":3===V.value.value&&(e="SHORT_ANSWER_QUESTION");let a={title:U.value,description:A.value,state:1,materials:l,dueDate:{year:new Date(I.value).getFullYear(),month:new Date(I.value).getMonth()+1,day:new Date(I.value).getDate()},dueTime:{hours:23,minutes:59,seconds:59,nanos:0},maxPoints:!Number.isInteger(T.value)||""==T.value.toString().trim()||T.value<0?0:T.value,workType:e,topicId:q.value.value};if(2===V.value.value){let e={choices:[]};for(let l in F.value)e.choices.push(F.value[l].value);a["multipleChoiceQuestion"]=e}await fetch(`https://classroom.googleapis.com/v1/courses/${O.value.value}/courseWork`,{method:"POST",headers:new Headers({Authorization:"Bearer "+ee.value}),body:JSON.stringify(a)})}};return{isViewerMode:r,isFullScreen:c,viewer:u,viewerImage:d,viewerCanvas:v,viewerVideo:m,angle:g,angleList:w,zoomInOutSlider:p,viewers:Y,confirmDeleteViewerDialog:h,googleClassroomDialog:f,googleDriveDialog:_,folderDialog:y,selectAtLeastOneFileDialog:k,isAuthorized:D,dialogType:b,name:C,username:S,type:V,typeList:x,course:O,courseList:H,due:I,topic:q,topicList:W,multipleChoise:z,optionList:F,title:U,description:A,maxPoints:T,minDate:M,driveFolderName:N,driveLocation:P,driveList:G,clickFolder:X,newFolderName:Z,viewersSelected:$,selectMultiple:L,setViewerSelected:Q,onGoBack:ae,onDownload:ie,onViewerPrevious:ne,onConfirmDeleteViewerDialog:oe,onDeleteSelectedViewer:te,onViewerNext:re,onPreviousRotate:ce,onNextRotate:ue,onZoomIn:de,onZoomOut:ve,onDisplayGoogleClassroomDialog:me,onDisplayGoogleDriveDialog:ge,onDisplayFolderDialog:we,onCreateNewFolder:pe,onCancelOption:De,onAddOption:be,onSetOptionRef:Se,onGoogleSignIn:xe,onGoogleSignOut:Oe,onDriveFilesList:fe,onPreviousFolder:_e,onChooseFolder:ye,onViewerUpload:qe,onAssign:ze}}});var Ll=a(4260),Rl=a(6114),Bl=a(6335),Ql=a(7011),El=a(3414),jl=a(2035),Yl=a(4015),Kl=a(4390),Jl=a(151),$l=a(5589),ea=a(9367),la=a(6447),aa=a(677),ia=a(7518),oa=a.n(ia);const ta=(0,Ll.Z)(Zl,[["render",Fl],["__scopeId","data-v-772c72eb"]]),sa=ta;oa()(Zl,"components",{QBtn:Rl.Z,QMenu:Bl.Z,QList:Ql.Z,QItem:El.Z,QItemSection:jl.Z,QSlider:Yl.Z,QDialog:Kl.Z,QCard:Jl.Z,QCardSection:$l.Z,QCardActions:ea.Z,QInput:la.Z}),oa()(Zl,"directives",{ClosePopup:aa.Z})}}]);