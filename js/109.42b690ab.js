"use strict";(self["webpackChunkideao"]=self["webpackChunkideao"]||[]).push([[109],{99:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Dl});a(71),a(246);var i=a(3673),o=a(2323),t=a(8880);const s=e=>((0,i.dD)("data-v-2d90379e"),e=e(),(0,i.Cn)(),e),n={class:"wrapper"},u=s((()=>(0,i._)("img",{class:"icon",src:"img/previous_50X50.svg"},null,-1))),r=[u],c=s((()=>(0,i._)("img",{class:"icon",src:"img/select-multiple_50X50.svg"},null,-1))),d=[c],v=s((()=>(0,i._)("img",{class:"icon",src:"img/thumbnail_50X50.svg"},null,-1))),g=[v],m={key:0,class:"icon",src:"img/full-screen_50X50.svg"},p={key:1,class:"icon",src:"img/exit-full-screen_50X50.svg"},w={key:1,class:"viewer-left"},h={class:"viewer",ref:"divViewer"},y=["src"],f=["src"],_={key:3,class:"viewer-right"},k={key:4,class:"viewer-bottom"},D={class:"rotate"},b=s((()=>(0,i._)("img",{class:"rotation",src:"img/rotation_45X45.svg"},null,-1))),C={class:"zoomInOut"},S=s((()=>(0,i._)("img",{class:"zoom",src:"img/zoom_45X45.svg"},null,-1))),O={class:"text"},x={key:5,class:"thumbnail-wrapper"},V={class:"thumbnail-main"},A=["onClick"],q=(0,i.Uk)("Delete"),H=(0,i.Uk)("Upload"),W=(0,i.Uk)("Download"),z=(0,i.Uk)("Open in a new tab"),U=["src"],F=["src"],I=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-classroom-normal_H35.svg"})],-1))),M={src:"img/esc_20X20.svg"},T={class:"folder-wrapper"},N={class:"form"},P={class:"form-item"},X=s((()=>(0,i._)("div",{class:"header"},"Type",-1))),B={class:"form-item"},Z=s((()=>(0,i._)("div",{class:"header"},"For",-1))),E={key:0,class:"form-item"},Q=s((()=>(0,i._)("div",{class:"header"},"Point",-1))),Y={key:1,class:"form-item"},R=s((()=>(0,i._)("div",{class:"header"},"Due",-1))),L={key:2,class:"form-item"},j=s((()=>(0,i._)("div",{class:"header"},"Topic",-1))),G={key:3,class:"form-item title"},K=s((()=>(0,i._)("div",{class:"header"},"Title",-1))),J={class:"form-item description"},$=s((()=>(0,i._)("div",{class:"header"},"Description (optional)",-1))),ee={key:4,class:"form-item options"},le={class:"header"},ae=["onUpdate:modelValue"],ie=["onClick"],oe={key:5,class:"form-item add-option"},te=s((()=>(0,i._)("img",{src:"img/add-option_20X20.svg"},null,-1))),se=s((()=>(0,i._)("div",null,"Add option",-1))),ne=[te,se],ue={class:"multiple"},re={class:"upload-wrapper"},ce=["src"],de=["src"],ve={key:1,class:(0,o.C_)({large:!0})},ge=["src"],me=["src"],pe=(0,i.Uk)("Cancel"),we=[pe],he=s((()=>(0,i._)("div",null,[(0,i._)("img",{src:"img/google-drive-normal_H35.svg"})],-1))),ye={src:"img/esc_20X20.svg"},fe={class:"folder-wrapper"},_e={class:"folder-header"},ke=s((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),De=[ke],be=s((()=>(0,i._)("img",{src:"img/add-folder_25X25.svg"},null,-1))),Ce=s((()=>(0,i._)("img",{src:"img/enter-folder_15X15.svg"},null,-1))),Se={class:"upload-wrapper"},Oe=["src"],xe=["src"],Ve={key:1,class:(0,o.C_)({large:!0})},Ae=["src"],qe=["src"],He=(0,i.Uk)("Cancel"),We=[He],ze=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),Ue=[ze],Fe=s((()=>(0,i._)("div",{class:"icon"},[(0,i._)("img",{src:"img/add-folder_80X80.svg"})],-1))),Ie=s((()=>(0,i._)("div",{class:"text"},"New folder",-1))),Me=(0,i.Uk)("Cancel"),Te=[Me],Ne=(0,i.Uk)("Create"),Pe=[Ne],Xe=s((()=>(0,i._)("img",{src:"img/esc_20X20.svg"},null,-1))),Be=[Xe],Ze=s((()=>(0,i._)("div",{class:"img"},[(0,i._)("img",{src:"img/exclamation_110X110.svg"})],-1))),Ee=s((()=>(0,i._)("div",{class:"text"},"Do you want to delete the file?",-1))),Qe=(0,i.Uk)("YES"),Ye=[Qe],Re=(0,i.Uk)("NO"),Le=[Re];function je(e,l,a,s,u,c){const v=(0,i.up)("q-btn"),te=(0,i.up)("combobox"),se=(0,i.up)("q-slider"),pe=(0,i.up)("q-item-section"),ke=(0,i.up)("q-item"),He=(0,i.up)("q-list"),ze=(0,i.up)("q-menu"),Me=(0,i.up)("q-card-section"),Ne=(0,i.up)("combobox2"),Xe=(0,i.up)("q-radio"),Qe=(0,i.up)("q-card-actions"),Re=(0,i.up)("q-card"),je=(0,i.up)("q-dialog"),Ge=(0,i.up)("q-input"),Ke=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",n,[(0,i._)("div",{class:"previous",onClick:l[0]||(l[0]=(...l)=>e.goBack&&e.goBack(...l))},r),(0,i._)("div",{class:"google-classroom",onClick:l[1]||(l[1]=(...l)=>e.displayGoogleClassroomDialog&&e.displayGoogleClassroomDialog(...l))}),(0,i._)("div",{class:"google-drive",onClick:l[2]||(l[2]=(...l)=>e.displayGoogleDriveDialog&&e.displayGoogleDriveDialog(...l))}),(0,i._)("div",{class:"download",onClick:l[3]||(l[3]=l=>e.download())}),(0,i._)("div",{class:"trash",onClick:l[4]||(l[4]=l=>e.confirmDeleteViewerDialog=!0)}),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"select-mutiple",onClick:l[5]||(l[5]=l=>e.selectMultiple=!e.selectMultiple)},d)),(0,i._)("div",{class:"thumbnail",onClick:l[6]||(l[6]=l=>e.isViewerMode=!e.isViewerMode)},g),(0,i._)("div",{class:"full-screen",onClick:l[7]||(l[7]=l=>e.isFullScreen=!e.isFullScreen)},[e.isFullScreen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",m)),e.isFullScreen?((0,i.wg)(),(0,i.iD)("img",p)):(0,i.kq)("",!0)]),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",w,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(v,{key:0,"text-color":"white",icon:"arrow_back_ios_new",size:"33px",onClick:e.viewerPrevious},null,8,["onClick"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",{key:2,class:(0,o.C_)({"viewer-main":!0,"full-screen-mode":e.isFullScreen})},[(0,i._)("div",h,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,ref:"viewerImage",src:e.viewer.src,style:(0,o.j5)({display:"none",transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%"})},null,12,y)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("canvas",{onMousedown:l[8]||(l[8]=(...l)=>e.viewerDown&&e.viewerDown(...l)),onMousemove:l[9]||(l[9]=(...l)=>e.viewerMove&&e.viewerMove(...l)),ref:"viewerCanvas",style:(0,o.j5)(e.viewerCanvasStyle)},null,36),[[t.F8,"image"===e.viewer.type]]),(0,i.wy)((0,i._)("video",{src:e.viewer.src,controls:"",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)",height:1==e.angle.value||3==e.angle.value?"100%":"auto",width:1==e.angle.value||3==e.angle.value?"auto":"100%",maxHeight:"calc(100vh - 200px)",maxWidth:"calc(100vw - 356px)",left:"0px",top:"0px"})},null,12,f),[[t.F8,"video"===e.viewer.type]])],512)],2)):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",_,[e.viewers.length>1?((0,i.wg)(),(0,i.j4)(v,{key:0,"text-color":"white",icon:"arrow_forward_ios",size:"33px",onClick:e.viewerNext},null,8,["onClick"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",k,[(0,i._)("div",D,[b,(0,i.Wm)(te,{options:e.angleList,"option-label":"label","option-value":"value",modelValue:e.angle,"onUpdate:modelValue":l[10]||(l[10]=l=>e.angle=l),class:"combobox"},null,8,["options","modelValue"]),(0,i._)("img",{class:"cw",src:"img/CW_25X25.svg",onClick:l[11]||(l[11]=(...l)=>e.nextRotate&&e.nextRotate(...l))}),(0,i._)("img",{class:"ccw",src:"img/CCW_25X25.svg",onClick:l[12]||(l[12]=(...l)=>e.previousRotate&&e.previousRotate(...l))})]),(0,i._)("div",C,[S,(0,i._)("div",O,(0,o.zw)(1==(e.zoomInOutSlider/10).toString().length?(e.zoomInOutSlider/10).toString()+".0":(e.zoomInOutSlider/10).toString())+" x ",1),(0,i._)("img",{class:"minus",src:"img/minus_20X20.svg",onClick:l[13]||(l[13]=(...l)=>e.zoomOut&&e.zoomOut(...l))}),(0,i.Wm)(se,{modelValue:e.zoomInOutSlider,"onUpdate:modelValue":l[14]||(l[14]=l=>e.zoomInOutSlider=l),min:10,max:60,step:1,dark:"",color:"ideao",class:"slider"},null,8,["modelValue"]),(0,i._)("img",{class:"plus",src:"img/plus_20X20.svg",onClick:l[15]||(l[15]=(...l)=>e.zoomIn&&e.zoomIn(...l))})])])):(0,i.kq)("",!0),e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("div",V,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.viewers,(a=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({item:!0}),key:a.id,onClick:l=>e.setViewerSelected({data:a,selected:!a.selected,selectMultiple:e.selectMultiple})},[e.selectMultiple?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)({"selected-number":!0,"selected-true":0!==a.order})},(0,o.zw)(0==a.order?"":a.order),3)):(0,i.kq)("",!0),(0,i.Wm)(ze,{"touch-position":"","context-menu":"",onBeforeShow:l=>e.setViewerSelected({data:a,selected:!0,selectMultiple:e.selectMultiple})},{default:(0,i.w5)((()=>[(0,i.Wm)(He,{dense:"",style:{"min-width":"100px"}},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(ke,{clickable:"",onClick:l[16]||(l[16]=l=>e.confirmDeleteViewerDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[q])),_:1})])),_:1},512),[[Ke]]),(0,i.wy)((0,i.Wm)(ke,{clickable:"",onClick:e.displayGoogleDriveDialog},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[H])),_:1})])),_:1},8,["onClick"]),[[Ke]]),(0,i.wy)((0,i.Wm)(ke,{clickable:"",onClick:l[17]||(l[17]=l=>e.download())},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[W])),_:1})])),_:1},512),[[Ke]]),(0,i.wy)((0,i.Wm)(ke,{clickable:"",tag:"a",target:"_blank",href:a.src},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[z])),_:1})])),_:2},1032,["href"]),[[Ke]])])),_:2},1024)])),_:2},1032,["onBeforeShow"]),(0,i._)("div",{class:(0,o.C_)({viewer:!0,selected:a.selected})},["image"===a.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:a.src},null,8,U)):(0,i.kq)("",!0),"video"===a.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:a.src},null,8,F)):(0,i.kq)("",!0)],2),(0,i._)("div",{class:(0,o.C_)({filename:!0,selected:a.selected})},(0,o.zw)(a.filename),3)],8,A)))),128))])]))]),(0,i.Wm)(je,{modelValue:e.googleClassroomDialog,"onUpdate:modelValue":l[30]||(l[30]=l=>e.googleClassroomDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{class:"google-classroom-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Me,{class:"card-header"},{default:(0,i.w5)((()=>[I,(0,i._)("div",null,[(0,i._)("div",null,(0,o.zw)(e.name),1),(0,i._)("div",null,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.googleOAuth2.isAuthorized.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[18]||(l[18]=(...l)=>e.googleSignIn&&e.googleSignIn(...l))}," Sign in ")),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[19]||(l[19]=(...l)=>e.googleSignOut&&e.googleSignOut(...l))}," Sign out ")):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i.wy)((0,i._)("img",M,null,512),[[Ke]])])])),_:1}),(0,i.Wm)(Me,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",T,[(0,i._)("div",N,[(0,i._)("div",P,[X,(0,i.Wm)(Ne,{options:e.typeList,"option-label":"label","option-value":"value",modelValue:e.type,"onUpdate:modelValue":l[20]||(l[20]=l=>e.type=l),class:"combobox"},null,8,["options","modelValue"])]),(0,i._)("div",B,[Z,(0,i.Wm)(Ne,{options:e.courseList,"option-label":"label","option-value":"value",modelValue:e.course,"onUpdate:modelValue":l[21]||(l[21]=l=>e.course=l),class:"combobox"},null,8,["options","modelValue"])]),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",E,[Q,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":l[22]||(l[22]=l=>e.maxPoints=l)},null,512),[[t.nr,e.maxPoints]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value?((0,i.wg)(),(0,i.iD)("div",Y,[R,(0,i.wy)((0,i._)("input",{type:"date","onUpdate:modelValue":l[23]||(l[23]=l=>e.due=l)},null,512),[[t.nr,e.due]])])):(0,i.kq)("",!0),1===e.type.value||2===e.type.value||3===e.type.value||4===e.type.value?((0,i.wg)(),(0,i.iD)("div",L,[j,(0,i.Wm)(Ne,{options:e.topicList,"option-label":"label","option-value":"value",modelValue:e.topic,"onUpdate:modelValue":l[24]||(l[24]=l=>e.topic=l),class:"combobox"},null,8,["options","modelValue"])])):(0,i.kq)("",!0),0!==e.type.value?((0,i.wg)(),(0,i.iD)("div",G,[K,(0,i.wy)((0,i._)("textarea",{style:{width:"100%",height:"60px"},rows:"2","onUpdate:modelValue":l[25]||(l[25]=l=>e.title=l)},null,512),[[t.nr,e.title]])])):(0,i.kq)("",!0),(0,i._)("div",J,[$,(0,i.wy)((0,i._)("textarea",{style:{width:"100%",height:"200px"},"onUpdate:modelValue":l[26]||(l[26]=l=>e.description=l)},null,512),[[t.nr,e.description]])]),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",ee,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.optionList,((l,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"option",key:l},[(0,i._)("div",le,"Option "+(0,o.zw)(a+1),1),(0,i.wy)((0,i._)("input",{type:"text",class:"text","onUpdate:modelValue":e=>l.value=e,ref:e.setOptionRef},null,8,ae),[[t.nr,l.value]]),(0,i._)("img",{class:"cancel",src:"img/cancel-option_20X20.svg",onClick:l=>e.cancelOption(a)},null,8,ie)])))),128))])):(0,i.kq)("",!0),2===e.type.value?((0,i.wg)(),(0,i.iD)("div",oe,[(0,i._)("div",{class:"add",onClick:l[27]||(l[27]=(...l)=>e.addOption&&e.addOption(...l))},ne),(0,i._)("div",ue,[(0,i.Wm)(Xe,{modelValue:e.multipleChoise,"onUpdate:modelValue":l[28]||(l[28]=l=>e.multipleChoise=l),label:"Multiple choise"},null,8,["modelValue"])])])):(0,i.kq)("",!0)])]),(0,i._)("div",re,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=3})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,ce)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,de)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",ve,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,ge)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,me)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(Qe,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,we,512),[[Ke]]),(0,i._)("div",{onClick:l[29]||(l[29]=(...l)=>e.assign&&e.assign(...l))},"Assign")])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(je,{modelValue:e.googleDriveDialog,"onUpdate:modelValue":l[36]||(l[36]=l=>e.googleDriveDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{class:"google-drive-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Me,{class:"card-header"},{default:(0,i.w5)((()=>[he,(0,i._)("div",null,[(0,i._)("div",null,(0,o.zw)(e.name),1),(0,i._)("div",null,(0,o.zw)(e.username),1)]),(0,i._)("div",null,[e.googleOAuth2.isAuthorized.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"sign-in",onClick:l[31]||(l[31]=(...l)=>e.googleSignIn&&e.googleSignIn(...l))}," Sign in ")),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"sign-out",onClick:l[32]||(l[32]=(...l)=>e.googleSignOut&&e.googleSignOut(...l))}," Sign out ")):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i.wy)((0,i._)("img",ye,null,512),[[Ke]])])])),_:1}),(0,i.Wm)(Me,{class:"card-body"},{default:(0,i.w5)((()=>[(0,i._)("div",fe,[(0,i._)("div",_e,[e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.j4)(v,{key:0,flat:"",dense:"",onClick:l[33]||(l[33]=l=>e.previousFolder())},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.driveFolderName),1)])),_:1})):(0,i.kq)("",!0),e.googleOAuth2.isAuthorized.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"add-folder",onClick:l[34]||(l[34]=(...l)=>e.displayFolderDialog&&e.displayFolderDialog(...l))},De)):(0,i.kq)("",!0)]),(0,i.Wm)(He,{dense:"",class:"folder-body"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.driveList,(l=>((0,i.wg)(),(0,i.j4)(ke,{key:l.id,clickable:"",active:e.clickFolder===l.name,"active-class":"selected",onClick:a=>e.clickFolder=l.name,onDblclick:a=>e.chooseFolder(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(pe,{avatar:""},{default:(0,i.w5)((()=>[be])),_:1}),(0,i.Wm)(pe,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.name),1)])),_:2},1024),(0,i.Wm)(pe,{avatar:"",align:"right"},{default:(0,i.w5)((()=>[Ce])),_:1})])),_:2},1032,["active","onClick","onDblclick"])))),128))])),_:1})]),(0,i._)("div",Se,[e.isViewerMode?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.viewersSelected,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,class:(0,o.C_)({large:e.viewersSelected.length<=3})},["image"===l.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:l.src},null,8,Oe)):(0,i.kq)("",!0),"video"===l.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:l.src},null,8,xe)):(0,i.kq)("",!0)],2)))),128)),e.isViewerMode?((0,i.wg)(),(0,i.iD)("div",Ve,["image"===e.viewer.type?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.viewer.src},null,8,Ae)):(0,i.kq)("",!0),"video"===e.viewer.type?((0,i.wg)(),(0,i.iD)("video",{key:1,src:e.viewer.src},null,8,qe)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])),_:1}),(0,i.Wm)(Qe,{class:"card-footer",align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,We,512),[[Ke]]),(0,i._)("div",{onClick:l[35]||(l[35]=(...l)=>e.viewerUpload&&e.viewerUpload(...l))},"Upload")])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(je,{modelValue:e.folderDialog,"onUpdate:modelValue":l[39]||(l[39]=l=>e.folderDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{class:"new-folder-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Me,{class:"close-section"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,Ue,512),[[Ke]])])),_:1}),(0,i.Wm)(Me,{class:"icon-section"},{default:(0,i.w5)((()=>[Fe,Ie])),_:1}),(0,i.Wm)(Me,{class:"input-section"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ge,{"hide-bottom-space":"",borderless:"",modelValue:e.newFolderName,"onUpdate:modelValue":l[37]||(l[37]=l=>e.newFolderName=l),"input-class":"text-center","input-style":{height:"30px"},placeholder:"New folder name"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(Qe,{align:"center",class:"button-section"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,Te,512),[[Ke]]),(0,i.wy)((0,i._)("div",{onClick:l[38]||(l[38]=(...l)=>e.createNewFolder&&e.createNewFolder(...l))},Pe,512),[[Ke]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(je,{modelValue:e.confirmDeleteViewerDialog,"onUpdate:modelValue":l[41]||(l[41]=l=>e.confirmDeleteViewerDialog=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{class:"confirmCard"},{default:(0,i.w5)((()=>[(0,i.Wm)(Me,{class:"close"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",null,Be,512),[[Ke]])])),_:1}),(0,i.Wm)(Me,{class:"items-center text-center"},{default:(0,i.w5)((()=>[Ze,Ee])),_:1}),(0,i.Wm)(Qe,{align:"center",class:"button"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",{onClick:l[40]||(l[40]=l=>e.deleteSelectedViewer())},Ye,512),[[Ke]]),(0,i.wy)((0,i._)("div",null,Le,512),[[Ke]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(5363),a(6801),a(979),a(6105),a(2396);var Ge=a(1959),Ke=a(3617),Je=a(9582),$e=a(8825),el=a(3659),ll=a(9166),al=a(4898);const il=(0,i.aZ)({name:"PageViewer",components:{combobox:ll.Z,combobox2:al.Z},setup(){const e=(0,Je.tv)(),l=(0,Je.yj)(),a=(0,Ke.oR)(),o=(0,$e.Z)(),t=(0,Ge.iH)(!0),s=(0,Ge.iH)(0),n=(0,Ge.iH)(!1),u=(0,Ge.iH)(!1),r=(0,Ge.iH)(!1),c=(0,Ge.iH)(""),d=(0,Ge.iH)(!1),v=(0,Ge.iH)(1),g=(0,Ge.iH)(""),m=(0,Ge.iH)([]),p=(0,Ge.iH)([]),w=(0,Ge.iH)(!1),h=(0,Ge.iH)(""),y=(0,Ge.iH)(""),f=(0,Ge.iH)(""),_=(0,Ge.iH)(!1),k=(0,Ge.iH)({label:"0°",value:0}),D=(0,Ge.iH)([{label:"0°",value:0},{label:"90°",value:1},{label:"180°",value:2},{label:"270°",value:3}]),b=(0,Ge.iH)(10),C=(0,Ge.iH)(),S=(0,Ge.iH)(),O=(0,Ge.iH)({}),x=(0,Ge.iH)(),V=(0,Ge.iH)({label:"Announcement",value:0}),A=(0,Ge.iH)([{label:"Announcement",value:0},{label:"Assignment",value:1},{label:"Quiz assignment",value:2},{label:"Question",value:3},{label:"Material",value:4}]),q=(0,Ge.iH)({label:"Choose...",value:-1}),H=(0,Ge.iH)([]),W=(0,Ge.iH)(),z=(0,Ge.iH)({label:"No Topic",value:""}),U=(0,Ge.iH)([]),F=(0,Ge.iH)(!1),I=(0,Ge.iH)([]),M=(0,Ge.iH)(""),T=(0,Ge.iH)(""),N=(0,Ge.iH)(100),P=(0,Ge.iH)({}),X=e=>a.dispatch("extension/setViewerSelected",e),B=()=>a.dispatch("extension/clearViewerSelected"),Z=e=>a.dispatch("extension/deleteViewer",e),E=(0,Ge.Fl)((()=>a.getters["extension/viewers"])),Q=(0,Ge.Fl)((()=>a.getters["extension/googleDriveFolder"])),Y=(0,Ge.Fl)((()=>{var e=E.value.filter((e=>!0===e.selected));return e}));(0,i.YP)(el.googleOAuth2.isAuthorized,(async e=>{if(e&&el.googleOAuth2.isAuthorized.value){var l=await de({id:"root",name:"My Drive"}),a=l.result.files.some((e=>"ideaocam files"==e.name));a||await ce("ideaocam files","root");var i=l.result.files.some((e=>"ideaocam classroom"==e.name));i||await ce("ideaocam classroom","root"),el.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=el.googleOAuth2.currentUser.getBasicProfile();h.value=e.result.names[0].displayName,y.value=l.getEmail()})),1===s.value?(u.value=!0,m.value.push({id:"root",name:"My Drive"}),g.value=m.value[m.value.length-1].name,await re(m.value[m.value.length-1])):2===s.value&&(n.value=!0)}})),(0,i.YP)(k,(async e=>{e&&(1!==e.value&&3!==e.value||(S.value.style.transform=""),j())})),(0,i.YP)(b,(async e=>{e&&j()})),(0,i.YP)(t,(async e=>{e&&E.value.length>0&&(O.value=E.value.slice()[0],B(),_.value=!1,setTimeout((()=>{L()}),100))})),(0,i.YP)(_,(async e=>{e||B()})),(0,i.YP)(q,(async e=>{if(e&&-1!==e.value){let e=(await el.googleOAuth2.instanceClient.classroom.courses.topics.list({pageSize:10,courseId:q.value.value})).result.topic;for(let l in e)U.value.push({label:e[l].name,value:e[l].topicId})}})),(0,i.wF)((()=>{E.value.length>0&&(O.value=E.value.slice()[0])})),(0,i.bv)((async()=>{void 0!==l.query.vm&&(e.replace({path:"/viewer"}),t.value=1==l.query.vm),B(),We(L)}));const R=()=>{e.go(-1)},L=()=>{if("image"===O.value.type&&t.value){let e=S.value.getContext("2d");const l=new Image;l.src=O.value.src,l.onload=()=>{S.value.width=l.width,S.value.height=l.height,e.drawImage(l,0,0,l.width,l.height),j()}}else"video"===O.value.type&&t.value},j=()=>{let e=S.value.width>S.value.height,l="",a="",i="",o="",t="",s="",n="";l=1===k.value.value||3===k.value.value?(b.value/10*.75).toString():(b.value/10*1).toString(),a=90*k.value.value+"deg",i=0!=k.value.value&&2!=k.value.value||e?"auto":"100%",o=0!=k.value.value&&2!=k.value.value||e?"100%":"auto",t=e||!e&&(1==k.value.value||3==k.value.value)?"none":"calc(100vh - 200px)",s=e?"calc(((100vh - 200px) / 3) * 4)":e?"calc(100vw - 356px)":"calc(((100vh - 200px) / 3) * 4)",n=!e&&(e?"calc((100vh - 200px) / 3 * 4)":"calc((100vh - 200px) / 4 * 3)"),P.value={transform:`scale(${l}) rotate(${a})`,height:i,width:o,maxHeight:t,maxWidth:s,minWidth:n,left:"0px",top:"0px"}},G=async()=>{if(s.value=1,el.googleOAuth2.isAuthorized.value){var e=await de({id:"root",name:"My Drive"}),l=e.result.files.some((e=>e.name==Q.value.value));l||await ce(Q.value.value,"root");var a=e.result.files.some((e=>"ideaocam classroom"==e.name));a||await ce("ideaocam classroom","root"),el.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=el.googleOAuth2.currentUser.getBasicProfile();h.value=e.result.names[0].displayName,y.value=l.getEmail()})),n.value=!0,q.value={label:"Choose...",value:-1},H.value=[],z.value={label:"No Topic",value:""},U.value=[],M.value="",T.value="";let i=(await el.googleOAuth2.instanceClient.classroom.courses.list({pageSize:10})).result.courses;for(let e in i)H.value.push({label:i[e].name,value:i[e].id})}else await te()},K=async()=>{if(s.value=2,el.googleOAuth2.isAuthorized.value){var e=await de({id:"root",name:"My Drive"}),l=e.result.files.some((e=>e.name==Q.value.value));l||await ce(Q.value.value,"root");var a=e.result.files.some((e=>"ideaocam classroom"==e.name));a||await ce("ideaocam classroom","root"),el.googleOAuth2.instanceClient.people.people.get({resourceName:"people/me",personFields:"names,photos"}).then((e=>{var l=el.googleOAuth2.currentUser.getBasicProfile();h.value=e.result.names[0].displayName,y.value=l.getEmail()})),u.value=!0,m.value.push({id:"root",name:"My Drive"}),g.value=m.value[m.value.length-1].name,await re(m.value[m.value.length-1]);let i=await de({id:"root",name:"My Drive"}),o=i.result.files.find((e=>e.name==Q.value.value));await ue(o)}else await te()},J=()=>{r.value=!r.value},$=async()=>{await ce(c.value,m.value[m.value.length-1].id),await re(m.value[m.value.length-1]),r.value=!1},ee=async(e,l,a,i)=>{var o={name:e,mimeType:l,parents:[i]},t=gapi.auth.getToken().access_token,s=new FormData;s.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),s.append("file",a);let n=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+t}),body:s});return n.json()},le=async e=>{let l={role:"reader",type:"anyone"};var a=gapi.auth.getToken().access_token;await fetch("https://www.googleapis.com/drive/v3/files/"+e+"/permissions",{method:"POST",headers:new Headers({Authorization:"Bearer "+a,"Content-Type":"application/json"}),body:JSON.stringify(l)})},ae=async()=>{if(-1===q.value.value)return;let e=await oe(),l=[];for(var a in e)l.push({driveFile:{driveFile:{id:e[a]},shareMode:"UNKNOWN_SHARE_MODE"}});var i=gapi.auth.getToken().access_token;if(0===V.value.value){await fetch(`https://classroom.googleapis.com/v1/courses/${q.value.value}/announcements`,{method:"POST",headers:new Headers({Authorization:"Bearer "+i}),body:JSON.stringify({text:T.value,state:1,materials:l})})}else if(4===V.value.value){let e={title:M.value,description:T.value,state:1,materials:l,topicId:z.value.value};await fetch(`https://classroom.googleapis.com/v1/courses/${q.value.value}/courseWorkMaterials`,{method:"POST",headers:new Headers({Authorization:"Bearer "+i}),body:JSON.stringify(e)})}else{let e="COURSE_WORK_TYPE_UNSPECIFIED";1===V.value.value?e="ASSIGNMENT":2===V.value.value?e="MULTIPLE_CHOICE_QUESTION":3===V.value.value&&(e="SHORT_ANSWER_QUESTION");let a={title:M.value,description:T.value,state:1,materials:l,dueDate:{year:new Date(W.value).getFullYear(),month:new Date(W.value).getMonth()+1,day:new Date(W.value).getDate()},dueTime:{hours:23,minutes:59,seconds:59,nanos:0},maxPoints:!Number.isInteger(N.value)||""==N.value.trim()||N.value<0?0:N.value,workType:e,topicId:z.value.value};if(2===V.value.value){let e={choices:[]};for(let l in I.value)e.choices.push(I.value[l].value);a["multipleChoiceQuestion"]=e}await fetch(`https://classroom.googleapis.com/v1/courses/${q.value.value}/courseWork`,{method:"POST",headers:new Headers({Authorization:"Bearer "+i}),body:JSON.stringify(a)})}},ie=async()=>{if(o.loading.show(),t.value){let e=null;if("video"===O.value.type){let l=await fetch(O.value.src);e=await l.blob()}else{let l=O.value.src;const a=atob(l.split(",")[1]),i=[];for(let e=0;e<a.length;e++)i.push(a.charCodeAt(e));e=new Blob([new Uint8Array(i)],{type:O.value.mimeType})}let l=await ee(O.value.filename,O.value.mimeType,e,m.value[m.value.length-1].id);await le(l.id)}else{let e=E.value.filter((e=>!0===e.selected));for(let l in e){let a=null;if("video"===e[l].type){let i=await fetch(e[l].src);a=await i.blob()}else{let i=e[l].src;const o=atob(i.split(",")[1]),t=[];for(let e=0;e<o.length;e++)t.push(o.charCodeAt(e));a=new Blob([new Uint8Array(t)],{type:e[l].mimeType})}let i=await ee(e[l].filename,e[l].mimeType,a,m.value[m.value.length-1].id);await le(i.id)}}n.value=!1,u.value=!1,o.loading.hide()},oe=async()=>{o.loading.show();let e=[];var l=await de({id:"root",name:"My Drive"}),a=l.result.files.some((e=>"ideaocam classroom"==e.name));a||await ce("ideaocam classroom","root");let i=l.result.files.find((e=>"ideaocam classroom"==e.name)),s=E.value.filter((e=>!0===e.selected));if(t.value){let l=null;if("video"===O.value.type){let e=await fetch(O.value.src);l=await e.blob()}else{let e=O.value.src;const a=atob(e.split(",")[1]),i=[];for(let l=0;l<a.length;l++)i.push(a.charCodeAt(l));l=new Blob([new Uint8Array(i)],{type:O.value.mimeType})}let a=await ee(O.value.filename,O.value.mimeType,l,i.id);await le(a.id),e.push(a.id)}else for(let o in s){let l=null;if("video"===s[o].type){let e=await fetch(s[o].src);l=await e.blob()}else{let e=s[o].src;const a=atob(e.split(",")[1]),i=[];for(let l=0;l<a.length;l++)i.push(a.charCodeAt(l));l=new Blob([new Uint8Array(i)],{type:s[o].mimeType})}let a=await ee(s[o].filename,s[o].mimeType,l,i.id);await le(a.id),e.push(a.id)}return n.value=!1,o.loading.hide(),e},te=async()=>{el.googleOAuth2.handleAuthClick()},se=async()=>{await el.googleOAuth2.handleDisconnectClick(),u.value=!1,p.value=[]},ne=async()=>{1!=m.value.length&&(m.value.pop(),await re(m.value[m.value.length-1]))},ue=async e=>{m.value.push(e),await re(e)},re=async e=>{var l=await de(e);g.value=m.value[m.value.length-1].name,p.value=l.result.files},ce=async(e,l)=>{await el.googleOAuth2.instanceClient.drive.files.create({resource:{name:e,parents:[l],mimeType:"application/vnd.google-apps.folder"},fields:"id,parents"})},de=async e=>{let l="trashed=false and 'me' in owners and mimeType='application/vnd.google-apps.folder'";l+=" and '"+e.id+"' in parents";let a=await el.googleOAuth2.instanceClient.drive.files.list({fields:"nextPageToken, files(id, name, mimeType, modifiedTime, parents)",q:l,orderBy:"name"});return a},ve=async()=>{if(t.value)Z(O.value),ze(O.value.filename),E.value.length>0?O.value=E.value.slice()[0]:O.value={},L();else{let e=E.value.filter((e=>!0===e.selected));for(let l in e)Z(e[l]),ze(e[l].filename)}},ge=()=>{if(t.value){var e=document.createElement("a");e.download=O.value.filename,e.href=O.value.src,e.click(),e.remove()}else{let l=E.value.filter((e=>!0===e.selected));for(let a in l){e=document.createElement("a");e.download=l[a].filename,e.href=l[a].src,e.click(),e.remove()}}},me=()=>{let e=(0==k.value.value?3:k.value.value-1)%D.value.length;k.value=D.value.find((l=>l.value==e)),j()},pe=()=>{let e=(k.value.value+1)%D.value.length;k.value=D.value.find((l=>l.value==e)),j()},we=()=>{60!=b.value&&(b.value+=1,j())},he=()=>{10!=b.value&&(b.value-=1,j())};let ye,fe;const _e=e=>{ye=e.pageX,fe=e.pageY},ke=e=>{if(e.buttons){let l=0,a=0;e.pageX-ye!==0&&(l=ye-e.pageX,ye=e.pageX),e.pageY-fe!==0&&(a=fe-e.pageY,fe=e.pageY),0===l&&0===a||(console.log(l,a),x.value.scrollBy(l,a))}},De=()=>{if(E.value.length<=1)return;let e=E.value.findIndex((e=>e.id==O.value.id));0!=e&&(O.value=E.value.slice()[e-1],L())},be=()=>{if(E.value.length<=1)return;let e=E.value.findIndex((e=>e.id==O.value.id));e!=E.value.length-1&&(O.value=E.value.slice()[e+1],L())},Ce=e=>{I.value.splice(e,1)},Se=()=>{I.value.push({value:""})};let Oe=[];const xe=e=>{e&&Oe.push(e)};(0,i.Xn)((()=>{Oe=[]}));let Ve=null,Ae=10737418240,qe=0,He=window.requestFileSystem||window.webkitRequestFileSystem;const We=e=>{navigator.webkitPersistentStorage.requestQuota(Ae,(function(l){qe=l,He(window.PERSISTENT,l,(function(l){Ve=l,e()}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))},ze=e=>{let l=Ve.root;l.getFile(e,{create:!1},(function(e){e.remove((function(e){}),(e=>{console.log(e)}))}),(e=>{console.log(e)}))};return{combobox:ll.Z,combobox2:al.Z,googleOAuth2:el.googleOAuth2,isViewerMode:t,googleClassroomDialog:n,googleDriveDialog:u,folderDialog:r,newFolderName:c,isFullScreen:d,slide:v,viewer:O,viewers:E,viewersSelected:Y,driveFolderName:g,driveLocation:m,driveList:p,confirmDeleteViewerDialog:w,name:h,username:y,clickFolder:f,selectMultiple:_,angle:k,angleList:D,zoomInOutSlider:b,viewerImage:C,viewerCanvas:S,divViewer:x,type:V,typeList:A,course:q,courseList:H,due:W,topic:z,topicList:U,multipleChoise:F,optionList:I,title:M,description:T,maxPoints:N,viewerCanvasStyle:P,goBack:R,setViewerSelected:X,displayGoogleClassroomDialog:G,displayGoogleDriveDialog:K,displayFolderDialog:J,createNewFolder:$,googleSignIn:te,googleSignOut:se,previousFolder:ne,chooseFolder:ue,deleteSelectedViewer:ve,download:ge,assign:ae,viewerUpload:ie,previousRotate:me,nextRotate:pe,zoomIn:we,zoomOut:he,viewerDown:_e,viewerMove:ke,viewerPrevious:De,viewerNext:be,cancelOption:Ce,addOption:Se,setOptionRef:xe}}});var ol=a(4260),tl=a(6114),sl=a(5153),nl=a(6335),ul=a(7011),rl=a(3414),cl=a(2035),dl=a(4390),vl=a(151),gl=a(5589),ml=a(7991),pl=a(9367),wl=a(1206),hl=a(6003),yl=a(677),fl=a(7518),_l=a.n(fl);const kl=(0,ol.Z)(il,[["render",je],["__scopeId","data-v-2d90379e"]]),Dl=kl;_l()(il,"components",{QBtn:tl.Z,QSlider:sl.Z,QMenu:nl.Z,QList:ul.Z,QItem:rl.Z,QItemSection:cl.Z,QDialog:dl.Z,QCard:vl.Z,QCardSection:gl.Z,QRadio:ml.Z,QCardActions:pl.Z,QInput:wl.Z,QCarousel:hl.Z}),_l()(il,"directives",{ClosePopup:yl.Z})}}]);