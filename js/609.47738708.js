"use strict";(self["webpackChunkideaocam"]=self["webpackChunkideaocam"]||[]).push([[609],{715:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Dl});a(71);var t=a(3673),o=a(2323),i=a(8880);const s=e=>((0,t.dD)("data-v-03c2d225"),e=e(),(0,t.Cn)(),e),n={class:"wrapper"},u={class:"menu"},c={class:"menu-drop"},r={class:"menu-item"},v=s((()=>(0,t._)("img",{src:"img/camera_45X45.svg"},null,-1))),d={class:"menu-item"},m=s((()=>(0,t._)("img",{src:"img/resolution_45X45.svg"},null,-1))),g={class:"menu-item"},p=s((()=>(0,t._)("img",{src:"img/zoom_45X45.svg"},null,-1))),h={class:"zoomInOut"},w={class:"text"},_={class:"menu-item"},f=s((()=>(0,t._)("img",{src:"img/rotation_45X45.svg"},null,-1))),b={class:"menu-item-right",style:{"justify-content":"start"}},y={class:"menu-item"},x=s((()=>(0,t._)("img",{src:"img/mirror_45X45.svg"},null,-1))),k=s((()=>(0,t._)("div",{class:"text"},"Mirror",-1))),S=[k],D={class:"menu-item"},C=s((()=>(0,t._)("img",{src:"img/flip_45X45.svg"},null,-1))),I=s((()=>(0,t._)("div",{class:"text"},"Flip",-1))),V=[I],X={class:"menu-item"},H=s((()=>(0,t._)("div",{class:"text"},"Freeze",-1))),P=[H],z={class:"menu-item"},R=s((()=>(0,t._)("img",{src:"img/reset_45X45.svg"},null,-1))),M=s((()=>(0,t._)("div",{class:"text"},"Reset",-1))),O=[M],U={class:"setting"},A={class:"setting-drop"},F={class:"menu-item"},T={style:{width:"20px",height:"20px","margin-right":"10px"}},W={class:"menu-item-right"},j={class:"text"},L=s((()=>(0,t._)("div",{class:"text"},"Sign out",-1))),Z=[L],q={class:"menu-item"},N=s((()=>(0,t._)("img",{src:"img/cloud-file-location_45X45.svg"},null,-1))),E={class:"menu-item"},G=s((()=>(0,t._)("img",{src:"img/microphone_45X45.svg"},null,-1))),Q={class:"menu-item-right"},Y={class:"menu-item"},B=s((()=>(0,t._)("img",{src:"img/video-resolution_45X45.svg"},null,-1))),K={class:"menu-item"},J=s((()=>(0,t._)("img",{src:"img/timer_45X45.svg"},null,-1))),$={class:"menu-item",style:{visibility:"hidden"}},ee=s((()=>(0,t._)("img",{src:"img/refresh-rate_45X45.svg"},null,-1))),le={class:"radio-wrapper"},ae={class:"radio"},te=s((()=>(0,t._)("label",{for:"50"},[(0,t._)("div",{class:"text"},"50 Hz")],-1))),oe={class:"radio"},ie=s((()=>(0,t._)("label",{for:"60"},[(0,t._)("div",{class:"text"},"60 Hz")],-1))),se=s((()=>(0,t._)("div",{class:"menu-item fti"},[(0,t._)("img",{src:"img/fti-logo_H48.svg",class:"fti-logo"}),(0,t._)("div",{class:"fti-text"},[(0,t._)("div",{class:"text"}," Â© Fun Technology Innovation Inc. All rights reserved. ")])],-1))),ne=s((()=>(0,t._)("div",{class:"logo"},[(0,t._)("a",{href:"https://funtechinnovation.com/software/ideaocam/",target:"_blank"})],-1))),ue={key:0,class:"icon",src:"img/full-screen_50X50.svg"},ce={key:1,class:"icon",src:"img/exit-full-screen_50X50.svg"},re=s((()=>(0,t._)("img",{class:"icon",src:"img/snapshot_40X40.svg"},null,-1))),ve=s((()=>(0,t._)("div",{class:"text"},"Snapshot & Record",-1))),de=[re,ve],me=s((()=>(0,t._)("div",{class:"stop-motion selected"},[(0,t._)("img",{class:"icon",src:"img/stop-motion_40X40.svg"}),(0,t._)("div",{class:"text"},"Stop Motion")],-1))),ge={class:"countdown"},pe={class:"camera"},he=s((()=>(0,t._)("div",null,null,-1))),we=s((()=>(0,t._)("div",null,null,-1))),_e={class:"shot-camera-film"},fe={class:"shot"},be={class:"camera"},ye={class:"film"},xe=["src"],ke=["src"],Se=["src"],De={ref:"canvas",style:{display:"none",position:"absolute",left:"0",top:"0",opacity:"0.5"}},Ce=s((()=>(0,t._)("div",{class:"photo-border"},null,-1))),Ie={class:"splide__arrows"},Ve=["src"],Xe={class:"text"},He=(0,t.Uk)("Delete"),Pe=(0,t.Uk)("Duplicate"),ze={class:"close"},Re=s((()=>(0,t._)("img",{src:"img/esc_20X20.svg"},null,-1))),Me=[Re],Oe=s((()=>(0,t._)("div",{class:"img"},[(0,t._)("img",{src:"img/excalmation_50X50.svg"})],-1))),Ue=s((()=>(0,t._)("div",{class:"text"},"Delete the file?",-1))),Ae={class:"button"},Fe=s((()=>(0,t._)("div",{class:"text"},"Cancel",-1))),Te=[Fe],We=s((()=>(0,t._)("div",{class:"text"},"Delete",-1))),je=[We],Le={class:"close"},Ze=s((()=>(0,t._)("img",{src:"img/esc_20X20.svg"},null,-1))),qe=[Ze],Ne=s((()=>(0,t._)("div",{class:"img"},[(0,t._)("img",{src:"img/excalmation_50X50.svg"})],-1))),Ee=s((()=>(0,t._)("div",{class:"text"},"Insert new image after selection?",-1))),Ge=s((()=>(0,t._)("div",{class:"insert"},[(0,t._)("img",{src:"img/insert_60X60.svg"})],-1))),Qe=s((()=>(0,t._)("div",{class:"text"},"Cancel",-1))),Ye=[Qe],Be=s((()=>(0,t._)("div",{class:"text"},"Insert",-1))),Ke=[Be];function Je(e,l,a,s,k,I){const H=(0,t.up)("combobox2"),M=(0,t.up)("q-slider"),L=(0,t.up)("q-menu"),re=(0,t.up)("q-toggle"),ve=(0,t.up)("q-circular-progress"),Re=(0,t.up)("q-btn"),Fe=(0,t.up)("q-item-section"),We=(0,t.up)("q-item"),Ze=(0,t.up)("q-list"),Qe=(0,t.up)("SplideSlide"),Be=(0,t.up)("Splide"),Je=(0,t.up)("q-card-section"),$e=(0,t.up)("q-card-actions"),el=(0,t.up)("q-card"),ll=(0,t.up)("q-dialog"),al=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",n,[(0,t._)("div",u,[(0,t._)("img",{class:(0,o.C_)({icon:!0,selected:e.menuDropDisplay}),src:"img/menu_50X50.svg"},null,2),(0,t.Wm)(L,{modelValue:e.menuDropDisplay,"onUpdate:modelValue":l[12]||(l[12]=l=>e.menuDropDisplay=l),anchor:"bottom left",self:"top left",offset:[0,15],style:{"border-radius":"15px"}},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",r,[v,(0,t.Wm)(H,{options:e.cameraDeviceList,"option-label":"label","option-value":"value",modelValue:e.cameraDevice,"onUpdate:modelValue":l[0]||(l[0]=l=>e.cameraDevice=l),style:{width:"170px",height:"14px"}},null,8,["options","modelValue"])]),(0,t._)("div",d,[m,(0,t._)("div",null,[(0,t.Wm)(H,{options:e.resolutionList,"option-label":"label","option-value":"value",modelValue:e.resolution,"onUpdate:modelValue":l[1]||(l[1]=l=>e.resolution=l),style:{width:"170px",height:"14px"}},null,8,["options","modelValue"])])]),(0,t._)("div",g,[p,(0,t._)("div",h,[(0,t._)("div",w,(0,o.zw)(1==(e.zoomInOutSlider/10).toString().length?(e.zoomInOutSlider/10).toString()+".0":(e.zoomInOutSlider/10).toString())+" x ",1),(0,t._)("img",{class:"minus zoom",src:"img/minus_20X20.svg",onClick:l[2]||(l[2]=(...l)=>e.onZoomOut&&e.onZoomOut(...l))}),(0,t.Wm)(M,{modelValue:e.zoomInOutSlider,"onUpdate:modelValue":l[3]||(l[3]=l=>e.zoomInOutSlider=l),min:10,max:60,step:1,"track-size":"4px","thumb-size":"10px","inner-track-color":"white",color:"deep-orange",class:"menu-slider"},null,8,["modelValue"]),(0,t._)("img",{class:"plus",src:"img/plus_20X20.svg",onClick:l[4]||(l[4]=(...l)=>e.onZoomIn&&e.onZoomIn(...l))})])]),(0,t._)("div",_,[f,(0,t._)("div",b,[(0,t.Wm)(H,{options:e.angleList,"option-label":"label","option-value":"value",modelValue:e.angle,"onUpdate:modelValue":l[5]||(l[5]=l=>e.angle=l),style:{width:"60px",height:"14px"}},null,8,["options","modelValue"]),(0,t._)("img",{src:"img/CW_25X25.svg",class:"cw",onClick:l[6]||(l[6]=(...l)=>e.onNextRotate&&e.onNextRotate(...l))}),(0,t._)("img",{src:"img/CCW_25X25.svg",class:"ccw",onClick:l[7]||(l[7]=(...l)=>e.onPreviousRotate&&e.onPreviousRotate(...l))})])]),(0,t._)("div",y,[x,(0,t._)("div",{class:"button",onClick:l[8]||(l[8]=l=>e.isMirror=!e.isMirror)},S)]),(0,t._)("div",D,[C,(0,t._)("div",{class:"button",onClick:l[9]||(l[9]=l=>e.isFlip=!e.isFlip)},V)]),(0,t._)("div",X,[(0,t._)("img",{class:(0,o.C_)({freeze:e.isFreeze}),src:"img/freeze_45X45.svg"},null,2),(0,t._)("div",{class:"button",onClick:l[10]||(l[10]=(...l)=>e.onToggleFreeze&&e.onToggleFreeze(...l))},P)]),(0,t._)("div",z,[R,(0,t._)("div",{class:"button",onClick:l[11]||(l[11]=(...l)=>e.onReset&&e.onReset(...l))},O)])])])),_:1},8,["modelValue"])]),(0,t._)("div",U,[(0,t._)("img",{class:(0,o.C_)({icon:!0,selected:e.settingDropDisplay}),src:"img/setting_50X50.svg"},null,2),(0,t.Wm)(L,{modelValue:e.settingDropDisplay,"onUpdate:modelValue":l[22]||(l[22]=l=>e.settingDropDisplay=l),anchor:"bottom left",self:"top left",offset:[0,15],style:{"border-radius":"15px"}},{default:(0,t.w5)((()=>[(0,t._)("div",A,[(0,t._)("div",F,[(0,t._)("div",T,[(0,t._)("img",{style:{width:"15px",height:"15px",margin:"auto",display:"block"},class:(0,o.C_)({isAuthorized:e.isAuthorized}),src:"img/account_15X15.svg"},null,2)]),(0,t._)("div",W,[(0,t._)("div",{class:(0,o.C_)({username:!e.isAuthorized,"username-isAuthorized":e.isAuthorized})},[(0,t._)("div",j,(0,o.zw)(e.username),1)],2),e.isAuthorized?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:"button-google",onClick:l[13]||(l[13]=(...l)=>e.onGoogleSignIn&&e.onGoogleSignIn(...l))})),e.isAuthorized?((0,t.wg)(),(0,t.iD)("div",{key:1,class:"button",onClick:l[14]||(l[14]=(...l)=>e.onGoogleSignOut&&e.onGoogleSignOut(...l))},Z)):(0,t.kq)("",!0)])]),(0,t._)("div",q,[N,(0,t._)("div",null,[(0,t.Wm)(H,{options:e.fileLocationList,"option-label":"label","option-value":"value",modelValue:e.fileLocation,"onUpdate:modelValue":l[15]||(l[15]=l=>e.fileLocation=l),style:{width:"170px",height:"14px"}},null,8,["options","modelValue"])])]),(0,t._)("div",E,[G,(0,t._)("div",Q,[(0,t.Wm)(re,{modelValue:e.useMic,"onUpdate:modelValue":l[16]||(l[16]=l=>e.useMic=l),class:"toggle-mic"},null,8,["modelValue"]),(0,t.Wm)(H,{options:e.microDeviceList,"option-label":"label","option-value":"value",modelValue:e.microDevice,"onUpdate:modelValue":l[17]||(l[17]=l=>e.microDevice=l),style:{width:"140px",height:"14px"}},null,8,["options","modelValue"])])]),(0,t._)("div",Y,[B,(0,t._)("div",null,[(0,t.Wm)(H,{options:e.videoResolutionList,"option-label":"label","option-value":"value",modelValue:e.videoResolution,"onUpdate:modelValue":l[18]||(l[18]=l=>e.videoResolution=l),style:{width:"60px",height:"14px"}},null,8,["options","modelValue"])])]),(0,t._)("div",K,[J,(0,t._)("div",null,[(0,t.Wm)(H,{options:e.cameraCountdownSettingList,"option-label":"label","option-value":"value",modelValue:e.cameraCountdownSetting,"onUpdate:modelValue":l[19]||(l[19]=l=>e.cameraCountdownSetting=l),style:{width:"60px",height:"14px"}},null,8,["options","modelValue"])])]),(0,t._)("div",$,[ee,(0,t._)("div",le,[(0,t._)("div",ae,[(0,t.wy)((0,t._)("input",{type:"radio",id:"50",name:"refreshRate",value:"50","onUpdate:modelValue":l[20]||(l[20]=l=>e.refreshRate=l)},null,512),[[i.G2,e.refreshRate]]),te]),(0,t._)("div",oe,[(0,t.wy)((0,t._)("input",{type:"radio",id:"60",name:"refreshRate",value:"60","onUpdate:modelValue":l[21]||(l[21]=l=>e.refreshRate=l)},null,512),[[i.G2,e.refreshRate]]),ie])])]),se])])),_:1},8,["modelValue"])]),ne,(0,t._)("div",{class:"full-screen",onClick:l[23]||(l[23]=l=>e.isFullScreen=!e.isFullScreen)},[e.isFullScreen?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("img",ue)),e.isFullScreen?((0,t.wg)(),(0,t.iD)("img",ce)):(0,t.kq)("",!0)]),(0,t._)("div",{class:"snapshot-record",onClick:l[24]||(l[24]=(...l)=>e.onSnapshotAndRecord&&e.onSnapshotAndRecord(...l))},de),me,(0,t._)("div",ge,[(0,t._)("div",pe,[e.cameraCountdown>0?((0,t.wg)(),(0,t.j4)(ve,{key:0,"show-value":"",value:e.cameraCountdownProgress,"font-size":"24px",size:"48px",thickness:.15,color:"white"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.cameraCountdown),1)])),_:1},8,["value","thickness"])):(0,t.kq)("",!0)]),he,we]),(0,t._)("div",_e,[(0,t._)("div",fe,(0,o.zw)(e.motionPhotoSelectedIndex+1)+" / "+(0,o.zw)(e.motionPhotos.length),1),(0,t._)("div",be,[(0,t._)("img",{class:"icon",src:"img/camera_round_80X80.svg",onClick:l[25]||(l[25]=l=>e.onDisplayInsertNewImageAfterSelectionDialog(!0))})]),(0,t._)("div",ye,[(0,t._)("img",{class:"icon",src:"img/film_round_80X80.svg",onClick:l[26]||(l[26]=(...l)=>e.onGoStopMotionEdit&&e.onGoStopMotionEdit(...l))})])]),(0,t._)("div",{class:"thumbnail",onClick:l[27]||(l[27]=(...l)=>e.onGoViewer&&e.onGoViewer(...l))},[""!=e.thumbnail?((0,t.wg)(),(0,t.iD)("img",{key:0,src:e.thumbnail},null,8,xe)):(0,t.kq)("",!0),""!==e.outputVideoURL?((0,t.wg)(),(0,t.iD)("video",{key:1,src:e.outputVideoURL},null,8,ke)):(0,t.kq)("",!0)]),(0,t._)("div",{ref:"cameraWapper",class:(0,o.C_)({"camera-screen":!0,"resolution-9_16":.5625==e.resolutionRatio,"full-screen-mode":e.isFullScreen})},[e.motionPhotoSelected&&""!=e.motionPhotoSelected.src?((0,t.wg)(),(0,t.iD)("img",{key:0,class:"localPhoto",src:e.motionPhotoSelected.src},null,8,Se)):(0,t.kq)("",!0),(0,t._)("video",{ref:"localVideo",autoplay:"",playsinline:"",muted:"",style:(0,o.j5)({transform:"scale("+(1==e.angle.value||3==e.angle.value?(e.zoomInOutSlider/10*.75).toString():(e.zoomInOutSlider/10*1).toString())+") rotate("+90*e.angle.value+"deg)"+(e.isMirror?" scaleX(-1)":"")+(e.isFlip?" scaleY(-1)":"")})},null,4),(0,t._)("canvas",De,null,512)],2)]),Ce,(0,t._)("div",{class:(0,o.C_)({"photo-wrapper":!0,hidden:0==e.motionPhotos.length})},[(0,t._)("div",Ie,[(0,t.Wm)(Re,{class:"splide__arrow splide__arrow--prev","text-color":"white",icon:"arrow_back_ios_new",size:"6px",onClick:l[28]||(l[28]=l=>e.photoCarousel.go("-1"))}),(0,t.Wm)(Re,{class:"splide__arrow splide__arrow--next","text-color":"white",icon:"arrow_forward_ios",size:"6px",onClick:l[29]||(l[29]=l=>e.photoCarousel.go("+1"))})]),(0,t.Wm)(Be,{options:e.options,ref:"photoCarousel",style:{width:"min-content"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.motionPhotos,((a,i)=>((0,t.wg)(),(0,t.j4)(Qe,{key:a,class:(0,o.C_)({"is-active":a.selected,active:a.selected}),onClick:l=>e.setMotionPhotoSelected(a)},{default:(0,t.w5)((()=>[""!=a.src?((0,t.wg)(),(0,t.iD)("img",{key:0,src:a.src},null,8,Ve)):(0,t.kq)("",!0),(0,t._)("div",Xe,(0,o.zw)(i+1),1),(0,t.Wm)(L,{"touch-position":"","context-menu":"",onBeforeShow:l=>e.setMotionPhotoSelected(a)},{default:(0,t.w5)((()=>[(0,t.Wm)(Ze,{dense:"",style:{"min-width":"100px"}},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(We,{clickable:"",onClick:l[30]||(l[30]=l=>e.confirmDeleteViewerDialog=!0)},{default:(0,t.w5)((()=>[(0,t.Wm)(Fe,null,{default:(0,t.w5)((()=>[He])),_:1})])),_:1},512),[[al]]),(0,t.wy)((0,t.Wm)(We,{clickable:"",onClick:l[31]||(l[31]=l=>e.onDisplayInsertNewImageAfterSelectionDialog(!1))},{default:(0,t.w5)((()=>[(0,t.Wm)(Fe,null,{default:(0,t.w5)((()=>[Pe])),_:1})])),_:1},512),[[al]])])),_:1})])),_:2},1032,["onBeforeShow"])])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["options"])],2),(0,t.Wm)(ll,{modelValue:e.confirmDeleteViewerDialog,"onUpdate:modelValue":l[33]||(l[33]=l=>e.confirmDeleteViewerDialog=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(el,{class:"confirm-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(Je,{class:"body"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",ze,Me,512),[[al]]),Oe,Ue])),_:1}),(0,t.Wm)($e,{class:"footer"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",Ae,Te,512),[[al]]),(0,t.wy)((0,t._)("div",{class:"button",onClick:l[32]||(l[32]=l=>e.onDeleteSelectedViewer())},je,512),[[al]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(ll,{modelValue:e.insertNewImageAfterSelectionDialog,"onUpdate:modelValue":l[36]||(l[36]=l=>e.insertNewImageAfterSelectionDialog=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(el,{class:"insert-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(Je,{class:"body"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",Le,qe,512),[[al]]),Ne,Ee,Ge])),_:1}),(0,t.Wm)($e,{class:"footer"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",{class:"button",onClick:l[34]||(l[34]=l=>e.onAddMotionPhoto(!1))},Ye,512),[[al]]),(0,t.wy)((0,t._)("div",{class:"button",onClick:l[35]||(l[35]=l=>e.onAddMotionPhoto(!0))},Ke,512),[[al]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(7965),a(2799);var $e=a(1959),el=a(9582),ll=a(3617),al=a(8825),tl=a(958),ol=(a(3659),a(1935)),il=a(7958);const sl=(0,t.aZ)({name:"PageIndex",components:{combobox2:ol.Z,Splide:il.tv,SplideSlide:il.jw},setup(){let e={type:"slide",perPage:5,perMove:1,gap:"20px",pagination:!1,focus:"center",isNavigation:!0,updateOnMove:!0,arrows:!0,autoWidth:!0};const l=(0,el.tv)(),a=(0,ll.oR)(),o=(0,al.Z)(),{guidHelper:i,timestampHelper:s,initFileSystem:n,saveFile:u,removeTheFile:c,getUrlByFilename:r}=(0,tl.Z)(),v=(0,$e.iH)(),d=(0,$e.iH)(),m=(0,$e.Fl)((()=>a.getters["extension/cameraDevice"])),g=(0,$e.Fl)((()=>a.getters["extension/microDevice"])),p=(0,$e.Fl)((()=>a.getters["extension/resolution"])),h=e=>a.dispatch("extension/setCameraDevice",e),w=e=>a.dispatch("extension/setMicroDevice",e),_=e=>a.dispatch("extension/setResolution",e),f=(0,$e.Fl)((()=>a.getters["extension/motionPhotos"])),b=(0,$e.Fl)((()=>{var e=a.getters["extension/motionPhotos"].find((e=>!0===e.selected));return e})),y=(0,$e.Fl)((()=>{var e=a.getters["extension/motionPhotos"].findIndex((e=>!0===e.selected));return e})),x=(e,l)=>a.dispatch("extension/addMotionPhoto",{data:e,index:l}),k=e=>a.dispatch("extension/setMotionPhoto",e),S=e=>a.dispatch("extension/setMotionPhotoSelected",e),D=e=>a.dispatch("extension/deleteMotionPhoto",e),C=(0,$e.iH)(),I=(0,$e.iH)([]),V=(0,$e.iH)(),X=(0,$e.iH)([]),H=(0,$e.iH)({label:"ideaocam files on google drive",value:"ideaocam files"}),P=(0,$e.iH)([{label:"ideaocam files on google drive",value:"ideaocam files"}]),z=(0,$e.Fl)((()=>Number(R.value.label.split(" X ")[1])/Number(R.value.label.split(" X ")[0]))),R=(0,$e.iH)({label:"640 X 480",value:0}),M=(0,$e.iH)([{label:"640 X 360",value:0},{label:"640 X 480",value:1},{label:"960 X 540",value:2},{label:"1024 X 768",value:3},{label:"1280 X 720",value:4},{label:"1600 X 1200",value:5},{label:"1920 X 1080",value:6},{label:"2048 X 1536",value:7},{label:"2560 X 1440",value:8},{label:"3840 X 2160",value:9},{label:"3840 X 2880",value:10}]),O=(0,$e.iH)(!1),U=(0,$e.iH)(!1),A=(0,$e.iH)(!1),F=(0,$e.iH)(0),T=(0,$e.iH)(0),W=(0,$e.iH)(!1),j=(0,$e.iH)(!1),L=(0,$e.iH)(!1),Z=(0,$e.iH)(!0),q=(0,$e.iH)(!1),N=(0,$e.iH)("00"),E=(0,$e.iH)("00"),G=(0,$e.iH)(""),Q=(0,$e.iH)(""),Y=(0,$e.iH)({label:"480 P",value:0}),B=(0,$e.iH)([{label:"480 P",value:0},{label:"720 P",value:1},{label:"1080 P",value:2}]),K=(0,$e.iH)({label:"Off",value:0}),J=(0,$e.iH)([{label:"Off",value:0},{label:"1s",value:1},{label:"2s",value:2},{label:"3s",value:3},{label:"4s",value:4},{label:"5s",value:5}]),$=(0,$e.iH)({label:"0Â°",value:0}),ee=(0,$e.iH)([{label:"0Â°",value:0},{label:"90Â°",value:1},{label:"180Â°",value:2},{label:"270Â°",value:3}]),le=(0,$e.iH)(10),ae=(0,$e.iH)(!1),te=(0,$e.iH)(!1),oe=(0,$e.iH)(!1),ie=(0,$e.iH)(50),se=(0,$e.iH)(!1),ne=(0,$e.iH)(!1),ue=(0,$e.iH)(!1),ce=(0,$e.iH)(""),re=(0,$e.iH)(),ve=(0,$e.iH)(!0),de=(0,$e.iH)(!1);let me=!0,ge=null,pe=null,he=[],we=null,_e=!0,fe=null;const be=(0,$e.Fl)((()=>a.getters["extension/viewers"])),ye=e=>a.dispatch("extension/setViewers",e),xe=e=>a.dispatch("extension/deleteViewer",e),ke=((0,$e.Fl)((()=>a.getters["extension/googleDriveFolder"])),e=>a.dispatch("extension/setGoogleDriveFolder",e)),Se=(0,$e.Fl)((()=>a.getters["extension/authToken"])),De=e=>a.dispatch("extension/setAuthToken",e);(0,t.YP)(Se,(async e=>{if(e){let e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{method:"GET",headers:new Headers({Authorization:"Bearer "+Se.value})}),l=await e.json();if(l.error)return;ce.value=l.email,ue.value=!0}else ue.value=!1,ce.value=""}),{deep:!0,immediate:!0}),(0,t.YP)(A,(async e=>{me||(A.value?o.fullscreen.request():o.fullscreen.exit())})),(0,t.YP)((()=>o.fullscreen.isActive),(e=>{me||(A.value=o.fullscreen.isActive)})),(0,t.YP)(C,(async e=>{e&&!me&&(console.log("cameraDevice"),h(C.value),R.value=M.value[0],_(M.value[0]),null!=ge&&ge.getTracks().forEach((function(e){e.stop()})),ge=null,v.value.srcObject=null,v.value.src=null,await Ve())})),(0,t.YP)(R,(async e=>{e&&!me&&(console.log("resolution"),_(R.value),null!=ge&&ge.getTracks().forEach((function(e){e.stop()})),ge=null,v.value.srcObject=null,v.value.src=null,await Ve())})),(0,t.YP)(V,(async e=>{e&&!me&&(console.log("microDevice"),w(V.value),null!=ge&&ge.getTracks().forEach((function(e){e.stop()})),ge=null,v.value.srcObject=null,v.value.src=null,await Ve())})),(0,t.YP)(ie,(async e=>{e&&!me&&(console.log("refreshRate"),null!=ge&&ge.getTracks().forEach((function(e){e.stop()})),ge=null,v.value.srcObject=null,v.value.src=null,await Ve())})),(0,t.YP)(H,(async e=>{e&&!me&&(console.log("fileLocation"),ke(e))})),(0,t.bv)((async()=>{null!=ge&&ge.getTracks().forEach((function(e){e.stop()})),ge=null,v.value.srcObject=null,v.value.src=null,A.value=o.fullscreen.isActive,ke(H.value),null!=m.value&&Object.keys(m.value).length>0&&(C.value=m.value),null!=g.value&&Object.keys(g.value).length>0&&(V.value=g.value),null!=p.value&&Object.keys(p.value).length>0?R.value=p.value:(R.value=M.value[0],_(M.value[0])),await Ce(),await Ie(),fe=await n(),navigator.mediaDevices.ondevicechange=async()=>{if(_e=!0,await Ce(),await Ie(),0==I.value.length)return I.value=[],C.value={},void h({});C.value=I.value[0],h(C.value),V.value=X.value[0],w(V.value),R.value=M.value[0],_(M.value[0])},await Ee();for(let e in f.value){let l=await r(fe,f.value[e].filename,f.value[e].mimeType),a=Object.assign({},f.value[e]);a.src=l,k(a)}f.value.length>0&&(S(f.value[f.value.length-1]),G.value=f.value[f.value.length-1].src),me=!1,await Ve()}));const Ce=async()=>{let e=await navigator.mediaDevices.enumerateDevices(),l=e.filter((e=>"videoinput"===e.kind&&"Ideao DC400 (3429:0005)"===e.label));I.value=[];for(let a in l)I.value.push({label:l[a].label,value:l[a].deviceId});0==I.value.length?h({}):null!=m.value&&Object.keys(m.value).length>0?(C.value=m.value,h(C.value)):(C.value=I.value[0],h(C.value))},Ie=async()=>{let e=await navigator.mediaDevices.enumerateDevices(),l=e.filter((e=>"audioinput"===e.kind));X.value=[];for(let a in l)X.value.push({label:l[a].label,value:l[a].deviceId});null!=g.value&&Object.keys(g.value).length>0?V.value=g.value:(V.value=X.value[0],w(V.value))},Ve=async()=>{if(!_e)return;if(_e=!1,console.log("createMedia"),void 0==C.value||null==C.value||0==Object.keys(C.value).length)return;null!=ge&&ge.getTracks().forEach((function(e){e.stop()})),ge=null,v.value.srcObject=null,v.value.src=null;let e=Number(R.value.label.split(" X ")[0]),l=Number(R.value.label.split(" X ")[1]);try{ge=await navigator.mediaDevices.getUserMedia({audio:{deviceId:V.value.value},video:{deviceId:{exact:C.value.value},width:{exact:e},height:{exact:l}}})}catch(a){console.log(a),alert("The resolution you selected is not supported."),R.value=M.value[0],_(M.value[0]),me=!1,ge=await navigator.mediaDevices.getUserMedia({audio:{deviceId:V.value.value},video:{deviceId:{exact:C.value.value},width:{exact:Number(R.value.label.split(" X ")[0])},height:{exact:Number(R.value.label.split(" X ")[1])}}})}ge.getAudioTracks().forEach((e=>{e.enabled=Z.value})),v.value.onloadedmetadata=function(e){v.value.play()},"srcObject"in v.value?v.value.srcObject=ge:v.value.src=window.URL.createObjectURL(ge),pe=new MediaRecorder(ge),pe.addEventListener("dataavailable",Xe),pe.addEventListener("stop",He),_e=!0},Xe=e=>{he.push(e.data)},He=async e=>{var l=new Blob(he,{type:"video/webm; codecs=vp9"});he=[],G.value="";let a=s()+".webm",t="video/webm";await u(fe,a,l,t);let o=await r(fe,a,t);Q.value=o;let n=Object.assign([],be.value);n.push({id:i(),type:"video",mimeType:t,filename:a,src:o,ratio:Number(R.value.label.split(" X ")[1])/Number(R.value.label.split(" X ")[0]),createTime:new Date}),ye(n),await Ve()},Pe=()=>{l.push({path:"/stopMotion"})},ze=async()=>{if(void 0!=C.value&&null!=C.value&&0!=Object.keys(C.value).length&&!L.value){if(j.value=!0,K.value.value>0){F.value=K.value.value,T.value=1;let e=setInterval((async()=>{F.value-=1,T.value=1/(K.value.value-1)*(K.value.value-F.value)*100,0==F.value&&(clearInterval(e),await Ve(),setTimeout((()=>{Re()}),100))}),1e3)}else await Ve(),setTimeout((async()=>{await Re()}),100);j.value=!1}},Re=async()=>{d.value.width=ge.getVideoTracks()[0].getSettings().width,d.value.height=ge.getVideoTracks()[0].getSettings().height;let e=d.value.getContext("2d");e.mozImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1,e.imageSmoothingQuality="high",1===$.value.value||3===$.value.value?(d.value.width=ge.getVideoTracks()[0].getSettings().height,d.value.height=ge.getVideoTracks()[0].getSettings().width,e.translate(d.value.width/2,d.value.height/2),e.rotate(90*$.value.value*Math.PI/180),le.value>10&&e.scale(le.value/10,le.value/10),ae.value&&e.scale(-1,1),te.value&&e.scale(1,-1),e.translate(-d.value.height/2,-d.value.width/2)):(e.translate(d.value.width/2,d.value.height/2),e.rotate(90*$.value.value*Math.PI/180),le.value>10&&e.scale(le.value/10,le.value/10),ae.value&&e.scale(-1,1),te.value&&e.scale(1,-1),e.translate(-d.value.width/2,-d.value.height/2)),e.drawImage(v.value,0,0),Q.value="";let l="image/jpeg",a=s()+".jpg";d.value.toBlob((async e=>{await u(fe,a,e,l);let t=await r(fe,a,l);G.value=t;let o={id:i(),type:"image",mimeType:l,filename:a,src:t,ratio:Number(R.value.label.split(" X ")[1])/Number(R.value.label.split(" X ")[0]),createTime:new Date,isStopMotion:!0},s=Object.assign([],be.value);s.push(o),ye(s);let n=f.value.findIndex((e=>b.value.id===e.id));x(o,de.value?n:-1);let c=f.value.find(((e,l,a)=>e.id==a[a.length-1].id));S(c)}),l)},Me=async()=>{j.value||(L.value=!0,W.value=!0,q.value=!1,await Ve(),setTimeout((()=>{pe.start(10),Oe()}),100))},Oe=()=>{N.value="00",E.value="00",we=setInterval((()=>{if(q.value)return;let e=parseInt(E.value)+1;if(E.value=("0"+e).slice(-2),0==e){let e=parseInt(N.value)+1;N.value=("0"+e).slice(-2)}}),1e3)},Ue=async()=>{W.value=!1,pe.stop(),clearInterval(we),L.value=!1},Ae=async()=>{q.value=!q.value,"recording"===pe.state?pe.pause():"paused"===pe.state&&pe.resume()},Fe=()=>{Z.value=!Z.value,ge.getAudioTracks().forEach((e=>{e.enabled=Z.value}))},Te=()=>{null!=ge&&ge.getTracks().forEach((function(e){e.stop()})),ge=null,l.push({path:"/viewer"})},We=()=>{60!=le.value&&(le.value=le.value+1)},je=()=>{10!=le.value&&(le.value=le.value-1)},Le=()=>{let e=(0==$.value.value?3:$.value.value-1)%ee.value.length;$.value=ee.value.find((l=>l.value==e))},Ze=()=>{let e=($.value.value+1)%ee.value.length;$.value=ee.value.find((l=>l.value==e))},qe=()=>{oe.value=!v.value.paused,v.value.paused?v.value.play():v.value.pause()},Ne=()=>{le.value=10,$.value=ee.value[0],ae.value=!1,te.value=!1,v.value.play()},Ee=async()=>{gapi.load("client:auth2",(async()=>{gapi.client.init({apiKey:"AIzaSyBqKniM-np2VZ84evk-W0q2jLbJ0sdmO2o",discoveryDocs:[decodeURIComponent("https://content.googleapis.com/discovery/v1/apis/drive/v3/rest"),decodeURIComponent("https://www.googleapis.com/discovery/v1/apis/people/v1/rest"),decodeURIComponent("https://people.googleapis.com/%24discovery/rest?version=v1"),decodeURIComponent("https://classroom.googleapis.com/%24discovery/rest")],clientId:"276709432964-3u3a0fk731gs5eop04vdl2una1dfcl5l.apps.googleusercontent.com",scope:"profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials",fetch_basic_profile:!1}).then((async()=>{let e=gapi.auth2.getAuthInstance();var l=e.currentUser.get().hasGrantedScopes("profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials");if(l){De("");let l=e.currentUser.get();De(l.wc.access_token)}else De("")}))}))},Ge=async()=>{{const l=await gapi.auth2.getAuthInstance().signIn();var e=gapi.auth2.getAuthInstance().currentUser.get().hasGrantedScopes("profile email openid https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/classroom.announcements https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.courses.readonly https://www.googleapis.com/auth/classroom.topics.readonly https://www.googleapis.com/auth/classroom.courseworkmaterials");e&&De(l.wc.access_token)}},Qe=async()=>{gapi.auth2.getAuthInstance().disconnect(),De("")},Ye=()=>{l.push({path:"/"})},Be=()=>{l.push({path:"/StopMotionEdit"})},Ke=e=>{if(me)return;let l=f.value.find(((l,a)=>a==e.index));S(l)},Je=async()=>{let e=b.value.filename;xe(b.value),D(b.value),await c(fe,e),f.value.length>0?(S(f.value.slice()[0]),G.value=f.value[f.value.length-1].src):G.value=""},ol=async()=>{let e="image/jpeg",l=s()+".jpg",a=await fetch(b.value.src),t=await a.blob();await u(fe,l,t,e);let o=await r(fe,l,e);G.value=o;let n={id:i(),type:"image",mimeType:e,filename:l,src:o,ratio:Number(R.value.label.split(" X ")[1])/Number(R.value.label.split(" X ")[0]),createTime:new Date,isStopMotion:!0},c=Object.assign([],be.value);c.push(n),ye(c);var v=f.value.findIndex((e=>b.value.id===e.id));x(n,de.value?v:-1),S(n)},il=async e=>{de.value=e,ve.value?await ze():await ol()},sl=async e=>{ve.value=e,0==f.value.length||f.value[f.value.length-1].id==b.value.id?await il(!1):ne.value=!0};return{options:e,localVideo:v,canvas:d,cameraDevice:C,cameraDeviceList:I,fileLocation:H,fileLocationList:P,microDevice:V,microDeviceList:X,resolution:R,resolutionList:M,motionPhotos:f,setMotionPhotoSelected:S,motionPhotoSelected:b,motionPhotoSelectedIndex:y,resolutionRatio:z,menuDropDisplay:O,settingDropDisplay:U,isFullScreen:A,cameraCountdown:F,cameraCountdownProgress:T,isVideoMode:W,useMic:Z,videoPause:q,videoMinutes:N,videoSeconds:E,videoResolution:Y,videoResolutionList:B,cameraCountdownSetting:K,cameraCountdownSettingList:J,thumbnail:G,outputVideoURL:Q,angle:$,angleList:ee,zoomInOutSlider:le,isMirror:ae,isFlip:te,isFreeze:oe,refreshRate:ie,confirmDeleteViewerDialog:se,insertNewImageAfterSelectionDialog:ne,isAuthorized:ue,username:ce,photoCarousel:re,onGoStopMotion:Pe,onUseCamera:ze,onUseVideoStart:Me,onUseVideoStop:Ue,onUseVideoPause:Ae,onUseMic:Fe,onGoViewer:Te,onZoomIn:We,onZoomOut:je,onPreviousRotate:Le,onNextRotate:Ze,onToggleFreeze:qe,onReset:Ne,onGoogleSignIn:Ge,onGoogleSignOut:Qe,onSnapshotAndRecord:Ye,onGoStopMotionEdit:Be,onPhotoActive:Ke,onDeleteSelectedViewer:Je,onDuplicate:ol,onAddMotionPhoto:il,onDisplayInsertNewImageAfterSelectionDialog:sl}}});var nl=a(4260),ul=a(6335),cl=a(4015),rl=a(2582),vl=a(6122),dl=a(5151),ml=a(6114),gl=a(7011),pl=a(3414),hl=a(2035),wl=a(4390),_l=a(151),fl=a(5589),bl=a(9367),yl=a(677),xl=a(7518),kl=a.n(xl);const Sl=(0,nl.Z)(sl,[["render",Je],["__scopeId","data-v-03c2d225"]]),Dl=Sl;kl()(sl,"components",{QMenu:ul.Z,QSlider:cl.Z,QToggle:rl.Z,QCircularProgress:vl.Z,QResizeObserver:dl.Z,QBtn:ml.Z,QList:gl.Z,QItem:pl.Z,QItemSection:hl.Z,QDialog:wl.Z,QCard:_l.Z,QCardSection:fl.Z,QCardActions:bl.Z}),kl()(sl,"directives",{ClosePopup:yl.Z})}}]);